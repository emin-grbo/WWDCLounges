{
  "name": "coredata-lounge",
  "messages": [
    {
      "type": "message",
      "user": "U03EBH4MA8Y",
      "text": "This content can't be displayed.",
      "ts": "1654550156.467329",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "partying_face",
          "count": 13,
          "users": [
            "U03JRP87THN",
            "U03J6N8LDE0",
            "U03J8B88VE1",
            "U03JHBP20MP",
            "U03JSCDT2HE",
            "U03J207J01G",
            "U03JT5ANGJD",
            "U03J1UK2LLB",
            "U03HTHW18UX",
            "U03J4CSSF6G",
            "U03J21517RQ",
            "U03J22G8DT4",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "wwdc22",
          "count": 9,
          "users": [
            "U03JRP87THN",
            "U03J8B88VE1",
            "U03J1UK2LLB",
            "U03HZ4CM8BX",
            "U03HVDJJ1TQ",
            "U03HTHW18UX",
            "U03J4CSSF6G",
            "U03JEKVMV6D",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "crossed_fingers",
          "count": 5,
          "users": [
            "U03JEAH8E4A",
            "U03HTHW18UX",
            "U03JVMWUCMN",
            "U03J8B88VE1",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "heart",
          "count": 7,
          "users": [
            "U03JHBP20MP",
            "U03HTHW18UX",
            "U03HMD2QTRD",
            "U03JELDBMT3",
            "U03JE7D37QU",
            "U03J8B88VE1",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "fire",
          "count": 8,
          "users": [
            "U03JDHJMJS1",
            "U03J2SK1H3P",
            "U03HZ4CM8BX",
            "U03HTHW18UX",
            "U03J8B88VE1",
            "U03JEKVMV6D",
            "U03J4RTGZ51",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "flag-pt",
          "count": 1,
          "users": [
            "U03J8B88VE1"
          ]
        },
        {
          "name": "raised_hands",
          "count": 2,
          "users": [
            "U03JEG3EVL4",
            "U03HVCTNACW"
          ]
        },
        {
          "name": "es",
          "count": 1,
          "users": [
            "U03J9UWUV37"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "header",
          "text": {
            "type": "plain_text",
            "text": "Welcome to the Core Data Digital Lounge!",
            "emoji": true
          },
          "block_id": "dVj"
        },
        {
          "type": "image",
          "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/wwdc22/slack/System%20Services%20-%20regular%20hero%403x.png",
          "alt_text": "A multi-colored globe with nodes on a black background ",
          "block_id": "wAc"
        },
        {
          "type": "section",
          "text": {
            "type": "mrkdwn",
            "text": "Welcome to the WWDC22 Core Data Digital Lounge! We’ve got an exciting week planned for you. You can find the full schedule of events in the \u003chttps://developer.apple.com/news/?id=i5oafvym| Apple Developer app and on developer.apple.com\u003e, and as well as activities for all lounges."
          },
          "block_id": "12VfL"
        },
        {
          "type": "section",
          "text": {
            "type": "mrkdwn",
            "text": "If you haven't already, please take a moment to familiarize yourself with \u003chttps://developer.apple.com/news/?id=735utu4s|how the Digital Lounges will work\u003e."
          },
          "block_id": "hj2E"
        },
        {
          "type": "header",
          "text": {
            "type": "plain_text",
            "text": "WWDC22 Interactive Events Policy",
            "emoji": true
          },
          "block_id": "gd2"
        },
        {
          "type": "section",
          "text": {
            "type": "mrkdwn",
            "text": "We want to make sure these spaces are helpful and welcoming for everyone — developers and Apple employees alike. Please review and follow the \u003chttps://developer.apple.com/wwdc22/policies/interactive-events/1/Apple-Developer-WWDC22-Interactive-Events-Attendance-Policy.pdf| WWDC22 Interactive Events Policy\u003e."
          },
          "block_id": "fg+"
        },
        {
          "type": "section",
          "text": {
            "type": "mrkdwn",
            "text": "Have a great WWDC!"
          },
          "block_id": "Mai"
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HJA0EJ1G\u003e added a workflow to this channel: *Core Data - Ask a Question*.",
      "ts": "1654631867.225139",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reactions": [
        {
          "name": "eyes",
          "count": 2,
          "users": [
            "U03JRP87THN",
            "U03J1UBVC2X"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": null
    },
    {
      "client_msg_id": "faf97ea5-7df3-4d0f-8d9a-1de7f4907d4b",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Welcome to Q\u0026amp;A: Core Data! We’re looking forward to answering your questions. Select the:heavy_plus_sign:icon from the lower left, and find the Ask A Question workflow. Type in your question and it will be delivered directly to the team. We’ll answer as many questions as we can today. While it’s unlikely we’ll be able to address every question, they are all appreciated.  This is one of the best parts of WWDC for us.  Thanks for joining.",
      "ts": "1654631947.015539",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "partying_face",
          "count": 4,
          "users": [
            "U03JRP87THN",
            "U03J2019QTV",
            "U03HWU7EYBB",
            "U03JERVQBFX"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "bWe1R",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Welcome to Q\u0026A: Core Data! We’re looking forward to answering your questions. Select the"
                },
                {
                  "type": "emoji",
                  "name": "heavy_plus_sign",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": "icon from the lower left, and find the Ask A Question workflow. Type in your question and it will be delivered directly to the team. We’ll answer as many questions as we can today. While it’s unlikely we’ll be able to address every question, they are all appreciated.  This is one of the best parts of WWDC for us.  Thanks for joining."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JL18FUHH\u003e asked\n\u0026gt; Can `NSPersistentContainer.viewContext` become `nil`? Container itself is properly retained in app's delegate so it is never released. \n\u0026gt; \n\u0026gt; Trying to figure out why in our app `NSManagedObjects` are turned into a fault sometimes after they are being fetched from view context which in turn results in a crash.",
      "ts": "1654632317.075139",
      "thread_ts": "1654632317.075139",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 13,
      "latest_reply": "1654635690.035529",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "x=J=8",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JL18FUHH"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Can `NSPersistentContainer.viewContext` become `nil`? Container itself is properly retained in app's delegate so it is never released. \\n\\nTrying to figure out why in our app `NSManagedObjects` are turned into a fault sometimes after they are being fetched from view context which in turn results in a crash.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "6c0c8da5-0087-4fe4-9f8f-24bf70f154ef",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; Can `NSPersistentContainer.viewContext` become `nil`?\nNo. The viewContext property is set / initialized on read and not released until the container deallocates.",
          "ts": "1654632418.574899",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GGfvJ",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Can `NSPersistentContainer.viewContext` become `nil`?\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nNo. The viewContext property is set / initialized on read and not released until the container deallocates."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5ebc5919-b1ea-44ee-a1fa-200e8f9754d6",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "objects can turn into faults for a number of reasons but using query generations can help ensure they they are always fulfillable",
          "ts": "1654632427.493349",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Dfa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "objects can turn into faults for a number of reasons but using query generations can help ensure they they are always fulfillable"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b868f59d-23ec-4f61-92af-6a1f8207c3bd",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Are they faults or have they been deleted? Do you have a section of code calling `-reset` on the view context?",
          "ts": "1654632460.033329",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "NWg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Are they faults or have they been deleted? Do you have a section of code calling "
                    },
                    {
                      "type": "text",
                      "text": "-reset",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " on the view context?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f3b7ee52-5608-4fa2-8a31-8bd751696faf",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Some other possibilities would be the object was deleted, or it was released pending deallocation.",
          "ts": "1654632527.091139",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YbqD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Some other possibilities would be the object was deleted, or it was released pending deallocation."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1a1060a5-7118-497b-8898-47dc35463b85",
          "type": "message",
          "user": "U03JL18FUHH",
          "text": "Thanks for prompt replies. We never call `reset` on any of the contexts. Most of these errors where related to us using the object on the background thread. I think I eliminated all such cases, but we still see this issue.",
          "ts": "1654632570.755829",
          "thread_ts": "1654632317.075139",
          "edited": {
            "user": "U03JL18FUHH",
            "ts": "1654632599.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "fh5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for prompt replies. We never call "
                    },
                    {
                      "type": "text",
                      "text": "reset",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " on any of the contexts. Most of these errors where related to us using the object on the background thread. I think I eliminated all such cases, but we still see this issue."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "60e4dead-b8dc-4979-abd2-f595dbc34b7a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "`-com.apple.CoreData.ConcurrencyDebug 1`  can help.  But objects are turned into faults naturally when they are deleted or scheduled for deallocation",
          "ts": "1654632618.461049",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "odCu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "-com.apple.CoreData.ConcurrencyDebug 1 ",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " can help.  But objects are turned into faults naturally when they are deleted or scheduled for deallocation"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "49b9b730-ec1f-49e0-83b1-bed5a7861848",
          "type": "message",
          "user": "U03JL18FUHH",
          "text": "What can mark them as scheduled for deallocation?",
          "ts": "1654632648.223169",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a1rOU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "What can mark them as scheduled for deallocation?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ca656ff5-9e5c-49a2-866e-f3b8bb65e7f2",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "setting `-com.apple.CoreData.ConcurrencyDebug 1` in your apps arguments should help you zero in on any remaining thread-unsafe use (EDIT: aw admin disabled the “delete message” feature)",
          "ts": "1654632653.207689",
          "thread_ts": "1654632317.075139",
          "edited": {
            "user": "U03HK7797D0",
            "ts": "1654632683.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "j3a",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "setting "
                    },
                    {
                      "type": "text",
                      "text": "-com.apple.CoreData.ConcurrencyDebug 1",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " in your apps arguments should help you zero in on any remaining thread-unsafe use (EDIT: aw admin disabled the “delete message” feature)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "db372afa-2bad-4e84-b7ad-f85cdbc8246e",
          "type": "message",
          "user": "U03JL18FUHH",
          "text": "Btw, I tried the flag, but it doesn’t seem to work. Or I don’t understand how it should work. Code example (projects is list of managed objects fetched from view context):\n```            if let first = projects.first {\n                DispatchQueue.global().async { [weak self] in\n                    let persistentFirst = first\n                    self?.dispatchBackToMain(project: persistentFirst)\n                }\n            }```\nI would expect this code to fail assertion and break on line `let persistenFirst = first` or the line after that, but it doesn’t seem to be the case. Or does the assertion only happen when `context.perform { }` is used?",
          "ts": "1654632766.667519",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "H0+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Btw, I tried the flag, but it doesn’t seem to work. Or I don’t understand how it should work. Code example (projects is list of managed objects fetched from view context):\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"            if let first = projects.first {\\n                DispatchQueue.global().async { [weak self] in\\n                    let persistentFirst = first\\n                    self?.dispatchBackToMain(project: persistentFirst)\\n                }\\n            }\"}],\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would expect this code to fail assertion and break on line "
                    },
                    {
                      "type": "text",
                      "text": "let persistenFirst = first",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " or the line after that, but it doesn’t seem to be the case. Or does the assertion only happen when "
                    },
                    {
                      "type": "text",
                      "text": "context.perform { }",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is used?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "259f2375-e12c-41cd-8daf-20f303679f15",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "It asserts that `context.perform {}` is _always_ used to access managed objects belonging to background contexts and that main queue contexts are never referenced off the main thread. It doesn’t do anything if you’re using the confinement concurrency type, which you shouldn’t be using anyway as it’s been deprecated for like seven years.",
          "ts": "1654633930.164609",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Rsv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It asserts that "
                    },
                    {
                      "type": "text",
                      "text": "context.perform {}",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is "
                    },
                    {
                      "type": "text",
                      "text": "always",
                      "style": {
                        "italic": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " used to access managed objects belonging to background contexts and that main queue contexts are never referenced off the main thread. It doesn’t do anything if you’re using the confinement concurrency type, which you shouldn’t be using anyway as it’s been deprecated for like seven years."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1b9c8e18-b72a-4bb9-8ece-3b29cb100301",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "we don't treat the mere capture and passing of references as an API violation, since in theory you can capture an array of results, hold on to it, and then pass it back to the same MOC for work later.",
          "ts": "1654634045.215529",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            },
            {
              "name": "pray",
              "count": 1,
              "users": [
                "U03JL18FUHH"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TQA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "we don't treat the mere capture and passing of references as an API violation, since in theory you can capture an array of results, hold on to it, and then pass it back to the same MOC for work later."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ef401728-2e43-4282-a54d-132e8817e061",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "but if you were to access a property on such an object, we would assert",
          "ts": "1654634062.591629",
          "thread_ts": "1654632317.075139",
          "edited": {
            "user": "U03HJA0EJ1G",
            "ts": "1654634069.000000"
          },
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "boom",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            },
            {
              "name": "pray",
              "count": 1,
              "users": [
                "U03JL18FUHH"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lqA/O",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but if you were to access a property on such an object, we would assert"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1375d20a-8d06-43d6-ab89-fa4038b0e9c3",
          "type": "message",
          "user": "U03JL18FUHH",
          "text": "Thank you so much for your answers. Will investigate further and hopefully figure out what happens there (or figure out how to use query generations). :wave:",
          "ts": "1654635690.035529",
          "thread_ts": "1654632317.075139",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "p9dE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you so much for your answers. Will investigate further and hopefully figure out what happens there (or figure out how to use query generations). "
                    },
                    {
                      "type": "emoji",
                      "name": "wave",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; If my store description is pointing to a pre-seeded store that is in the bundle and I update that store in an update, will users still see the outdated store or will they start using the updated one?",
      "ts": "1654632553.210939",
      "thread_ts": "1654632553.210939",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 6,
      "latest_reply": "1654633179.457089",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "jEac",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If my store description is pointing to a pre-seeded store that is in the bundle and I update that store in an update, will users still see the outdated store or will they start using the updated one?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "238b6bae-5ebb-4f7f-9c30-cb7bbec061a3",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "they will see whatever version is in the app version they have; are you seeing otherwise?",
          "ts": "1654632556.916549",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Kv1vg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "they will see whatever version is in the app version they have; are you seeing otherwise?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "51abfaa3-aa4e-4b47-b318-c21d590948bd",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "I added a new entity to my model and populated my store with instances of that entity but when a view makes a fetch request for data, nothing shows. However, uninstalling and reinstalling the app fixes the issue.",
          "ts": "1654632635.467089",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "thinking_face",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qwK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I added a new entity to my model and populated my store with instances of that entity but when a view makes a fetch request for data, nothing shows. However, uninstalling and reinstalling the app fixes the issue."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f516aa9a-323a-4781-ae4f-280086a7a39d",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Everything in the bundle is signed, I’d expect a lot more to go wrong if the store wasn’t properly updated by the App Store…",
          "ts": "1654632813.051379",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KNJvp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Everything in the bundle is signed, I’d expect a lot more to go wrong if the store wasn’t properly updated by the App Store…"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b4416f39-5b87-4023-8dfc-5ab3d85c8b5d",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "First I’d double check that there’s no obvious caching issues. If you suspect an incomplete update maybe when it detects the problem your app can shasum the store and validate that it was updated properly (and submit a bug report if it wasn’t)",
          "ts": "1654632963.039969",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "T2k",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "First I’d double check that there’s no obvious caching issues. If you suspect an incomplete update maybe when it detects the problem your app can shasum the store and validate that it was updated properly (and submit a bug report if it wasn’t)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "04c224f6-51c6-47d1-9df9-7ed4957233a2",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Is there some other mechanism that caches data? I'd assume that whatever file the store description is pointing to would be the source of truth.",
          "ts": "1654633115.413339",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "SRr",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is there some other mechanism that caches data? I'd assume that whatever file the store description is pointing to would be the source of truth."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f1ada472-7dcd-449e-b093-5ec8cfe104b2",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "You can tell `NSFetchedResultsController` to create a cache when you initialize it (the `cacheName:` parameter) but it should invalidate correctly in this circumstance",
          "ts": "1654633179.457089",
          "thread_ts": "1654632553.210939",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KzSCF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can tell "
                    },
                    {
                      "type": "text",
                      "text": "NSFetchedResultsController",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to create a cache when you initialize it (the "
                    },
                    {
                      "type": "text",
                      "text": "cacheName:",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " parameter) but it should invalidate correctly in this circumstance"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; When using an `NSPersistentCloudKitContainer`, is there a download limit/throttle based on user count?",
      "ts": "1654632589.912449",
      "thread_ts": "1654632589.912449",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654633632.748319",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "DIREn",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"When using an `NSPersistentCloudKitContainer`, is there a download limit\\/throttle based on user count?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "150c80cc-1b6e-4488-9198-5c347503a188",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Not that NSPersistentCloudKitContainer imposes. The CloudKit servers will throttle / limit your applications operations as needed.",
          "ts": "1654632622.270099",
          "thread_ts": "1654632589.912449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y8m",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Not that NSPersistentCloudKitContainer imposes. The CloudKit servers will throttle / limit your applications operations as needed."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "13bd2ca4-243c-4bef-bee0-a90c95d675a8",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Do you know where I may find more info on how/when CloudKit will throttle?",
          "ts": "1654632772.312049",
          "thread_ts": "1654632589.912449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "96S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Do you know where I may find more info on how/when CloudKit will throttle?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "010d1ffe-67e0-4154-8ffb-e5dfa6c38427",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Or perhaps what the quota might be for synching data per user/month?",
          "ts": "1654633285.853749",
          "thread_ts": "1654632589.912449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "69ICi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Or perhaps what the quota might be for synching data per user/month?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "34561d1a-4a38-4111-8ccf-b573b825fd2d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That’s a question for the CloudKit Q\u0026amp;A / Labs.",
          "ts": "1654633632.748319",
          "thread_ts": "1654632589.912449",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-2",
              "count": 1,
              "users": [
                "U03JEL0155X"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ayAKC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s a question for the CloudKit Q\u0026A / Labs."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J2019QTV\u003e asked\n\u0026gt; I’m using NSPersistentCloudkitContainer along with shared record zones. Is there a simple way to get notified when something related to the CKShare changes? For example, permissions? I’d like my UI to update as soon as permissions change. ",
      "ts": "1654632679.691719",
      "thread_ts": "1654632679.691719",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654632797.796579",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "GA0",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J2019QTV"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I\\u2019m using NSPersistentCloudkitContainer along with shared record zones. Is there a simple way to get notified when something related to the CKShare changes? For example, permissions? I\\u2019d like my UI to update as soon as permissions change. \"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "16b84dea-5e1b-4d37-aeb5-0bed5cce16e8",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No. You can file an enhancement request for this, but the existing way we see clients do this today is using NSPersistentCloudKitContainerEventTypeImport and fetching the share their showing.",
          "ts": "1654632732.005819",
          "thread_ts": "1654632679.691719",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J2019QTV"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "K8GX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No. You can file an enhancement request for this, but the existing way we see clients do this today is using NSPersistentCloudKitContainerEventTypeImport and fetching the share their showing."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7C8AC404-2CC9-4AFA-BAA4-175641ACDF5D",
          "type": "message",
          "user": "U03J2019QTV",
          "text": "Ok. Thank you. I have already filed the enhancement request. ",
          "ts": "1654632797.796579",
          "thread_ts": "1654632679.691719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3LSHp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok. Thank"
                    },
                    {
                      "type": "text",
                      "text": " you"
                    },
                    {
                      "type": "text",
                      "text": ". I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "already"
                    },
                    {
                      "type": "text",
                      "text": " filed the enhancement request"
                    },
                    {
                      "type": "text",
                      "text": ". "
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JL1TQP5Z\u003e asked\n\u0026gt; For cases when app doesn’t use CloudKit but uses sqlite file for synchronisation of data between devices. And app on different devices may have different CoreData model versions. CoreData automatically cleans all new attributes and entities when app with older model version opens db created by app with newer model version. Is there any way to open db in app with older model without data lost?  Thank you!",
      "ts": "1654632682.887299",
      "thread_ts": "1654632682.887299",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654632822.494119",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "EAv",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JL1TQP5Z"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"For cases when app doesn\\u2019t use CloudKit but uses sqlite file for synchronisation of data between devices. And app on different devices may have different CoreData model versions. CoreData automatically cleans all new attributes and entities when app with older model version opens db created by app with newer model version. Is there any way to open db in app with older model without data lost?  Thank you!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "accd7db6-f73b-4472-acaf-5bbc9981959d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Forward binary compatibility is pretty tricky, since older versions of the app won't maintain those columns or know what they are for.",
          "ts": "1654632724.884249",
          "thread_ts": "1654632682.887299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Xj0tz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Forward binary compatibility is pretty tricky, since older versions of the app won't maintain those columns or know what they are for."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ddd10105-a85c-4b9b-a35f-15349d0ec2fe",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You'd have to either share the matching model with the file, or disable automatic migration",
          "ts": "1654632744.729549",
          "thread_ts": "1654632682.887299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bZILG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You'd have to either share the matching model with the file, or disable automatic migration"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2e8f1958-758e-4e82-9767-0a862f4864e0",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We'd usually discourage trying to share db files \"back in time\" with older versions of the app though.  There are a lot of assumptions about the data that an old version just won't know to handle",
          "ts": "1654632822.494119",
          "thread_ts": "1654632682.887299",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JL1TQP5Z"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hjl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We'd usually discourage trying to share db files \"back in time\" with older versions of the app though.  There are a lot of assumptions about the data that an old version just won't know to handle"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J4DRK4SY\u003e asked\n\u0026gt; Are there circumstances in which a persistent store coordinator that has been successfully initialized could lose its persistent store? I've been getting occasional reports of crashes due to a save w/o a store, but I'm not doing anything to remove the store",
      "ts": "1654632854.166989",
      "thread_ts": "1654632854.166989",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 10,
      "latest_reply": "1654634746.870339",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "KSMy",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J4DRK4SY"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Are there circumstances in which a persistent store coordinator that has been successfully initialized could lose its persistent store? I've been getting occasional reports of crashes due to a save w\\/o a store, but I'm not doing anything to remove the store\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "6725507a-ddcf-48b1-98a1-f928c58be56f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "hmm.  That's usually because the store was never successfully added and the error on load was ignored",
          "ts": "1654633089.679679",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RuY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "hmm.  That's usually because the store was never successfully added and the error on load was ignored"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9ef290c9-0ae8-41b9-8266-a9d11d907149",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Do you have the error message ?",
          "ts": "1654633101.088389",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Y5I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Do you have the error message ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "879fd1f7-f2f9-47a0-9ee2-eba58dfa2c51",
          "type": "message",
          "user": "U03J4DRK4SY",
          "text": "It's an NSInternalInconsistencyException with the message \"This NSPersistentStoreCoordinator has no persistent stores (unknown).  It cannot perform a save operation.\"",
          "ts": "1654633137.740249",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=94tU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It's an NSInternalInconsistencyException with the message \"This NSPersistentStoreCoordinator has no persistent stores (unknown).  It cannot perform a save operation.\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "23a82a0c-7357-4557-b6a5-324a2246a3ed",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "That is the error when saving, but when you were calling addPersistentStore, there was likely an error then",
          "ts": "1654633364.831809",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yD2g",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That is the error when saving, but when you were calling addPersistentStore, there was likely an error then"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7af3ba15-fcd5-4bec-bb7b-c6c11cab39b8",
          "type": "message",
          "user": "U03J4DRK4SY",
          "text": "Hmm, I fatalError if loadPersistentStores reports an error (bad, I know) so that shouldn't be possible",
          "ts": "1654633449.326599",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a6C0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hmm, I fatalError if loadPersistentStores reports an error (bad, I know) so that shouldn't be possible"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0df42aac-b1e3-4590-9733-964d8c65959f",
          "type": "message",
          "user": "U03J4DRK4SY",
          "text": "Maybe there's a race condition between what's triggering the save and loading the store...",
          "ts": "1654633471.736029",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vB5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Maybe there's a race condition between what's triggering the save and loading the store..."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df6751fa-b47e-4b13-bced-35af60ed0b5e",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "that is also possible, you can check if there are persistentStores on the persistentStoreCoordinator before calling save",
          "ts": "1654633631.289839",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J4DRK4SY"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6fdvv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that is also possible, you can check if there are persistentStores on the persistentStoreCoordinator before calling save"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4fd85c98-2509-487f-9c45-03e45f6b10b7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If you have a sysdiagnose attached to a feedback report, we can take a look.",
          "ts": "1654633944.102829",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Phs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you have a sysdiagnose attached to a feedback report, we can take a look."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ce6f3a4a-37c8-490c-aa6f-3bf61ec9bfd6",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "or if you have some convenient excerpt of the logs, here.",
          "ts": "1654633953.786479",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+67q",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "or if you have some convenient excerpt of the logs, here."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9259e44c-6a5f-41d2-a9d1-225a94b31cab",
          "type": "message",
          "user": "U03J4DRK4SY",
          "text": "if it comes up again, I'll definitely file a feedback, but I think the race condition is the most likely explanation",
          "ts": "1654634746.870339",
          "thread_ts": "1654632854.166989",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bnyqi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if it comes up again, I'll definitely file a feedback, but I think the race condition is the most likely explanation"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JENQA0TB\u003e asked\n\u0026gt; I'm syncing a local Core Data store with NSPersistentCloudKitContainer to CloudKit to the public database. But I don't want my users to be able to make changes to the public database. I have a command that's only available when running my app in Xcode that lets me update the public database. Is it possible that a user could edit the .sqlite file directly and cause the public database to be synced with their changes? I've been playing around with roles on the CloudKit dashboard, but I'm not sure exactly what to do to prevent users from changing the public database.",
      "ts": "1654632873.227379",
      "thread_ts": "1654632873.227379",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 15,
      "latest_reply": "1654634239.613039",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "3Yjci",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JENQA0TB"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'm syncing a local Core Data store with NSPersistentCloudKitContainer to CloudKit to the public database. But I don't want my users to be able to make changes to the public database. I have a command that's only available when running my app in Xcode that lets me update the public database. Is it possible that a user could edit the .sqlite file directly and cause the public database to be synced with their changes? I've been playing around with roles on the CloudKit dashboard, but I'm not sure exactly what to do to prevent users from changing the public database.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "0dc96520-9117-4ab4-b7e5-2d82d6cb0a52",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; but I’m not sure exactly what to do to prevent users from changing the public database.\nGenerally you can prevent users from writing to the public database by simply not providing that functionality in your app. Yes, they could hand edit the sqlite file and cause updates to be pushed to the server.",
          "ts": "1654633001.785829",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CKoD",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"but I\\u2019m not sure exactly what to do to prevent users from changing the public database.\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Generally you can prevent users from writing to the public database by simply not providing that functionality in your app. Yes, they could hand edit the sqlite file and cause updates to be pushed to the server."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "764bbf43-00cc-46da-a708-cb2033c0f878",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But if you’re worried about that as an attack vector the public database isn’t really what you want. It’s necessarily public.",
          "ts": "1654633022.594629",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/roy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But if you’re worried about that as an attack vector the public database isn’t really what you want. It’s necessarily public."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "157dff77-8034-42a7-9331-7aff825ae8f5",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Oh that’s a shame. I wanted to use the Public database to provide a template library that all my users could have access to. But I don’t want them to edit the public database. They could edit the database and cause all sorts of damage, even deleting content that would then sync to all other users. Do you have a suggestion of an alternative approach?",
          "ts": "1654633261.862229",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KjhQ7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Oh that’s a shame. I wanted to use the Public database to provide a template library that all my users could have access to. But I don’t want them to edit the public database. They could edit the database and cause all sorts of damage, even deleting content that would then sync to all other users. Do you have a suggestion of an alternative approach?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d6a2e905-8116-4919-a383-0952eb530634",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "I guess then I don’t really understand the purpose of Core Data syncing to the public database. Even if you were syncing a leaderboard with game scores, then anyone of your users could hand edit the sqlite file and mess with the leaderboard.",
          "ts": "1654633342.670769",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rX8+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I guess then I don’t really understand the purpose of Core Data syncing to the public database. Even if you were syncing a leaderboard with game scores, then anyone of your users could hand edit the sqlite file and mess with the leaderboard."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "de93e590-25f5-43a1-a45f-99cc108bf22e",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "The public database doesn’t support custom access controls, but that’s not the same thing as it being an invalid construct. If your use case requires custom access controls, or validated updates, most clients generally roll their own server or host the assets as static resources.",
          "ts": "1654633585.833009",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8iIq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The public database doesn’t support custom access controls, but that’s not the same thing as it being an invalid construct. If your use case requires custom access controls, or validated updates, most clients generally roll their own server or host the assets as static resources."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3b91a35e-fa6c-4600-9406-16484117a0f6",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Can you set the read/write/create privileges for that record type on CloudKit to be a custom admin user? Then users have access to read the records but not write them unless they are an admin user.",
          "ts": "1654633656.594439",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7NYFS",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Can you set the read/write/create privileges for that record type on CloudKit to be a custom admin user? Then users have access to read the records but not write them unless they are an admin user."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "11ca41ea-0c26-463c-920a-597f8e85316f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "that’s a question for the CloudKit Q\u0026amp;A / Labs.",
          "ts": "1654633719.086489",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pad",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that’s a question for the CloudKit Q\u0026A / Labs."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "966ac11c-bb68-4e5e-9930-85aa282d5fe1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s not clear to me if the access controls for the public database are customizable from the console.",
          "ts": "1654633731.586279",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UJkJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s not clear to me if the access controls for the public database are customizable from the console."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9051a388-d3c5-4c5a-b91b-9ed6c03bc80f",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "They are customizable. I just was wondering if they in fact worked with Core Data syncing. I set world to read-only, authenticated/icloud to read-only, and creator to read-write. But I guess someone could still add a record to the local sqlite database and that would sync up. Not sure.",
          "ts": "1654633898.878919",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lteVn",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "They are customizable. I just was wondering if they in fact worked with Core Data syncing. I set world to read-only, authenticated/icloud to read-only, and creator to read-write. But I guess someone could still add a record to the local sqlite database and that would sync up. Not sure."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7262e035-44d9-4084-aa40-83a87c98a29f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Well… you should test that :wink:",
          "ts": "1654633951.562159",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "F658",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Well… you should test that "
                    },
                    {
                      "type": "emoji",
                      "name": "wink",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f915ad13-0764-4f97-80d9-207ebd32818a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you have customized the access controls local writes should be denied by the server.",
          "ts": "1654633962.489719",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a=F",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you have customized the access controls local writes should be denied by the server."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d021c30c-99d4-4657-b218-5fa11816b0e1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you’ve customized the access controls to suit your desired use case, I would test writes on a non-admin account (i.e. build a version of the app that allows mutations to template data) and see what errors come back.",
          "ts": "1654634157.138699",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "btJ3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you’ve customized the access controls to suit your desired use case, I would test writes on a non-admin account (i.e. build a version of the app that allows mutations to template data) and see what errors come back."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b4288e47-94a1-4b48-a8d2-744e8b635168",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If NSPersistentCloudKitContainer isn’t handling things as you would like (i.e. it continues to retry writes), you can file a feedback report for the desired enhancements.",
          "ts": "1654634188.509679",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "toz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If NSPersistentCloudKitContainer isn’t handling things as you would like (i.e. it continues to retry writes), you can file a feedback report for the desired enhancements."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f315244f-359e-4f36-b6bb-8628741aa6ab",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "I’m going to have one of my beta testers test it out with their account to see what happens.",
          "ts": "1654634221.524109",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jHDM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m going to have one of my beta testers test it out with their account to see what happens."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9fa6008e-fb5f-4b49-91b6-00a13d8b3fa1",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Ah that’s a good thing to look out for. To make sure it doesn’t get stuck trying to write.",
          "ts": "1654634239.613039",
          "thread_ts": "1654632873.227379",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "U7l",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ah that’s a good thing to look out for. To make sure it doesn’t get stuck trying to write."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JH1D27C1\u003e asked\n\u0026gt; I see some unexpected behaviour with NSPersistentCloudKitContainer, where out of date data is displayed, or data seemingly goes missing, etc..\n\u0026gt; \n\u0026gt; 1. What is the recommended Merge Policy? I use `.mergeByPropertyObjectTrump` but I'm not sure if it should be `.mergeByPropertyStoreTrump`, or something else?\n\u0026gt; \n\u0026gt; 2. Are there any side effects if `setQueryGenerationFrom` is never called?\n\u0026gt; \n\u0026gt; 3. Are there any side effects if the persistent history transactions aren't cleaned up (other than disk usage)\n\u0026gt; \n\u0026gt; Thanks!",
      "ts": "1654632881.349149",
      "thread_ts": "1654632881.349149",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 1,
      "latest_reply": "1654632956.225409",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Hqx8",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JH1D27C1"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I see some unexpected behaviour with NSPersistentCloudKitContainer, where out of date data is displayed, or data seemingly goes missing, etc..\\n\\n1. What is the recommended Merge Policy? I use `.mergeByPropertyObjectTrump` but I'm not sure if it should be `.mergeByPropertyStoreTrump`, or something else?\\n\\n2. Are there any side effects if `setQueryGenerationFrom` is never called?\\n\\n3. Are there any side effects if the persistent history transactions aren't cleaned up (other than disk usage)\\n\\nThanks!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "2430682a-2776-4a17-9a41-0805933bd063",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "1. The recommended merge policy would be whatever fits your customer experience and business requirements. Each merge policy addresses specific requirements. We prefer mergeByPropertyObjectTrump.\n2. The side effects would be that you would always be working with the “most recent live” version of the object. And potentially they could mutate from underneath UI elements like a NSFetchedResultsController\n3. There are no side effects but you could potentially cause a reset sync if you destroy history and the experience may seem broken. We discourage purging history.\n",
          "ts": "1654632956.225409",
          "thread_ts": "1654632881.349149",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9f7P",
              "elements": [
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"The recommended merge policy would be whatever fits your customer experience and business requirements. Each merge policy addresses specific requirements. We prefer mergeByPropertyObjectTrump.\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"The side effects would be that you would always be working with the \\u201cmost recent live\\u201d version of the object. And potentially they could mutate from underneath UI elements like a NSFetchedResultsController\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"There are no side effects but you could potentially cause a reset sync if you destroy history and the experience may seem broken. We discourage purging history.\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J9P3A03V\u003e asked\n\u0026gt; I'm at a design/ experiment stage with my app which previously used Filemaker, and migrating it to CoreData. Am I insane to be thinking that I may want to have multiple, separate persistent stores?",
      "ts": "1654632937.947619",
      "thread_ts": "1654632937.947619",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 22,
      "latest_reply": "1654635291.604899",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "anv",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J9P3A03V"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'm at a design\\/ experiment stage with my app which previously used Filemaker, and migrating it to CoreData. Am I insane to be thinking that I may want to have multiple, separate persistent stores?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "7c6b3e9e-5f4f-4bd3-ae47-ebf7ef8eb75d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "No ?",
          "ts": "1654632956.438939",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9co",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4e7b54ec-e777-4dc0-a28d-634effb08426",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "More stores has some expense, on the order of a couple file descriptors, so you don't want an unbounded number",
          "ts": "1654632993.027799",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cAsg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "More stores has some expense, on the order of a couple file descriptors, so you don't want an unbounded number"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "177ffc9e-f817-48d8-8c62-07ef1e69976b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "and indices can't index across multiple different stores, so searching across \"all stores\" is more expensive",
          "ts": "1654633015.808809",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YL8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "and indices can't index across multiple different stores, so searching across \"all stores\" is more expensive"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2202c216-0e98-4af4-995c-9906c36fc229",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "but it's pretty common to have disjoint data graphs separated into different stores",
          "ts": "1654633032.972659",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nJr",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but it's pretty common to have disjoint data graphs separated into different stores"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e30544e5-9c02-4a3b-9506-d6ae367a9594",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "like local vs cloud",
          "ts": "1654633040.214709",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7WO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "like local vs cloud"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "eea79207-fa66-46d4-8d0a-f08d2ed7da54",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "How would a disjoint data graph manifest itself? You mean unrelated tables? or?",
          "ts": "1654633070.158239",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GuIbN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "How would a disjoint data graph manifest itself? You mean unrelated tables? or?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5ccb7f86-197a-4e91-9d42-52d792a36618",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "if you have a collection of entities, and that collection doesn't have a relationship to anything else",
          "ts": "1654633178.040419",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J9P3A03V"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5uO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if you have a collection of entities, and that collection doesn't have a relationship to anything else"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3c95f14d-d9c5-42d7-8951-1eb780df39d7",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "There is plenty of that in my design!",
          "ts": "1654633206.888119",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kzG3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There is plenty of that in my design!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "794ce8bc-658e-453a-9930-0c6208691215",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Or rather, they will be related by lookups",
          "ts": "1654633239.848019",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6ioGC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Or rather, they will be related by lookups"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ddd0c843-f2d2-4cbe-88e7-0bcfd1700284",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "on ios, there's a limit of ~256 file descriptors.  An sqlite db uses 3.  You'll want to leave a bunch for the system and memory mapping assets and such.  So you're looking at a small 10s of simultaneously open stores",
          "ts": "1654633274.675019",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jzf5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "on ios, there's a limit of ~256 file descriptors.  An sqlite db uses 3.  You'll want to leave a bunch for the system and memory mapping assets and such.  So you're looking at a small 10s of simultaneously open stores"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a79a1b98-eab7-4bd4-9fea-6539cef67b99",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "most folks stick to single digits",
          "ts": "1654633282.867939",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "oRJCD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "most folks stick to single digits"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d1d34e5a-638d-40b6-adda-ef6589614625",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "I was thinking of 3 at the most",
          "ts": "1654633299.820669",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YWN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I was thinking of 3 at the most"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e721f6c3-0faa-4037-8e85-914bb7597e7d",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "But not open simultaneously",
          "ts": "1654633318.317419",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Zsk+Y",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But not open simultaneously"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6dce8b19-1abf-4621-9d9f-cc48667879ca",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "So I need to keep track of veterinary medicine usage, by tracking treatments. I was thinking of having the purchased medicines and their information separate and copy in relevant info into the treatment. While keeping a record of medicines that were purchased and used.",
          "ts": "1654633497.573969",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nQPzH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So I need to keep track of veterinary medicine usage, by tracking treatments. I was thinking of having the purchased medicines and their information separate and copy in relevant info into the treatment. While keeping a record of medicines that were purchased and used."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "08fdab77-305a-411e-bacd-07bcdb2af47b",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "I was advised to denormalise, and this seemed like a good way to do it?",
          "ts": "1654633538.093559",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6g6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I was advised to denormalise, and this seemed like a good way to do it?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "85a7d552-3d9c-46b8-8007-8ec8b5c5e59c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Well, the devil is in the details.  You can denormalize entities within a single database file too",
          "ts": "1654634171.226129",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yWZd4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Well, the devil is in the details.  You can denormalize entities within a single database file too"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "312357b5-288e-42e3-b011-32bf181a8406",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Usually folks break things into different files if the access patterns (or outright permissions) are very different",
          "ts": "1654634196.339729",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yYR+t",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Usually folks break things into different files if the access patterns (or outright permissions) are very different"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "373ef2cc-9800-4ffc-a455-2930740773e1",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "or if the content is servicing two very different component areas",
          "ts": "1654634211.978689",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GZfgX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "or if the content is servicing two very different component areas"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c1822ba1-d89e-4b44-b8e8-86b38fe817e2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "so \"local only data\" and \"cloud sync'd data\" are common",
          "ts": "1654634230.770529",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WwmA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so \"local only data\" and \"cloud sync'd data\" are common"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "42ed842e-f75a-4505-b856-ddb002375fb4",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "as are files with different data protection classes",
          "ts": "1654634245.065459",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QRV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "as are files with different data protection classes"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a0cfcb67-948b-4b56-aa18-533c182af82b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "or \"pre canned assets shipping with app\" vs \"user generated content\"",
          "ts": "1654634261.818459",
          "thread_ts": "1654632937.947619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ri4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "or \"pre canned assets shipping with app\" vs \"user generated content\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9f9331b8-7d28-4af4-9002-f26c055cf870",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "I have 6 years of data in Filemaker, which I can now migrate fairly easily into CoreData. I think I’ll try looking at performance with separate stores vs with entities that don’t have a relationship.  Thanks for the insights.",
          "ts": "1654635291.604899",
          "thread_ts": "1654632937.947619",
          "edited": {
            "user": "U03J9P3A03V",
            "ts": "1654635314.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ywRX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I have 6 years of data in Filemaker, which I can now migrate fairly easily into CoreData. I think I’ll try looking at performance with separate stores vs with entities that don’t have a relationship.  Thanks for the insights."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JJAEKX4H\u003e asked\n\u0026gt; Can a @FetchRequest in SwiftUI refresh the view if a relationship object is updated ? \n\u0026gt; If A have a to one relationship to B. If my view have a @FetchRequest of [A]. When I make an update to B, can the @FetchRequest reload the SwiftUI view to show the changes from B ?",
      "ts": "1654632980.696239",
      "thread_ts": "1654632980.696239",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654633256.328539",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "oOLG",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JJAEKX4H"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Can a @FetchRequest in SwiftUI refresh the view if a relationship object is updated ? \\nIf A have a to one relationship to B. If my view have a @FetchRequest of [A]. When I make an update to B, can the @FetchRequest reload the SwiftUI view to show the changes from B ?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "ae1e104f-c50c-4831-83fb-8696623a17d9",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "`@FetchRequest` is powered by `NSFetchedResultsController` and has the same limitations, one of which is that it won’t follow changes across relationship boundaries that affect sort/predicate matching. The best way to work around this is to add \u003chttps://developer.apple.com/documentation/coredata/nsderivedattributedescription|Derived Attributes\u003e on the fetched entity",
          "ts": "1654633079.502129",
          "thread_ts": "1654632980.696239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3=p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is powered by "
                    },
                    {
                      "type": "text",
                      "text": "NSFetchedResultsController",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and has the same limitations, one of which is that it won’t follow changes across relationship boundaries that affect sort/predicate matching. The best way to work around this is to add "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nsderivedattributedescription",
                      "text": "Derived Attributes"
                    },
                    {
                      "type": "text",
                      "text": " on the fetched entity"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "75c327c1-265b-4ae1-8ce3-e3db3209342d",
          "type": "message",
          "user": "U03JJAEKX4H",
          "text": "Thanks for the suggestion ! That’s what I have been looking for !",
          "ts": "1654633256.328539",
          "thread_ts": "1654632980.696239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "tada",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "41/9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for the suggestion ! That’s what I have been looking for !"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J20RCBKM\u003e asked\n\u0026gt; Is accessing a CloudKit DB supported yet for users that don't have an iCloud account? I'd like to use CloudKit for my next iOS application but I know some of my users don't use iCloud. Thank you!",
      "ts": "1654633179.919549",
      "thread_ts": "1654633179.919549",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654633441.131409",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "uqnA",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J20RCBKM"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is accessing a CloudKit DB supported yet for users that don't have an iCloud account? I'd like to use CloudKit for my next iOS application but I know some of my users don't use iCloud. Thank you!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "834ec81c-9ba4-4300-a53f-783af676407c",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "The data stored in a public database can be read by every user, even if that user isn’t signed in to their iCloud account.",
          "ts": "1654633197.456419",
          "thread_ts": "1654633179.919549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sgT7b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The data stored in a public database can be read by every user, even if that user isn’t signed in to their iCloud account."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "02c69234-5b9d-45e3-b2d9-f9e864688e66",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Accessing the private database requires the user to be signed into an iCloud account.",
          "ts": "1654633236.433659",
          "thread_ts": "1654633179.919549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sdEov",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Accessing the private database requires the user to be signed into an iCloud account."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8bb750e9-7b90-4ac6-8745-7d6a57bf933a",
          "type": "message",
          "user": "U03J20RCBKM",
          "text": "Is there anything planned to let users access their own data without having to sign up for iCloud?",
          "ts": "1654633285.079409",
          "thread_ts": "1654633179.919549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OeJ/9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is there anything planned to let users access their own data without having to sign up for iCloud?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5290cac0-7cda-43ff-9118-b00b92f67820",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think that's a question for the CloudKit team.  AFAIK private databases require account credentials.",
          "ts": "1654633398.445479",
          "thread_ts": "1654633179.919549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2w5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think that's a question for the CloudKit team.  AFAIK private databases require account credentials."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b803df9f-f122-4e74-9e07-5a15bf60e9f9",
          "type": "message",
          "user": "U03J20RCBKM",
          "text": "Great, thank you!",
          "ts": "1654633441.131409",
          "thread_ts": "1654633179.919549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "S5jmq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Great, thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JH1D27C1\u003e asked\n\u0026gt; With NSPersistentCloutKitContainer  seem to focus on one particular aspect. Is there any possibility of a \"source of truth\" sample project, which demonstrates:\n\u0026gt; \n\u0026gt; * Best practice for apps with multiple extensions, sharing data\n\u0026gt; * All the nitty gritty details, such as merge policies, data deduplication\n\u0026gt; * Best practices for informing users when sync events are occurring, or the progress/status of sync\n\u0026gt; * Best practices for handling errors (e.g. quota exceeded) so the user can be notified accordingly\n\u0026gt; \n\u0026gt; There just seems to be a lot of gotchas in the default setup and the solutions aren't obvious.",
      "ts": "1654633202.820549",
      "thread_ts": "1654633202.820549",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 30,
      "latest_reply": "1654635416.509159",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "0+h",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JH1D27C1"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"With NSPersistentCloutKitContainer  seem to focus on one particular aspect. Is there any possibility of a \\\"source of truth\\\" sample project, which demonstrates:\\n\\n* Best practice for apps with multiple extensions, sharing data\\n* All the nitty gritty details, such as merge policies, data deduplication\\n* Best practices for informing users when sync events are occurring, or the progress\\/status of sync\\n* Best practices for handling errors (e.g. quota exceeded) so the user can be notified accordingly\\n\\nThere just seems to be a lot of gotchas in the default setup and the solutions aren't obvious.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "dc73e4fd-e5c8-4e88-93a9-5e500f2705aa",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; * Best practice for apps with multiple extensions, sharing data\nClients generally use an app group. That’s not a specific NSPersistentCloudKitContainer problem, but more of a consideration about how applications share data among multiple experiences (extensions, widgets, etc).\n\n\u0026gt; All the nitty gritty details, such as merge policies, data deduplication\nThese are use case / app specific. If you have specific questions you can ask them here or in feedback reports.\n\n\u0026gt; Best practices for informing users when sync events are occurring, or the progress/status of sync\nNSPersistentCloudKitContainerEvent and its related notification are generally used for this purpose. \u003chttps://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainerevent?language=objc\u003e\n\n\u0026gt; * Best practices for handling errors (e.g. quota exceeded) so the user can be notified accordingly\nYou can observe them via NSPersistentCloudKitContainerEvent and notify your user accordingly.",
          "ts": "1654633355.617369",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3O/vp",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"* Best practice for apps with multiple extensions, sharing data\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Clients generally use an app group. That’s not a specific NSPersistentCloudKitContainer problem, but more of a consideration about how applications share data among multiple experiences (extensions, widgets, etc).\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"All the nitty gritty details, such as merge policies, data deduplication\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "These are use case / app specific. If you have specific questions you can ask them here or in feedback reports.\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Best practices for informing users when sync events are occurring, or the progress\\/status of sync\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nNSPersistentCloudKitContainerEvent and its related notification are generally used for this purpose. "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainerevent?language=objc",
                      "text": ""
                    },
                    {
                      "type": "text",
                      "text": "\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"* Best practices for handling errors (e.g. quota exceeded) so the user can be notified accordingly\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can observe them via NSPersistentCloudKitContainerEvent and notify your user accordingly."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c522eb6c-843f-426e-9011-1a18f775558e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If you're finding that you don't get enough status information out of `NSPersistentCloudKitContainerEvent` please file an enhancement request",
          "ts": "1654633689.292769",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "F8HUf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you're finding that you don't get enough status information out of "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainerEvent",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " please file an enhancement request"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b6b789b2-68c8-401d-9c1c-8b66ca7342e5",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Thanks Nick - my ultimate problem is that I’m getting many reports of removed or missing data. It’s too big of a burden to ask users for a sysdiagnose, and the total stack for NSPersistentCloudKitContainer is so large when working across multiple app extensions, Core Data and iCloud. There’s so many potential points of failure and hard to determine whether:\n\n1. Is it a UI issue?\n2. It is a transaction merging issue?\n3. Is it a CloudKit issue?\n4. Is it a configuration issue?\nIt would be great if there was a single project that was a working implementation of sharing a Core Data database both across extensions and iCloud, and showing the implications of different merge policies (for example) with the entire setup.",
          "ts": "1654633727.346049",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9+yk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks Nick - my ultimate problem is that I’m getting many reports of removed or missing data. It’s too big of a burden to ask users for a sysdiagnose, and the total stack for NSPersistentCloudKitContainer is so large when working across multiple app extensions, Core Data and iCloud. There’s so many potential points of failure and hard to determine whether:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Is it a UI issue?\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"It is a transaction merging issue?\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Is it a CloudKit issue?\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Is it a configuration issue?\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nIt would be great if there was a single project that was a working implementation of sharing a Core Data database both across extensions and iCloud, and showing the implications of different merge policies (for example) with the entire setup."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "32279f3f-67fc-47dc-a846-134503ef666a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "For a group of processes, you can use a group container so they can all share access to the same files.",
          "ts": "1654633761.118319",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "w/O",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For a group of processes, you can use a group container so they can all share access to the same files."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7d628c39-9b8e-45d8-b3f1-bbc67369f5b8",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "One challenge with extensions is that they simply don't get much processing time, so it can be difficult for them to complete a network sync operation.  We'd generally suggest using the application to drive the syncing and have the extensions reflect that data",
          "ts": "1654633828.750079",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4Nrm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "One challenge with extensions is that they simply don't get much processing time, so it can be difficult for them to complete a network sync operation.  We'd generally suggest using the application to drive the syncing and have the extensions reflect that data"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3f5a68fc-69b3-4f68-95f6-e417f3e4f99c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You can file an enhancement request for us to include more in the sample project.",
          "ts": "1654633840.535299",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZgM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can file an enhancement request for us to include more in the sample project."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "01558f36-66bc-478e-afbc-8e01a793f5a5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "persistent history and remote change notifications can help with the UI cycle",
          "ts": "1654633848.814089",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "E0R1v",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "persistent history and remote change notifications can help with the UI cycle"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4fb520db-c996-4b74-bbec-4261683aec0b",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I think more generally these experiences are difficult to craft in a representative way because everyone’s product goals are different. We usually prefer feedback reports with a sample application in them (or your actual application) so that we can align on the specific challenges you’re facing.",
          "ts": "1654633922.906789",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZTK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think more generally these experiences are difficult to craft in a representative way because everyone’s product goals are different. We usually prefer feedback reports with a sample application in them (or your actual application) so that we can align on the specific challenges you’re facing."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6b3e585-99d3-455f-a228-54807a6c4e8f",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Ok thank you - just general feedback then that NSPersistentCloudKitContainer is amazing and super useful, but when something goes wrong it can be a real head-scratcher.",
          "ts": "1654634273.744089",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nmAsN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok thank you - just general feedback then that NSPersistentCloudKitContainer is amazing and super useful, but when something goes wrong it can be a real head-scratcher."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e443b0d7-ecbd-4bdd-9a17-4cd70ce2fc29",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Feedback on improvements is appreciated.  We are generally tackling the \"when something goes wrong\" issue with logging, persistent history, and NSPersistentCloudKitContainerEvent",
          "ts": "1654634406.094219",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CQImu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Feedback on improvements is appreciated.  We are generally tackling the \"when something goes wrong\" issue with logging, persistent history, and NSPersistentCloudKitContainerEvent"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5cce2ffd-6b12-4173-92af-d06f7f771796",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt;  but when something goes wrong it can be a real head-scratcher.\nI highly recommend you watch this session tomorrow. \u003chttps://developer.apple.com/wwdc22/10119\u003e",
          "ts": "1654634409.602719",
          "thread_ts": "1654633202.820549",
          "attachments": [
            {
              "fallback": "Apple Developer: Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "id": 1,
              "title": "Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "title_link": "https://developer.apple.com/wwdc22/10119",
              "text": "Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation...",
              "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/124/6615/6615_wide_250x141_2x.jpg",
              "service_name": "Apple Developer",
              "service_icon": "https://developer.apple.com/favicon.ico",
              "from_url": "https://developer.apple.com/wwdc22/10119",
              "original_url": "https://developer.apple.com/wwdc22/10119",
              "blocks": null
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2629",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\" but when something goes wrong it can be a real head-scratcher.\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I highly recommend you watch this session tomorrow. "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/wwdc22/10119",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cc252547-5f91-4cef-820f-07d5a38d11c8",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "\u003c@U03HMJ2P5MJ\u003e might also ...",
          "ts": "1654634416.136879",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "C6DMD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HMJ2P5MJ"
                    },
                    {
                      "type": "text",
                      "text": " might also ..."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "71495a01-f2b1-4377-8b6b-4b41a221ed32",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "have that",
          "ts": "1654634417.421779",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "q1mlH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "have that"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "327ebe65-4c4a-4d52-90b2-c837668bbdcd",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Oh just on the extension processing time: if an extension can’t complete it sync with CloudKit, could that lead to any negative effects?",
          "ts": "1654634442.485099",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "M=Tzy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Oh just on the extension processing time: if an extension can’t complete it sync with CloudKit, could that lead to any negative effects?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a00aa345-3d24-4276-a288-1ca438af8463",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Not generally. Sync resumes when the app is launched",
          "ts": "1654634461.806309",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "goD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Not generally. Sync resumes when the app is launched"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2c8ffcbe-83ba-4524-a1ce-8179c4161db0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "The primary consequence is data staleness.",
          "ts": "1654634469.570839",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/oZlM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The primary consequence is data staleness."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d29df9c3-9602-4c93-aa85-2c27017196aa",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "if only the extension is  running.",
          "ts": "1654634476.902389",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DntoY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if only the extension is  running."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2b0edd1b-2cbb-4c5a-a106-8a720dd0bc1e",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "I’ve given CloudKit entitlements to my Intents extension so, for example, if you use a shortcut then other devices are notified ASAP without main app launch.",
          "ts": "1654634479.140539",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VJ5Py",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’ve given CloudKit entitlements to my Intents extension so, for example, if you use a shortcut then other devices are notified ASAP without main app launch."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ace7f2e7-0aa9-4be7-964f-2d9913ed8bde",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Enabling one of the approved background modes (like network activity, etc) can help.",
          "ts": "1654634489.786149",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QDbb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Enabling one of the approved background modes (like network activity, etc) can help."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4f605df2-81df-41ff-b51d-8098e8625a37",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Yeah the extension rarely survives long enough for us to finish an work with CloudKit.",
          "ts": "1654634514.182809",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "FxHVZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah the extension rarely survives long enough for us to finish an work with CloudKit."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "65439c41-711d-4490-a530-7fd99f5146c8",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Figured that was the case - but if it doesn’t complete, there’s no risk of data loss or anything?",
          "ts": "1654634534.685519",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pVTZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Figured that was the case - but if it doesn’t complete, there’s no risk of data loss or anything?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8ddff883-ab1a-4a1b-84ca-3e33cef57c53",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "(I’ll be watching that video, and I have a lab, but i’m getting a lot of users complain about data loss now that I’ve migrated the app to NSPersistentCloudKitContainer, which is extremely stressful and I’ve no idea how to deal with it at this point).",
          "ts": "1654634610.382569",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rCv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "(I’ll be watching that video, and I have a lab, but i’m getting a lot of users complain about data loss now that I’ve migrated the app to NSPersistentCloudKitContainer, which is extremely stressful and I’ve no idea how to deal with it at this point)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c41fc813-fd92-4b6e-ad6f-0e89e32a9e3a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Let's start with a feedback report.  The session will go into detail about the kind of data that would be valuable to gather",
          "ts": "1654634666.615709",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Wjh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Let's start with a feedback report.  The session will go into detail about the kind of data that would be valuable to gather"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "38a81cc4-05ec-4552-842f-db1870384bcc",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt;  which is extremely stressful and I’ve no idea how to deal with it at this point)\nThe way we make that tractable is through feedback reports with logs",
          "ts": "1654634690.732259",
          "thread_ts": "1654633202.820549",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654634704.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mOi",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\" which is extremely stressful and I\\u2019ve no idea how to deal with it at this point)\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The way we make that tractable is through feedback reports with logs"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c04e9a66-6f85-4d64-bc21-334db389077b",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Yes, but gathering a sysdiagnose from a random user for an issue that only intermittently occurs and I have no idea how to replicate, means logs are generally not possible.",
          "ts": "1654634803.984049",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "gSl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, but gathering a sysdiagnose from a random user for an issue that only intermittently occurs and I have no idea how to replicate, means logs are generally not possible."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "69a8e4fb-6b15-4cc3-9b4c-78db9e777290",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "(this is what leads me back to the initial question, of making sure everything is setup “correctly” to begin with)",
          "ts": "1654634893.369749",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Tcigo",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "(this is what leads me back to the initial question, of making sure everything is setup “correctly” to begin with)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "73c97c2c-2766-4d95-9439-63c66440bcae",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "I will start with a feedback report and go there - thanks!",
          "ts": "1654635000.446439",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Txj8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I will start with a feedback report and go there - thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a95759bb-e24c-46b3-8cca-cce261015468",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "*from there",
          "ts": "1654635004.610559",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "El7f",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "*from there"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9d387de9-f18a-4034-a43e-abc8cbd3493d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Nick talks about testing in the session.",
          "ts": "1654635073.022519",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "d1Jj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Nick talks about testing in the session."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6a378367-d252-4324-a7fa-56ed26c22f34",
          "type": "message",
          "user": "U03JH1D27C1",
          "text": "Thanks - I’ll be watching!\n\n(just submitted FB10080236)",
          "ts": "1654635416.509159",
          "thread_ts": "1654633202.820549",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "joiuk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks - I’ll be watching!\n\n(just submitted FB10080236)"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEN2SZT7\u003e asked\n\u0026gt; Is there a way I can unarchive `CD_moveReceipt` object created when doing cloudkit share so I can see the contents inside it. This is for the custom implementation of the sync behaviour that uses the same schema/data that is generated on Cloudkit by CoreData.",
      "ts": "1654633765.403629",
      "thread_ts": "1654633765.403629",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654634504.375529",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "jRUN",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEN2SZT7"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a way I can unarchive `CD_moveReceipt` object created when doing cloudkit share so I can see the contents inside it. This is for the custom implementation of the sync behaviour that uses the same schema\\/data that is generated on Cloudkit by CoreData.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "d8497fb5-8c01-406a-bd54-6cd2f9c7112c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No",
          "ts": "1654633773.894309",
          "thread_ts": "1654633765.403629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RksCj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f7adeeed-f453-498c-8e2b-234d1acdf085",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Its contents and encoding are a private implementation detail of the framework.",
          "ts": "1654633801.550459",
          "thread_ts": "1654633765.403629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WzfW9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Its contents and encoding are a private implementation detail of the framework."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df5f064e-2bca-4b2b-bd1b-139d4a8dafd5",
          "type": "message",
          "user": "U03JEN2SZT7",
          "text": "Can I ask what kind of information does it contain? and why was it added.?\n\nI have a custom implementation that downloads and uploads those records from CloudKit that were created by `NSCloudKitPersistentContainer` .",
          "ts": "1654634101.391079",
          "thread_ts": "1654633765.403629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sYA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Can I ask what kind of information does it contain? and why was it added.?\n\nI have a custom implementation that downloads and uploads those records from CloudKit that were created by "
                    },
                    {
                      "type": "text",
                      "text": "NSCloudKitPersistentContainer",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " ."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df1c6b7e-2937-4c9b-89ac-c79202e8e2f0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No, your implementation should not attempt to mutate it. If it is present on a record it must be preserved, if it is absent it must not be populated.",
          "ts": "1654634293.092029",
          "thread_ts": "1654633765.403629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XBBU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No, your implementation should not attempt to mutate it. If it is present on a record it must be preserved, if it is absent it must not be populated."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "93f7e422-87b5-4ea5-b180-d29f580192cd",
          "type": "message",
          "user": "U03JEN2SZT7",
          "text": "Sure, thanks.",
          "ts": "1654634504.375529",
          "thread_ts": "1654633765.403629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wVJsp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sure, thanks."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J9P3A03V\u003e asked\n\u0026gt; Does @FetchRequest in SwiftUI have all of the functionality of an NSFetchedResultsController? Or should I use NSFetchedResultsController in SwiftUI",
      "ts": "1654634046.083539",
      "thread_ts": "1654634046.083539",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 7,
      "latest_reply": "1654635784.797069",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "ADH",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J9P3A03V"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Does @FetchRequest in SwiftUI have all of the functionality of an NSFetchedResultsController? Or should I use NSFetchedResultsController in SwiftUI\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "f593487e-6b11-49cd-aea2-5ec43fd71261",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "You can pass an `NSFetchRequest` to `@FetchRequest`’s initializer, so it’s _basically_ equivalent. What are you trying to do?",
          "ts": "1654634091.660629",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HM6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can pass an "
                    },
                    {
                      "type": "text",
                      "text": "NSFetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "’s initializer, so it’s "
                    },
                    {
                      "type": "text",
                      "text": "basically",
                      "style": {
                        "italic": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " equivalent. What are you trying to do?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "68140e34-8a40-4cf9-b379-80f381ae9110",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "My app’s database will grow exponentially each year and the data can’t be archived.  I’m very keen to be able to limit my fetches efficiently and was told that NSFetchedResultsController was the way. Then one online video I saw (not Apple) suggested that @FetchRequest wrapped NSFetchedResultsController. So I wondered.",
          "ts": "1654634270.046639",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DWN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "My app’s database will grow exponentially each year and the data can’t be archived.  I’m very keen to be able to limit my fetches efficiently and was told that NSFetchedResultsController was the way. Then one online video I saw (not Apple) suggested that @FetchRequest wrapped NSFetchedResultsController. So I wondered."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c4693c1-bb23-4b1d-a1cd-0c3cb033d543",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Under the hood `@FetchRequest` composes an `NSFetchedResultsController` so you’ll get the same results for the same inputs, it’s just that `@FetchRequest`’s inputs are more limited.",
          "ts": "1654634288.736289",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZjX6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Under the hood "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " composes an "
                    },
                    {
                      "type": "text",
                      "text": "NSFetchedResultsController",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " so you’ll get the same results for the same inputs, it’s just that "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "’s inputs are more limited."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c93392db-bfd7-4742-bf8d-720a4fe82988",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Thank you. That gives me lots to go forward with.",
          "ts": "1654634371.984289",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pKHu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you. That gives me lots to go forward with."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dac68362-5458-4873-9fc2-b614543569c5",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "The story around faulting is also complicated, because SwiftUI’s list diffing will trigger batch faults (but not object faults) so at scale the current best practice is to enable `returnsObjectsAsFaults` in the fetch request",
          "ts": "1654634379.652869",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dNt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The story around faulting is also complicated, because SwiftUI’s list diffing will trigger batch faults (but not object faults) so at scale the current best practice is to enable "
                    },
                    {
                      "type": "text",
                      "text": "returnsObjectsAsFaults",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " in the fetch request"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "201fad65-8619-451f-8006-02e4fc9060dc",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "I had wondered if SwiftUI imposed limits in the fetchrequest based on knowing how much data might be present on the screen.",
          "ts": "1654634537.040959",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Rxbb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I had wondered if SwiftUI imposed limits in the fetchrequest based on knowing how much data might be present on the screen."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1c8b5105-ccc0-43d1-bfad-845cdc3c531a",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "if you tell SwiftUI to track the state of a billion rows it will die trying",
          "ts": "1654635784.797069",
          "thread_ts": "1654634046.083539",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "joy",
              "count": 2,
              "users": [
                "U03J9P3A03V",
                "U03JRNQKC2U"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "COf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if you tell SwiftUI to track the state of a billion rows it will die trying"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEKFMT4Z\u003e asked\n\u0026gt; Any best practices for a Core Data sqlite store in an app group directory where an app and extensions can read and write? This setup leads to rare crashes probably related to multiple processes doing something concurrently.",
      "ts": "1654634468.708539",
      "thread_ts": "1654634468.708539",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 18,
      "latest_reply": "1654635868.850379",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Jp2G",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEKFMT4Z"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Any best practices for a Core Data sqlite store in an app group directory where an app and extensions can read and write? This setup leads to rare crashes probably related to multiple processes doing something concurrently.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "4c935e1d-b2b4-4f92-b130-3ff0695ee413",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We support multiple processes writing to the same sqlite database (preferably in our default configuration, which is SQLite's WAL mode)",
          "ts": "1654634526.788019",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Qt2i",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We support multiple processes writing to the same sqlite database (preferably in our default configuration, which is SQLite's WAL mode)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c749607-c982-4603-a28c-1a87dfaedc51",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "what kind of crashes ?",
          "ts": "1654634531.903369",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "v3F",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "what kind of crashes ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f8171ad7-7b5d-4597-a5ab-8c09f59e5008",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Do you have a crash report handy? Off the top of my head the most common reason for this is that Runningboard will kill the process when it suspends with a write lock on the database.",
          "ts": "1654634543.571439",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ssD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Do you have a crash report handy? Off the top of my head the most common reason for this is that Runningboard will kill the process when it suspends with a write lock on the database."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "41af4431-1df7-42b8-b917-e72b34c12aee",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "The most common is the system decided that you don't get any more time when running in the background.",
          "ts": "1654634561.717949",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hLE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The most common is the system decided that you don't get any more time when running in the background."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1cd3ecb8-7a34-49a0-b72c-62e646825302",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "If you are seeing crashes around the file being removed out from underneath the other due to file manipulations , we provide API to interact with the files that will not crash the App/Extenstion :\n\n```NSPersistentStoreCoordinator.h\n\n- (BOOL)destroyPersistentStoreAtURL:(NSURL *)url withType:(NSString *)storeType options:(nullable NSDictionary *)options error:(NSError**)error API_AVAILABLE(macosx(10.11),ios(9.0));\n\n- (BOOL)replacePersistentStoreAtURL:(NSURL *)destinationURL destinationOptions:(nullable NSDictionary *)destinationOptions withPersistentStoreFromURL:(NSURL *)sourceURL sourceOptions:(nullable NSDictionary *)sourceOptions storeType:(NSString *)storeType error:(NSError**)error API_AVAILABLE(macosx(10.11),ios(9.0));```",
          "ts": "1654634666.502229",
          "thread_ts": "1654634468.708539",
          "edited": {
            "user": "U03J90D8Q0Y",
            "ts": "1654634926.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Yc+WB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you are seeing crashes around the file being removed out from underneath the other due to file manipulations , we provide API to interact with the files that will not crash the App/Extenstion :\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"NSPersistentStoreCoordinator.h\\n\\n- (BOOL)destroyPersistentStoreAtURL:(NSURL *)url withType:(NSString *)storeType options:(nullable NSDictionary *)options error:(NSError**)error API_AVAILABLE(macosx(10.11),ios(9.0));\\n\\n- (BOOL)replacePersistentStoreAtURL:(NSURL *)destinationURL destinationOptions:(nullable NSDictionary *)destinationOptions withPersistentStoreFromURL:(NSURL *)sourceURL sourceOptions:(nullable NSDictionary *)sourceOptions storeType:(NSString *)storeType error:(NSError**)error API_AVAILABLE(macosx(10.11),ios(9.0));\"}],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f03bef91-5b01-4c90-b033-c746d38ad220",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "We're still experimenting on this, but it happens during stack setup. NSSQLiteErrorDomain error 11, We changed some things and then got NSSQLiteErrorDomain error 261 sometimes. We migrated from deleting with FileManager to using these destroyPersistentStoreAtURL and replacePersistentStoreAtURL APIs.",
          "ts": "1654634840.626959",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "INQ0z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We're still experimenting on this, but it happens during stack setup. NSSQLiteErrorDomain error 11, We changed some things and then got NSSQLiteErrorDomain error 261 sometimes. We migrated from deleting with FileManager to using these destroyPersistentStoreAtURL and replacePersistentStoreAtURL APIs."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0d96f078-8ec5-4c74-bbee-f7651c394bb8",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "`11` is `SQLITE_CORRUPT`, `261`\u003chttps://www.sqlite.org/rescode.html#busy_recovery| is \u003e`SQLITE_BUSY_RECOVERY`, so that’s strictly an improvement :grimacing:\n\nAre you able to reproduce this on demand or are you just getting reports from the field?",
          "ts": "1654635090.050919",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PF8Yt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "11",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is "
                    },
                    {
                      "type": "text",
                      "text": "SQLITE_CORRUPT",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", "
                    },
                    {
                      "type": "text",
                      "text": "261",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "link",
                      "url": "https://www.sqlite.org/rescode.html#busy_recovery",
                      "text": " is "
                    },
                    {
                      "type": "text",
                      "text": "SQLITE_BUSY_RECOVERY",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", so that’s strictly an improvement "
                    },
                    {
                      "type": "emoji",
                      "name": "grimacing",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": "\n\nAre you able to reproduce this on demand or are you just getting reports from the field?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7c6fb0e6-729c-4712-a0bd-c2fd8b5db89c",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "From the field",
          "ts": "1654635111.366029",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "n/4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "From the field"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "35c8bf33-d60b-4f29-8b0b-6b118f732fa8",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "So technically for App Group shared databases the stack setup doesn't need additional locking or synchronization for multiple processes and Core Data should handle this out of the box? But it could be an issue, if setup doesn't complete and holds a lock while in the background?",
          "ts": "1654635246.361939",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "SI7cN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So technically for App Group shared databases the stack setup doesn't need additional locking or synchronization for multiple processes and Core Data should handle this out of the box? But it could be an issue, if setup doesn't complete and holds a lock while in the background?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4b66f6c5-3623-458f-8ffa-0757198a622f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "you definitely don't want to be deleting things shared by multiple processes",
          "ts": "1654635267.071299",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2zX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "you definitely don't want to be deleting things shared by multiple processes"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7f4723ca-58fc-418a-afff-ece9d9698390",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the file locks managing that are on the files ... being deleted.  ends badly.",
          "ts": "1654635290.496659",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cyHc3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the file locks managing that are on the files ... being deleted.  ends badly."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9f85e73b-5fcf-4305-b70d-cdba78cca0cc",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "We ship a database seed in the app bundle and sometimes have to replace the current database with a new one from the bundle.",
          "ts": "1654635366.197659",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sw=I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We ship a database seed in the app bundle and sometimes have to replace the current database with a new one from the bundle."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f951a970-f5c7-4f8e-a460-35752893f885",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "`replacePersistentStoreAtURL` is the right tool for that",
          "ts": "1654635419.499009",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ryn",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "replacePersistentStoreAtURL",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is the right tool for that"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "576916b4-afcf-4bbd-bf17-5909098be884",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "Yes, we use replacePersistentStoreAtURL for this",
          "ts": "1654635493.810199",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "SgVZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, we use replacePersistentStoreAtURL for this"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d6bb9cf2-0569-4cab-aaf1-e6b10c76bed3",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "It helps for your own sanity to ensure that only one process responsible for the ownership of the files themselves",
          "ts": "1654635578.849849",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OUFDX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It helps for your own sanity to ensure that only one process responsible for the ownership of the files themselves"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "46281cf2-5ca1-412e-bd2f-60462e13f8ca",
          "type": "message",
          "user": "U03HK7797D0",
          "text": ":point_up::skin-tone-2: indeed, just because something can be done safely doesn’t mean it will—most multiprocess clients have the best luck if only one process is responsible for emergency reconstruction work",
          "ts": "1654635689.601659",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Vp2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "point_up",
                      "skin_tone": 2
                    },
                    {
                      "type": "text",
                      "text": " indeed, just because something can be done safely doesn’t mean it will—most multiprocess clients have the best luck if only one process is responsible for emergency reconstruction work"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ee6e9087-99e2-47d8-a4f8-944d90184e3f",
          "type": "message",
          "user": "U03JEKFMT4Z",
          "text": "Okay thank you. We don't have that currently. Widgets and other extensions can also do this replacement from the bundle and then after that fetch and save additional new data from a server.",
          "ts": "1654635742.156239",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LPGQg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Okay thank you. We don't have that currently. Widgets and other extensions can also do this replacement from the bundle and then after that fetch and save additional new data from a server."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "539042e4-a72d-42fd-be75-cd85ef6d51a2",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "Is it possible to make it so only the application does the replacement, and if the widget/extension notices a need for replacement, the user is messaged that the application needs to be opened",
          "ts": "1654635868.850379",
          "thread_ts": "1654634468.708539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xssnA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is it possible to make it so only the application does the replacement, and if the widget/extension notices a need for replacement, the user is messaged that the application needs to be opened"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; Can a pre-made store be used as the store description for SwiftUI previews? If I want to have different previews show different possible states, can I somehow use different test stores?",
      "ts": "1654634613.123279",
      "thread_ts": "1654634613.123279",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654634733.743299",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "j2MtR",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Can a pre-made store be used as the store description for SwiftUI previews? If I want to have different previews show different possible states, can I somehow use different test stores?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "8b58fd23-7fbb-4921-bf54-31516e9fcb14",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "I haven’t personally done this, but it should work just fine. The downside of this approach is that the pre-made store is going to have to be in your bundle, which means it’ll get shipped with your app unless you do whacky stuff with your build configurations",
          "ts": "1654634665.713139",
          "thread_ts": "1654634613.123279",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "e5a",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I haven’t personally done this, but it should work just fine. The downside of this approach is that the pre-made store is going to have to be in your bundle, which means it’ll get shipped with your app unless you do whacky stuff with your build configurations"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6b752f5e-a0e4-4920-982d-bfd39c11904c",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "You can't add them to the `Preview Content` folder to be ignored in the build?",
          "ts": "1654634709.379239",
          "thread_ts": "1654634613.123279",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5+Slf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can't add them to the "
                    },
                    {
                      "type": "text",
                      "text": "Preview Content",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " folder to be ignored in the build?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d6a094a7-690f-42bd-92bc-aa9f72a3b4c6",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "I tend to have one or more helpers that construct an in-memory store with the test data I want for the preview being rendered, not unlike the new project template for Core Data + SwiftUI apps in Xcode",
          "ts": "1654634715.847249",
          "thread_ts": "1654634613.123279",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "thV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I tend to have one or more helpers that construct an in-memory store with the test data I want for the preview being rendered, not unlike the new project template for Core Data + SwiftUI apps in Xcode"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "51a34d25-7370-432b-a904-c5ecdd25eeb5",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Again, I haven’t tried it but it should work!",
          "ts": "1654634733.743299",
          "thread_ts": "1654634613.123279",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ojz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Again, I haven’t tried it but it should work!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J66JJX5J\u003e asked\n\u0026gt; I have an app that uses CoreData and NSPersistentCloudKitContainer. Currently, receiving record updates via CloudKit in the background while the app is inactive results stale data being displayed via my apps widget and local notifications. This is time sensitive information to the user and results in a poorer user experience. Is it possible to increase the processing queue priority for record updates that happen in the background? Can we manually request an update in a widget process?",
      "ts": "1654634782.560019",
      "thread_ts": "1654634782.560019",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 22,
      "latest_reply": "1654637539.436129",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "sMY",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J66JJX5J"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I have an app that uses CoreData and NSPersistentCloudKitContainer. Currently, receiving record updates via CloudKit in the background while the app is inactive results stale data being displayed via my apps widget and local notifications. This is time sensitive information to the user and results in a poorer user experience. Is it possible to increase the processing queue priority for record updates that happen in the background? Can we manually request an update in a widget process?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "3aacf851-a0e2-4219-9b2a-4553d9f5c70e",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s probably best to start with a feedback report with your app attached and detailed set of steps for a use case you would like to see better support for.",
          "ts": "1654634811.450939",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ktXh4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s probably best to start with a feedback report with your app attached and detailed set of steps for a use case you would like to see better support for."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1b5c81ed-cce0-4bb5-a471-a92456a008b0",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "Understood. In iOS 16, is it still the case that forcing a sync or being notified that a sync has completed is unavailable?",
          "ts": "1654634962.899329",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CR2i",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Understood. In iOS 16, is it still the case that forcing a sync or being notified that a sync has completed is unavailable?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1e658d23-d5b2-4d0e-b5ee-0d6cabc87c4b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We post notifications about syncing already.  You'll want to look at NSPersisentCloudKitContainerEvent",
          "ts": "1654635006.985459",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ul0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We post notifications about syncing already.  You'll want to look at NSPersisentCloudKitContainerEvent"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7dc3bc35-e699-42c2-ae47-abcf8174648a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that's available now",
          "ts": "1654635011.277599",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mWt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that's available now"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8f3917ec-1de2-4e4d-b4eb-4e369fcfc98f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "there's no mechanism to force an immediate sync on demand",
          "ts": "1654635045.494409",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/EWU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "there's no mechanism to force an immediate sync on demand"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9eec7b79-4f50-4d94-9318-622d2ed16419",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "My app is a bookmarking application. I display a bookmarks the user has not yet read in a widget. If the user reads the book on their iPad, the widget on their iPhone may not update ever. The moment the user opens the app on their iPhone, the bookmark update is digested correctly.",
          "ts": "1654635079.090299",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JzQ1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "My app is a bookmarking application. I display a bookmarks the user has not yet read in a widget. If the user reads the book on their iPad, the widget on their iPhone may not update ever. The moment the user opens the app on their iPhone, the bookmark update is digested correctly."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2b5e7db3-62b9-488a-afef-736d960a24ae",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That is the current state of the platform. Push notifications wake your app, not your widget.",
          "ts": "1654635119.328939",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jaJF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That is the current state of the platform. Push notifications wake your app, not your widget."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "06fe9ade-e13f-445b-a253-0e58ebf73b65",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Widgets don't get a lot of background time to perform network operations or syncs",
          "ts": "1654635130.482809",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pb7Qs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Widgets don't get a lot of background time to perform network operations or syncs"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4f077d33-68b5-4629-a535-6e6b5eec3963",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "I have seen those events come in the background, however until I launch the full app, the updated records are not digested.",
          "ts": "1654635137.712239",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sDXjf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I have seen those events come in the background, however until I launch the full app, the updated records are not digested."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6e493594-cc57-4992-9f8b-7fe48761f146",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That’s worth a feedback report with a sysdiagnose and your app",
          "ts": "1654635175.448909",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hXD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s worth a feedback report with a sysdiagnose and your app"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e0bccb52-70c5-428a-81ec-80b28b3d64b9",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s possible you’re missing the appropriate background activity entitlements, or that when your app is launched in a specific background mode you’re not loading the container.",
          "ts": "1654635200.508359",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CJYm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s possible you’re missing the appropriate background activity entitlements, or that when your app is launched in a specific background mode you’re not loading the container."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3e1fccdd-4dd4-4d3b-a485-0403f3ec390d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But even then there’s no guarantee NSPersistentCloudKitContainer will be approved to do work on your behalf.",
          "ts": "1654635223.118799",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2DNkq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But even then there’s no guarantee NSPersistentCloudKitContainer will be approved to do work on your behalf."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7f7f39e9-b962-438c-8978-d678233ccf66",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s not possible to say which without logs though. Or if monitoring remote change notifications yourself in the widget would help.",
          "ts": "1654635243.329529",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y0o",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s not possible to say which without logs though. Or if monitoring remote change notifications yourself in the widget would help."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6187f749-eb3b-4274-8966-ed6f9fe4cf19",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "Understood.",
          "ts": "1654635279.732509",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3//gx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Understood."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cd24a2ed-0394-4996-86c7-b562fbba3d35",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "I believe this is a common issue. Enough that others in the developer community have written articles and twitter threads on it. For example: \u003chttps://twitter.com/stroughtonsmith/status/1514378073231212546?s=21\u003e",
          "ts": "1654635306.081149",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/hrUT",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I believe this is a common issue. Enough that others in the developer community have written articles and twitter threads on it. For example: "
                    },
                    {
                      "type": "link",
                      "url": "https://twitter.com/stroughtonsmith/status/1514378073231212546?s=21",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "097f4f64-9186-4d30-a1ed-94768d3abcf6",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "And here from the developer of Streaks: \u003chttps://crunchybagel.com/nspersistentcloudkitcontainer/\u003e",
          "ts": "1654635452.518889",
          "thread_ts": "1654634782.560019",
          "attachments": [
            {
              "fallback": "Crunchy Bagel: General Findings About NSPersistentCloudKitContainer",
              "id": 1,
              "title": "General Findings About NSPersistentCloudKitContainer",
              "title_link": "https://crunchybagel.com/nspersistentcloudkitcontainer/",
              "text": "This article contains our findings when converting Streaks to use NSPersistentCloudKitContainer.",
              "service_name": "Crunchy Bagel",
              "service_icon": "https://crunchybagel.com/assets/apple-touch-icon.png?v=de6db655ba",
              "from_url": "https://crunchybagel.com/nspersistentcloudkitcontainer/",
              "original_url": "https://crunchybagel.com/nspersistentcloudkitcontainer/",
              "fields": [
                {
                  "title": "Written by",
                  "value": "Quentin Zervaas",
                  "short": true
                },
                {
                  "title": "Filed under",
                  "value": "Core Data, Apple Watch, iOS, CloudKit, iCloud",
                  "short": true
                }
              ],
              "blocks": null,
              "ts": 1649896203
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6ohne",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And here from the developer of Streaks: "
                    },
                    {
                      "type": "link",
                      "url": "https://crunchybagel.com/nspersistentcloudkitcontainer/",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6e3461f0-90d3-453e-9c92-7b955990d27a",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "Point #4.",
          "ts": "1654635469.950449",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mCD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Point #4."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "aae679a6-d240-488f-bfee-f7f4cc57a0b9",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "We are happy to continue evaluating and prioritizing their feedback reports.",
          "ts": "1654635569.535639",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=VSF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We are happy to continue evaluating and prioritizing their feedback reports."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "05286ce8-8216-41a0-a8de-2def166453c0",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "Thank you for your time. I really appreciate it. I love the simplicity of NSPersistentCloudKitContainer. I hope that any Feedback I submit on the issue allows for this to get resolved.",
          "ts": "1654635765.565079",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=L6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you for your time. I really appreciate it. I love the simplicity of NSPersistentCloudKitContainer. I hope that any Feedback I submit on the issue allows for this to get resolved."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "38812394-6f9a-4c20-b51c-300a1b0cba58",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "One last thing: Is the intended behavior that when the app launches in the background with `NSPersistentStoreRemoteChangeNotification` that the app is able to query for the updated records in the background handler?",
          "ts": "1654636860.715499",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o+ohf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "One last thing: Is the intended behavior that when the app launches in the background with "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentStoreRemoteChangeNotification",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " that the app is able to query for the updated records in the background handler?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "95b8824a-edea-44df-8237-ee2ae2ce7199",
          "type": "message",
          "user": "U03J66JJX5J",
          "text": "I have an `NSFetchedResultsController` that monitors for new changes to the database and triggers Widget refreshes. That does not seem to be getting called in the background thread.",
          "ts": "1654636966.398109",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Kp2T",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I have an "
                    },
                    {
                      "type": "text",
                      "text": "NSFetchedResultsController",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " that monitors for new changes to the database and triggers Widget refreshes. That does not seem to be getting called in the background thread."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "13e32aba-55dd-485f-a100-6143b26c1a92",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m not sure we can tell without a reproducible example.",
          "ts": "1654637539.436129",
          "thread_ts": "1654634782.560019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "t6c",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m not sure we can tell without a reproducible example."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JENQA0TB\u003e asked\n\u0026gt; If I know I'll be sharing an entire Core Data database, should I set the `databaseScope` to `.shared` right from the get go? Or can you migrate a `.private` database to be shared after the fact? My app can have multiple database documents, each with their own .sqlite store, so I want to share the entire thing, not just individual records. Different database documents could be shared with different people too.",
      "ts": "1654634851.161119",
      "thread_ts": "1654634851.161119",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 25,
      "latest_reply": "1654635873.904409",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "D+O",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JENQA0TB"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If I know I'll be sharing an entire Core Data database, should I set the `databaseScope` to `.shared` right from the get go? Or can you migrate a `.private` database to be shared after the fact? My app can have multiple database documents, each with their own .sqlite store, so I want to share the entire thing, not just individual records. Different database documents could be shared with different people too.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "fb429926-c06a-4cae-b227-81e57272e72c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That’s not how sharing works. I recommend watching this session: \u003chttps://developer.apple.com/wwdc21/10015\u003e",
          "ts": "1654634901.979959",
          "thread_ts": "1654634851.161119",
          "attachments": [
            {
              "fallback": "Apple Developer: Build apps that share data through CloudKit and Core Data  - WWDC21 - Videos - Apple Developer",
              "id": 1,
              "title": "Build apps that share data through CloudKit and Core Data  - WWDC21 - Videos - Apple Developer",
              "title_link": "https://developer.apple.com/wwdc21/10015",
              "text": "Learn how to easily build apps that share data between multiple iCloud users with NSPersistentCloudKitContainer. Discover how to create...",
              "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/119/4881/4881_wide_250x141_2x.jpg",
              "service_name": "Apple Developer",
              "service_icon": "https://developer.apple.com/favicon.ico",
              "from_url": "https://developer.apple.com/wwdc21/10015",
              "original_url": "https://developer.apple.com/wwdc21/10015",
              "blocks": null
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "NqL5a",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s not how sharing works. I recommend watching this session: "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/wwdc21/10015",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5ba2e00e-d0eb-4568-8c76-a032f7539200",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Sharing requires a database pair, one shared and one private.",
          "ts": "1654634919.473699",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "O8Caz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sharing requires a database pair, one shared and one private."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0f941ca4-6d2d-4271-b99a-e85a97510447",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Shares are created for specific populations of users and data is moved from the private database to the shared as needed.",
          "ts": "1654634940.844959",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "e3s",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Shares are created for specific populations of users and data is moved from the private database to the shared as needed."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2fe6cdcb-1ff2-402e-b228-167a98489a0c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "disjoint collections of users operate on different pieces of data.",
          "ts": "1654634991.384659",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "T=hD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "disjoint collections of users operate on different pieces of data."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9093a529-b46b-430f-8aa4-2ddd2d9855f7",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "For example you can’t share DocumentA with UserGroup1 and UserGroup2.\n\nUserGroup2 would operate on DocumentB, even if their contents are semantically identical from the perspective of your application",
          "ts": "1654635028.330809",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sLbK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For example you can’t share DocumentA with UserGroup1 and UserGroup2.\n\nUserGroup2 would operate on DocumentB, even if their contents are semantically identical from the perspective of your application"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e82b7e1b-9abb-46f1-986b-38156604c494",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "So by a database pair, do you mean two local sqlite stores? One for your private stuff and one that contains shared data? Even if it’s the same data as your private store’s data? I did watch that video just today but it seemed that he was dealing with just sharing individual records and not the entire database.",
          "ts": "1654635252.503979",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QjFcI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So by a database pair, do you mean two local sqlite stores? One for your private stuff and one that contains shared data? Even if it’s the same data as your private store’s data? I did watch that video just today but it seemed that he was dealing with just sharing individual records and not the entire database."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "226e68d8-867e-4e2b-ae51-dc93fedcf219",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m not really sure what you mean by entire database?",
          "ts": "1654635297.578709",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CoN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m not really sure what you mean by entire database?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1056a6b2-c607-4b31-becc-a76fe6a64b42",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "the whole .sqlite file. I have many entities in my CoreData model. I want to share them all with different users.",
          "ts": "1654635406.561639",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ueTx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the whole .sqlite file. I have many entities in my CoreData model. I want to share them all with different users."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "664b340b-718d-42c4-a37a-0f378dfb7589",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Which users do you want to access which objects?",
          "ts": "1654635450.503979",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hymK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Which users do you want to access which objects?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8e7143d2-3032-440e-962a-0188e00f1555",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Like in the Notes app you can share individual Notes. I want to share the entire database of Notes. That’s just an example. My app obviously isn’t Notes.",
          "ts": "1654635457.179019",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ByhYm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Like in the Notes app you can share individual Notes. I want to share the entire database of Notes. That’s just an example. My app obviously isn’t Notes."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b2075dfd-a903-47a5-90df-ab0b5744b96c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Sure but… with whom?",
          "ts": "1654635513.083169",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xTL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sure but… with whom?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "eee7234f-04f1-462c-a02c-aeedd4ec97a2",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "My app is a database app called Tap Forms. You can create your own databases with many records, field, forms, etc. All those entities are stored in a single sqlite file. I want to share an entire database with any other iCloud customer. For example, my family or perhaps work colleagues, etc.",
          "ts": "1654635560.781389",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eb=kb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "My app is a database app called Tap Forms. You can create your own databases with many records, field, forms, etc. All those entities are stored in a single sqlite file. I want to share an entire database with any other iCloud customer. For example, my family or perhaps work colleagues, etc."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "68eb777c-7682-4e3b-a85d-69d64c0a225d",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "I know I can sync the entire database with my own devices. But I want to sync a database with other people too. Not just syncing individual records.",
          "ts": "1654635626.575719",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4=Ig",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I know I can sync the entire database with my own devices. But I want to sync a database with other people too. Not just syncing individual records."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "77c5cfb9-dbbf-4666-958f-909b565997ea",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "From our perspective that’s just a graph of objects shared to a collection of users.",
          "ts": "1654635645.354109",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yHa37",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "From our perspective that’s just a graph of objects shared to a collection of users."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "66a145c0-d84e-44c2-8278-55ab361dae44",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You nominate the graph by calling `NSPersistentCloudKitContainer.shareManagedObject…` and a CKShare is created to which you can add participants.",
          "ts": "1654635678.080419",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lIRj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You nominate the graph by calling "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer.shareManagedObject…",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and a CKShare is created to which you can add participants."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bd305f33-5f7d-410e-942f-0566b577b4bb",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "There could be a hundred thousand objects in my database. Or more.",
          "ts": "1654635681.507999",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3Ntdg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There could be a hundred thousand objects in my database. Or more."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "42507b2a-ff57-4ac5-b2a7-6c17c06e4a48",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "The proportion of your private database that’s shared is immaterial.",
          "ts": "1654635692.059729",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ARz1=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The proportion of your private database that’s shared is immaterial."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7565404f-d63a-4766-817a-1a5652e80f1a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; There could be a hundred thousand objects in my database\nLet us know how that goes!",
          "ts": "1654635702.436629",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Lr5x",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"There could be a hundred thousand objects in my database\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Let us know how that goes!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1d68f380-d3d1-4871-a7f1-f2a2b55cd2d8",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Interesting. So you need a root object to share?",
          "ts": "1654635725.123879",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2ao5o",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Interesting. So you need a root object to share?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "06dee93d-73af-4a2d-b547-e44497eee25d",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "I can have many root objects. Categories -\u0026gt; Forms -\u0026gt; Fields / Records / Layouts, etc.",
          "ts": "1654635763.152289",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QdF5Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I can have many root objects. Categories -\u003e Forms -\u003e Fields / Records / Layouts, etc."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d3c5b097-08b6-4ccb-8ddd-d8896f260268",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No. `shareManagedObjects` takes an array of objects. They don’t strictly speaking have to be roots.",
          "ts": "1654635783.015919",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "IQr",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No. "
                    },
                    {
                      "type": "text",
                      "text": "shareManagedObjects",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " takes an array of objects. They don’t strictly speaking have to be roots."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d2e09555-835e-46be-a4fd-f69388d39cd6",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "NSPersistentCloudKitContainer will traverse the graph and share all of the connected nodes.",
          "ts": "1654635806.603879",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "AUfp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer will traverse the graph and share all of the connected nodes."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6bb54d4-6ca3-46b6-9f51-3d1bc5e22af3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Hundreds of thousands will take some time, CloudKit operates on them in batches of up to 400.",
          "ts": "1654635827.211919",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sZB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hundreds of thousands will take some time, CloudKit operates on them in batches of up to 400."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "61064650-c0bc-450f-a081-e26ee08a35ed",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But that’s not beyond its capabilities.",
          "ts": "1654635834.801329",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "h4r",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But that’s not beyond its capabilities."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d553aa58-ef96-4c90-b6fc-4fefb59bb4b4",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Ah cool. Ok thanks. Looking forward to giving this a go.",
          "ts": "1654635873.904409",
          "thread_ts": "1654634851.161119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nZW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ah cool. Ok thanks. Looking forward to giving this a go."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; Is there a rule of thumb for when to use @FetchRequest versus fetching data as a @Published variable in some @ObservableObject?",
      "ts": "1654635227.169909",
      "thread_ts": "1654635227.169909",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 15,
      "latest_reply": "1654637066.872629",
      "reactions": [
        {
          "name": "+1",
          "count": 1,
          "users": [
            "U03J2019QTV"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "EY4",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a rule of thumb for when to use @FetchRequest versus fetching data as a @Published variable in some @ObservableObject?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "66ea1bef-6392-47b6-8035-448a8e8accc7",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "I’d say that in general you should use `@FetchRequest` whenever your needs can be defined in terms of a predicate + sort descriptor(s).",
          "ts": "1654635327.661369",
          "thread_ts": "1654635227.169909",
          "edited": {
            "user": "U03HK7797D0",
            "ts": "1654635336.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HXV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’d say that in general you should use "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " whenever your needs can be defined in terms of a predicate + sort descriptor(s)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "040d0901-3637-4b56-81ff-459a6c38cee5",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "It’s already built in, why do more work than you have to?",
          "ts": "1654635359.845509",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Qw3T/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s already built in, why do more work than you have to?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "34fdc039-bcdb-43d9-85f0-e15f3daf003f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We might be biased.",
          "ts": "1654635376.208729",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cuN7p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We might be biased."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "16b63f41-d192-4aeb-93f9-ff703a3e0602",
          "type": "message",
          "user": "U03J9D6803X",
          "text": "How biased?  That seemed like a pretty bold statement by Scott.  Updates to CoreData seemed to be one of the highest priority wishlist items by the community",
          "ts": "1654635456.148449",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 2,
              "users": [
                "U03J9P3A03V",
                "U03HYU6BZ71"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "fKEh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "How biased?  That seemed like a pretty bold statement by Scott.  Updates to CoreData seemed to be one of the highest priority wishlist items by the community"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4f24981e-171c-4229-8d56-7b0958913354",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "If I have a list where each row shows some progress of X/Y, is it better to pre-fetch all of these possible rows or let each row itself make a @FetchRequest for its status?",
          "ts": "1654635468.532669",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zPb5Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If I have a list where each row shows some progress of X/Y, is it better to pre-fetch all of these possible rows or let each row itself make a @FetchRequest for its status?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "140dde04-a6b2-4a68-8a43-8ba72af2c40c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I am apparently an engineer, and not a comedian.",
          "ts": "1654635500.328679",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "rolling_on_the_floor_laughing",
              "count": 4,
              "users": [
                "U03JEL0155X",
                "U03J9D6803X",
                "U03J2019QTV",
                "U03K1K31P8Q"
              ]
            },
            {
              "name": "drum_with_drumsticks",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            },
            {
              "name": "laughing",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "t59GI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I am apparently an engineer, and not a comedian."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "24b75c00-cbc3-4b5b-8858-7927b3002d0f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I would definitely use `@fetchRequest` If you have a lot of rows, set a batch size.",
          "ts": "1654635538.057119",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "foHa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would definitely use "
                    },
                    {
                      "type": "text",
                      "text": "@fetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " If you have a lot of rows, set a batch size."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "fbd0248a-28c4-44a3-b67d-b72ec1e60bbe",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "\u003c@U03JEL0155X\u003e if reasonable this actually sounds like a good Derived Attribute to me",
          "ts": "1654635543.276279",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kI0Pu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03JEL0155X"
                    },
                    {
                      "type": "text",
                      "text": " if reasonable this actually sounds like a good Derived Attribute to me"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6e425fae-dc61-4886-978f-4be019d15a0f",
          "type": "message",
          "user": "U03J9D6803X",
          "text": "Thanks",
          "ts": "1654635547.310319",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "iBx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8002c954-bfed-46b3-9b73-4c61b6332773",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "if you can define the progress in terms of `@sum` then the row’s managed object will have all the data it needs to display it",
          "ts": "1654635617.860879",
          "thread_ts": "1654635227.169909",
          "edited": {
            "user": "U03HK7797D0",
            "ts": "1654635623.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lDia",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if you can define the progress in terms of "
                    },
                    {
                      "type": "text",
                      "text": "@sum",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " then the row’s managed object will have all the data it needs to display it"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "66bc16aa-de13-410d-9530-11c1a42d210e",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Not quite sure I understand. Basically, my app is a flashcard app where these rows represent the number of learned items in a lesson. My `X` value would be some predicate of `lesson == 1 AND learned == true`  where the `Y` value would just be `lesson == 1`.\n\nI can add this as some precomputed derived attribute?",
          "ts": "1654635763.867959",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LDzSZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Not quite sure I understand. Basically, my app is a flashcard app where these rows represent the number of learned items in a lesson. My "
                    },
                    {
                      "type": "text",
                      "text": "X",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " value would be some predicate of "
                    },
                    {
                      "type": "text",
                      "text": "lesson == 1 AND learned == true",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "  where the "
                    },
                    {
                      "type": "text",
                      "text": "Y",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " value would just be "
                    },
                    {
                      "type": "text",
                      "text": "lesson == 1",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ".\n\nI can add this as some precomputed derived attribute?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cbefc063-8cd6-4cb7-9ea7-350d30c5dfe9",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "right so if `Lesson` has a 1:many relationship to `Item` then you could add an `itemsCount` to `Lesson` with the derivation expression `items.@count` to use as your progress’ denominator and `itemsFinished` with `items.learned.@count` (pretty sure?) as your numerator",
          "ts": "1654636009.467969",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZWau",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "right so if "
                    },
                    {
                      "type": "text",
                      "text": "Lesson",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " has a 1:many relationship to "
                    },
                    {
                      "type": "text",
                      "text": "Item",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " then you could add an "
                    },
                    {
                      "type": "text",
                      "text": "itemsCount",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to "
                    },
                    {
                      "type": "text",
                      "text": "Lesson",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " with the derivation expression "
                    },
                    {
                      "type": "text",
                      "text": "items.@count",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to use as your progress’ denominator and "
                    },
                    {
                      "type": "text",
                      "text": "itemsFinished",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " with "
                    },
                    {
                      "type": "text",
                      "text": "items.learned.@count",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " (pretty sure?) as your numerator"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "421fc03e-280a-40f7-a857-ccc336607011",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "ran out of time to edit but can confirm `items.learned.@count` is what you want for counting finished items.",
          "ts": "1654636360.079849",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XH9b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "ran out of time to edit but can confirm "
                    },
                    {
                      "type": "text",
                      "text": "items.learned.@count",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is what you want for counting finished items."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d7281dc5-51f4-4e6a-b1a5-53d958006c12",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Thanks, I'll take a look into derived attributes. I am not familiar with them.",
          "ts": "1654636624.152889",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zs/0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks, I'll take a look into derived attributes. I am not familiar with them."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cb10e20c-6b11-4b65-8327-07d4d43d0f57",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "\u003chttps://developer.apple.com/documentation/coredata/nsderivedattributedescription|Here are the docs\u003e, the short intro is you can think of them as denormalization automatically managed by Core Data.",
          "ts": "1654637066.872629",
          "thread_ts": "1654635227.169909",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wyufd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nsderivedattributedescription",
                      "text": "Here are the docs"
                    },
                    {
                      "type": "text",
                      "text": ", the short intro is you can think of them as denormalization automatically managed by Core Data."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JFQ1BQMA\u003e asked\n\u0026gt; What would be the best strategy to add unique constraints to entities stored through CoreData in CloudKit? It can be done \"locally\" but not for entities in CloudKit (unless that has changed this year?)",
      "ts": "1654635973.823399",
      "thread_ts": "1654635973.823399",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 12,
      "latest_reply": "1654636612.554639",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "9UI",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JFQ1BQMA"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"What would be the best strategy to add unique constraints to entities stored through CoreData in CloudKit? It can be done \\\"locally\\\" but not for entities in CloudKit (unless that has changed this year?)\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "4cf07786-4ae9-4269-8282-1ee5142c0553",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Generally having a local store that imposes your unique constraint and then moving records to a cloud-backed store.",
          "ts": "1654635994.107329",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "j0j",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Generally having a local store that imposes your unique constraint and then moving records to a cloud-backed store."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1c98e7da-29bf-4d1c-9e42-89bc682904c8",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "This technique allows you to validate incoming partially formed graphs before showing them to the user.",
          "ts": "1654636005.353839",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lU1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This technique allows you to validate incoming partially formed graphs before showing them to the user."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3cf7f607-5a57-4b3c-bb8d-96b689733610",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "but requires an additional store file",
          "ts": "1654636012.736049",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8GF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but requires an additional store file"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1723f336-193c-48c7-a5c7-e25ad08327c4",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "I've currently setup two Configurations for that exact purpose (and also picking a subset of the properties I want to sync). I'm not sure I'm doing this right though as I:\n• Override willSave() on my local entity so that changes get reflected on my \"cloud\" entity.\n• I go through transaction history when a change happen to my cloud entities and reflect the changes to my local ones.\nDoes that sound about right or would there be a more robust way of doing what you suggested?",
          "ts": "1654636178.949189",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6GU0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I've currently setup two Configurations for that exact purpose (and also picking a subset of the properties I want to sync). I'm not sure I'm doing this right though as I:\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Override willSave() on my local entity so that changes get reflected on my \\\"cloud\\\" entity.\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"I go through transaction history when a change happen to my cloud entities and reflect the changes to my local ones.\"}]}],\"style\":\"bullet\",\"indent\":0,\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Does that sound about right or would there be a more robust way of doing what you suggested?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b05cdf8f-75da-4f8e-9d1b-ab6212557cfb",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Normally folks use NSManagedObjectContextDidSaveChanges or persistent history to reflect the changes in the other direction too, but that sounds about right",
          "ts": "1654636363.843999",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03JFQ1BQMA"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lcUiZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Normally folks use NSManagedObjectContextDidSaveChanges or persistent history to reflect the changes in the other direction too, but that sounds about right"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9b00a403-ebd0-4c0b-b166-ce3583a9ef50",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "I opted for the solution above as changes made by CloudKit did not seem to create a `NSManagedObjectContextDidSaveChanges` notification. Instead I'm listening for a successful import within the `NSPersistentCloudKitContainer.eventChangedNotification`",
          "ts": "1654636479.115499",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8INe/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I opted for the solution above as changes made by CloudKit did not seem to create a "
                    },
                    {
                      "type": "text",
                      "text": "NSManagedObjectContextDidSaveChanges",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " notification. Instead I'm listening for a successful import within the "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer.eventChangedNotification",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dc80c340-713c-4999-93ca-28f97d6e0c72",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "At scale you actually want history tracking for this.",
          "ts": "1654636521.332529",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YAOe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "At scale you actually want history tracking for this."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "177140b1-5db6-42e0-b1f0-6e461bbaf4a3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Pulling objects out of willSave / NSManagedObjectContextDidSave will eventually block your application / cause it to keep them around longer than necessary.",
          "ts": "1654636545.681169",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "1wy1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Pulling objects out of willSave / NSManagedObjectContextDidSave will eventually block your application / cause it to keep them around longer than necessary."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "777591bc-4c95-4a39-9136-950553ad0be9",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "Sounds like I've got the right approach then! Thanks a lot!",
          "ts": "1654636567.349229",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wot9Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sounds like I've got the right approach then! Thanks a lot!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5aee3c5d-ce89-4ed4-a27d-05cc4b240401",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "History tracking allows you to traverse the changes asynchronously and look for mutations that are ready to push to the Cloud store or vice versa",
          "ts": "1654636569.445339",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YH/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "History tracking allows you to traverse the changes asynchronously and look for mutations that are ready to push to the Cloud store or vice versa"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "69c5c7e6-786a-4f1c-8c6b-6ba3c1c03c9a",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "Ok, part of the right solution. I only consume history from CloudKit…",
          "ts": "1654636603.047289",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bztd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok, part of the right solution. I only consume history from CloudKit…"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "676d0ed0-ef89-4aea-bb0c-8a3aa3e27de1",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "Will work on that, Thank you!",
          "ts": "1654636612.554639",
          "thread_ts": "1654635973.823399",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "enq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Will work on that, Thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMCT187R\u003e asked\n\u0026gt; Do you have guidance for how to implement NSPersistentCloudKitContainer such that you can make fetch requests in your widget and update it when data changes on different devices? Eg, move your database to a shared app groups and then how do you get informed when it sync in the background to trigger reloading the widget?",
      "ts": "1654636086.867439",
      "thread_ts": "1654636086.867439",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 14,
      "latest_reply": "1654637949.077759",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "f9So",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMCT187R"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Do you have guidance for how to implement NSPersistentCloudKitContainer such that you can make fetch requests in your widget and update it when data changes on different devices? Eg, move your database to a shared app groups and then how do you get informed when it sync in the background to trigger reloading the widget?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "cef9d648-5a8f-4c89-8b9e-106b15275c58",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "This is worth a feedback report with your app and steps to reproduce for the affect you want.",
          "ts": "1654636108.464709",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZB=T",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is worth a feedback report with your app and steps to reproduce for the affect you want."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ce36c572-de42-4c53-ac68-7a32199248fb",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Widgets can’t be triggered / loaded by background activity in the app today.",
          "ts": "1654636120.295769",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QpYP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Widgets can’t be triggered / loaded by background activity in the app today."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a3d39b0e-0f5d-4925-bf60-c575565260c7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If the app is running, the widget can use remote notifications to see the updates.  Unfortunately there's a lot of throttling if the app is in the background, and widgets themselves don't get much processing time etiher.",
          "ts": "1654636433.525179",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KXSL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If the app is running, the widget can use remote notifications to see the updates.  Unfortunately there's a lot of throttling if the app is in the background, and widgets themselves don't get much processing time etiher."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "97c4f0f5-7906-4e79-92bb-b809003ba7a2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "`NSPersistentStoreRemoteChangeNotification`",
          "ts": "1654636457.140639",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "z5t",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentStoreRemoteChangeNotification",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "db404b1d-9670-44f6-baea-ed07ffe0b95a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Yeah, unfortunately that is also non-launching",
          "ts": "1654636486.950349",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Uyb+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, unfortunately that is also non-launching"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ed5b1286-f390-4206-b958-c2a06e372752",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "so the widget has to be up",
          "ts": "1654636490.491729",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zUjP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so the widget has to be up"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a083556d-272d-4930-aded-41b3a3f70c60",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Yes, although presumably if the widget isn't up, it'll refetch everything it needs on launch",
          "ts": "1654636767.903839",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Lzor",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, although presumably if the widget isn't up, it'll refetch everything it needs on launch"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1761c0db-1eee-477b-b11b-b2b21ea4f7b9",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "mostly it's constrained in the other direction, by the app being up while the widget is running",
          "ts": "1654636789.368829",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nVRTF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "mostly it's constrained in the other direction, by the app being up while the widget is running"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a99807c6-96e6-4205-bd26-3f1fde265d59",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Right, the goal is to keep the widget they’ve already added to their Home Screen sufficiently up-to-date with changes made on other devices. So they don’t have to open the app to get CloudKit sync to occur, totally defeating the purpose of the widget :slightly_smiling_face:",
          "ts": "1654637098.907139",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ohwi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Right, the goal is to keep the widget they’ve already added to their Home Screen sufficiently up-to-date with changes made on other devices. So they don’t have to open the app to get CloudKit sync to occur, totally defeating the purpose of the widget "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7891c550-8072-4a61-9831-8c9de74f61e8",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Thanks!",
          "ts": "1654637102.533429",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+yW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dc54e6e0-1039-4fee-87be-75e6ab95bf21",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "\u0026gt; If the app is running, the widget can use remote notifications to see the updates\nQuick clarification - what if the app is not running, eg it’s been suspended in background or has been kicked out of memory? Sounds like CloudKit will sync in the background but is severely restricted so widget may not update?",
          "ts": "1654637298.046419",
          "thread_ts": "1654636086.867439",
          "edited": {
            "user": "U03HMCT187R",
            "ts": "1654637329.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "uhsS",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If the app is running, the widget can use remote notifications to see the updates\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Quick clarification - what if the app is not running, eg it’s been suspended in background or has been kicked out of memory? Sounds like CloudKit will sync in the background but is severely restricted so widget may not update?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ffd22894-c297-4884-9fe5-9411c5236108",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the `NSPersistentStoreRemoteChangeNotification` would be posted by the app, in this case, so no it won't",
          "ts": "1654637450.101369",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KzcU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentStoreRemoteChangeNotification",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " would be posted by the app, in this case, so no it won't"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "33ff985a-aec2-4610-8bf8-f772fe8706e6",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "I may need to set up a lab to discuss this in more detail :sunglasses: would you recommend CloudKit or Core Data lab?",
          "ts": "1654637744.945929",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y/gG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I may need to set up a lab to discuss this in more detail "
                    },
                    {
                      "type": "emoji",
                      "name": "sunglasses",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " would you recommend CloudKit or Core Data lab?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2e1aeb32-7c91-4ae2-a805-09565c258066",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Or WidgetKit :laughing:",
          "ts": "1654637949.077759",
          "thread_ts": "1654636086.867439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "05Ds",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Or WidgetKit "
                    },
                    {
                      "type": "emoji",
                      "name": "laughing",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JG18LGAG\u003e asked\n\u0026gt; Can you give any hint why saving to CoreData in a background thread sometimes fails with these NSPersistentStoreCoordinator errors. Or which circumstances can lead to this error? Because this only happens on iOS 14.\n\u0026gt; \n\u0026gt; [NSPersistentStoreCoordinator _coordinator_you_never_successfully_opened_the_database_so_saving_back_to_it_is_kinda_hard:]\n\u0026gt; [NSPersistentStoreCoordinator _coordinator_you_never_successfully_opened_the_database_io_error:]",
      "ts": "1654636146.490879",
      "thread_ts": "1654636146.490879",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654636625.169609",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "EoRD",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JG18LGAG"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Can you give any hint why saving to CoreData in a background thread sometimes fails with these NSPersistentStoreCoordinator errors. Or which circumstances can lead to this error? Because this only happens on iOS 14.\\n\\n[NSPersistentStoreCoordinator _coordinator_you_never_successfully_opened_the_database_so_saving_back_to_it_is_kinda_hard:]\\n[NSPersistentStoreCoordinator _coordinator_you_never_successfully_opened_the_database_io_error:]\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "900e6254-a044-4b7e-9f26-71bf58f135f5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "These are telling you that you ignored previous errors on adding / loading",
          "ts": "1654636169.542799",
          "thread_ts": "1654636146.490879",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nqH=O",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "These are telling you that you ignored previous errors on adding / loading"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "74c26fe6-5801-4f33-a809-f377d03c0cad",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the most common would be that the data protection class isn't available, or that the customer's device is totally absolutely out of disk space, not one KB more.",
          "ts": "1654636212.317589",
          "thread_ts": "1654636146.490879",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Leec",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the most common would be that the data protection class isn't available, or that the customer's device is totally absolutely out of disk space, not one KB more."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a914cba9-f132-42fb-9703-7c6556b5099f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "it's also possible that you kick off asynchronous work on the background BEFORE the load has actually finished.",
          "ts": "1654636253.343309",
          "thread_ts": "1654636146.490879",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TjNAa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "it's also possible that you kick off asynchronous work on the background BEFORE the load has actually finished."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a31e9cd4-4cc8-4e05-9d53-ba38a67291d3",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "we can't save from a background thread before loading / adding the store is done",
          "ts": "1654636296.044389",
          "thread_ts": "1654636146.490879",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lT3C",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "we can't save from a background thread before loading / adding the store is done"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "02f7a8b8-5df5-4b12-b053-e8033bcf3869",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "Thank you for your input. In the crash reporting I can see that some devices still have free disk space so I would rule that out. The asynchronous work start before the loading finishes sounds interesting, I will have a look into that!",
          "ts": "1654636625.169609",
          "thread_ts": "1654636146.490879",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "AnNz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you for your input. In the crash reporting I can see that some devices still have free disk space so I would rule that out. The asynchronous work start before the loading finishes sounds interesting, I will have a look into that!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JFQ1BQMA\u003e asked\n\u0026gt; When creating a new version of my model, I added a new entity and a fetched property pointing to it from an existing entity. Each live in a separate configuration which is why I need the fetched property. When doing a lightweight migration, loadPersistentStores seems to crash with error \"Can't use fetch request with fetched property description (entity model mismatch)\". Is that a bug I should report or expected behavior? If so, how can I successfully migrate between the two models?",
      "ts": "1654636894.740349",
      "thread_ts": "1654636894.740349",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 6,
      "latest_reply": "1654637319.877169",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "+Zk",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JFQ1BQMA"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"When creating a new version of my model, I added a new entity and a fetched property pointing to it from an existing entity. Each live in a separate configuration which is why I need the fetched property. When doing a lightweight migration, loadPersistentStores seems to crash with error \\\"Can't use fetch request with fetched property description (entity model mismatch)\\\". Is that a bug I should report or expected behavior? If so, how can I successfully migrate between the two models?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "dd68619f-f0dc-4498-a120-db0abff2ca1d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "A bug report would be useful.  It shouldn't fail during migration",
          "ts": "1654636947.781979",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "S5/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "A bug report would be useful.  It shouldn't fail during migration"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0550aa0c-dde2-4c29-91c8-55b694a1effb",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that said, you can't fetch across different configurations without different persistent stores being loaded (one for each configuration)",
          "ts": "1654636981.362759",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UPGml",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that said, you can't fetch across different configurations without different persistent stores being loaded (one for each configuration)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "505450bc-8f93-499d-8d81-f0169ecb274f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "so it's a bit weird to put a fetched property on an entity that can't be used for itself",
          "ts": "1654637005.129199",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "t8vzQ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so it's a bit weird to put a fetched property on an entity that can't be used for itself"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5ea08e57-d9c7-44aa-a278-917b5fab5ee4",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "basically you've created an entity that can't be used if loaded from only 1 store, and we're not happy about that.",
          "ts": "1654637038.710929",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ddg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "basically you've created an entity that can't be used if loaded from only 1 store, and we're not happy about that."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "abed63d5-ae37-4150-9be6-58f4f3516ffc",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "It would probably be easier to not use a modeled fetched property and instead create the NSFetchRequest in code.",
          "ts": "1654637071.055369",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JFQ1BQMA"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PXWOv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It would probably be easier to not use a modeled fetched property and instead create the NSFetchRequest in code."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1afbebe5-471f-46a0-9fb0-78fad0590717",
          "type": "message",
          "user": "U03JFQ1BQMA",
          "text": "I do have two `NSPersistentStoreDescription` in my container but yes I guess the local store is being migrated first and it has no knowledge of the other store's existence.\nI ended up doing the NSFetchRequest as you suggested but wanted to sense check my approach.",
          "ts": "1654637319.877169",
          "thread_ts": "1654636894.740349",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+iA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I do have two "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentStoreDescription",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " in my container but yes I guess the local store is being migrated first and it has no knowledge of the other store's existence.\nI ended up doing the NSFetchRequest as you suggested but wanted to sense check my approach."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JG18LGAG\u003e asked\n\u0026gt; Do you have any idea how a lightweight migration could fail (but only occasionaly in some cases). It fails in the [NSPersistentStoreCoordinator migratePersistentStore:toURL:options:withType:error:] method and apparently because of: [__NSArrayM replaceObjectAtIndex:withObject:]: object cannot be nil.\n\u0026gt; \n\u0026gt; I am confused because this is not 100 percent reproducible and the migration runs fine on some devices so the migration setup does not seem incorrect per se.",
      "ts": "1654637251.539719",
      "thread_ts": "1654637251.539719",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654637632.497169",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "D2uL",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JG18LGAG"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Do you have any idea how a lightweight migration could fail (but only occasionaly in some cases). It fails in the [NSPersistentStoreCoordinator migratePersistentStore\"},{\"type\":\"emoji\",\"name\":\"toURL\"},{\"type\":\"text\",\"text\":\"options\"},{\"type\":\"emoji\",\"name\":\"withType\"},{\"type\":\"text\",\"text\":\"error:] method and apparently because of: [__NSArrayM replaceObjectAtIndex\"},{\"type\":\"emoji\",\"name\":\"withObject\"},{\"type\":\"text\",\"text\":\"]: object cannot be nil.\\n\\nI am confused because this is not 100 percent reproducible and the migration runs fine on some devices so the migration setup does not seem incorrect per se.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "e86a9a05-555d-4a01-94ac-db72ead52470",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that's worth a bug report, and if you can include a sample store file (db, -wal too!) and both the old and new xcdatamodel that would be a huge help",
          "ts": "1654637292.193409",
          "thread_ts": "1654637251.539719",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JG18LGAG"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zJAt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that's worth a bug report, and if you can include a sample store file (db, -wal too!) and both the old and new xcdatamodel that would be a huge help"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ace57642-15f9-4e97-b186-b76576bf640f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "in general, though, you don't need to use `migratePersistentStore:toURL:options:withType:error` for a migration.  Just set the allows inferred migration and automatic migration options in the options dictionary when you add the store",
          "ts": "1654637336.975769",
          "thread_ts": "1654637251.539719",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JG18LGAG"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cEK5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "in general, though, you don't need to use "
                    },
                    {
                      "type": "text",
                      "text": "migratePersistentStore:toURL:options:withType:error",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " for a migration.  Just set the allows inferred migration and automatic migration options in the options dictionary when you add the store"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0eb4bcc9-7186-44eb-857b-38c073cdc2a7",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "There is also a session on lightweight migration on Thursday if you want to check that out!",
          "ts": "1654637418.769179",
          "thread_ts": "1654637251.539719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4EE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There is also a session on lightweight migration on Thursday if you want to check that out!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e3c463d0-7890-48c8-9f78-a2872a50b853",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "^",
          "ts": "1654637498.240179",
          "thread_ts": "1654637251.539719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OvdK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "^"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d71c9a94-16f3-442f-9cd6-a4dfe2eac432",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "I already bookmarked it and look forward to it :+1:",
          "ts": "1654637632.497169",
          "thread_ts": "1654637251.539719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "oC6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I already bookmarked it and look forward to it "
                    },
                    {
                      "type": "emoji",
                      "name": "+1",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K1TMNVMF\u003e asked\n\u0026gt; If I have a relationship between two Entities where Entity A -\u0026gt;\u0026gt; Entity B and I want to create and append a new instance of Entity B to an instance of Entity A (where some property on type A == some property declared on entity type B), is there a preferred way or even, place, to do this?\n\u0026gt; \n\u0026gt; My gut is telling me to create a function on some kind of CoreDataController class that will accept an argument for Entity type B that is being appended to an Entity type A record and then apply some conditional inside the function that will check to see if this can be appended. Or, would this kind of function be placed in a ViewModel for Entity B?",
      "ts": "1654637770.575539",
      "thread_ts": "1654637770.575539",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 54,
      "latest_reply": "1654642353.553279",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "TEK",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K1TMNVMF"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If I have a relationship between two Entities where Entity A -\u003e\u003e Entity B and I want to create and append a new instance of Entity B to an instance of Entity A (where some property on type A == some property declared on entity type B), is there a preferred way or even, place, to do this?\\n\\nMy gut is telling me to create a function on some kind of CoreDataController class that will accept an argument for Entity type B that is being appended to an Entity type A record and then apply some conditional inside the function that will check to see if this can be appended. Or, would this kind of function be placed in a ViewModel for Entity B?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "50092750-b611-43c1-8568-0a9df424c18f",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Clarifying your question, it sounds like you’re wanting to conditionally add a new managed object to a to-many relationship?",
          "ts": "1654637811.095999",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9Sc8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Clarifying your question, it sounds like you’re wanting to conditionally add a new managed object to a to-many relationship?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "781d73d7-900c-43a3-9273-6806d02d43c4",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Hey, yes that's correct!",
          "ts": "1654637838.877959",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3U/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hey, yes that's correct!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bed49cb9-8310-45ae-9c5d-11a45495b73f",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Creating your own method seems to be a perfectly fine way to solve this problem",
          "ts": "1654638036.342509",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "O=xH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Creating your own method seems to be a perfectly fine way to solve this problem"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cd400038-3c06-47ef-8ae3-a9afea3799f8",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Not only do I feel unclear about where this function should live, I also feel a little unsure about then querying the object that I'm conditionally checking. Let's say we're in a view designed for Entity type B objects, I've added a new Entity B and I want to then conditionally assign it to an Entity A... should I simply be going through the moc, filtering on the Entity A's within and then if I successfully return an instance of one, then assign Entity B to it ?",
          "ts": "1654638051.876959",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KGzl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Not only do I feel unclear about where this function should live, I also feel a little unsure about then querying the object that I'm conditionally checking. Let's say we're in a view designed for Entity type B objects, I've added a new Entity B and I want to then conditionally assign it to an Entity A... should I simply be going through the moc, filtering on the Entity A's within and then if I successfully return an instance of one, then assign Entity B to it ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6b4b6fb-b065-4c1c-9659-5ad82580e32d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Some folks have used the `NSManagedObjectContextWillSaveNotification` for this",
          "ts": "1654638070.847779",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/IA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Some folks have used the "
                    },
                    {
                      "type": "text",
                      "text": "NSManagedObjectContextWillSaveNotification",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " for this"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d623be0b-0fb7-4104-b0c9-3fdb1a4cde02",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Thanks, I'll have a look into that! Is there a standard way to do this? I think a part of the confusion for me here is architecture patterns haha",
          "ts": "1654638131.015219",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "V4Xj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks, I'll have a look into that! Is there a standard way to do this? I think a part of the confusion for me here is architecture patterns haha"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "714b0402-8b92-4d37-b758-58f7a1a373ec",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "To create an associated EntityB every time you create an EntityA ?",
          "ts": "1654638160.407259",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PlVv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "To create an associated EntityB every time you create an EntityA ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "29cd909b-89ca-44f8-ad56-8b65122fa8bb",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "No, if we have Entity A and B with a relationship of A -\u0026gt;\u0026gt; B, I've created an instance of B and I want to assign to conditionally. For ease of example let's say where B.categoryName == A.name.\n\nDoes the above simply require me to create a new NSFetchRequest on type A, then filter by .name and pull out the item that matches B.categoryName before finally assigning B to A",
          "ts": "1654638349.284509",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pCz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No, if we have Entity A and B with a relationship of A -\u003e\u003e B, I've created an instance of B and I want to assign to conditionally. For ease of example let's say where B.categoryName == A.name.\n\nDoes the above simply require me to create a new NSFetchRequest on type A, then filter by .name and pull out the item that matches B.categoryName before finally assigning B to A"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c325e848-986f-46be-bd60-1492041a4945",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Sorry if I'm not being very clear, it's been a long day :rolling_on_the_floor_laughing:",
          "ts": "1654638364.169409",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RN7K+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry if I'm not being very clear, it's been a long day "
                    },
                    {
                      "type": "emoji",
                      "name": "rolling_on_the_floor_laughing",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "613f2b83-895c-497c-9621-76f7279b6183",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "it's just getting going!",
          "ts": "1654638373.767039",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Hcg8R",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "it's just getting going!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "60e5bcd4-d7c0-4d40-89ea-e53c1b7cd859",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "What time is it there? 22:45 here",
          "ts": "1654638397.108489",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7U9Ps",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "What time is it there? 22:45 here"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "09a4500e-2bfb-4018-af15-81d5443a0706",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "14:45",
          "ts": "1654638410.370809",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UnW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "14:45"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "96c4c85f-49ce-49fc-ae3d-ae279a348db5",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Oooh jealous, there's never enough hours in the day!",
          "ts": "1654638428.438149",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WAjO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Oooh jealous, there's never enough hours in the day!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e06bae25-ee83-4f23-bfd5-ae10b4cd6829",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "are these really formally related ?  As in if any of the properties change you want to update the objects as well ?",
          "ts": "1654638476.620709",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "fzGF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "are these really formally related ?  As in if any of the properties change you want to update the objects as well ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e7f857e1-e9c7-4ea9-9b54-69e22ea9703b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "or do you just want a computation that fetches all the B's that match A's name ?",
          "ts": "1654638489.891419",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+USLc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "or do you just want a computation that fetches all the B's that match A's name ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1a237e7f-202f-408f-ad58-2aae92a89bfe",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "I want them to have complete referential integrity",
          "ts": "1654638517.286919",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "W6bj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I want them to have complete referential integrity"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "67f40792-9123-44be-927b-e36f1c92880f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "so if B's categoryName changes, or if A's name changes, you also want to update this relationship ?",
          "ts": "1654638584.205019",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Eceah",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so if B's categoryName changes, or if A's name changes, you also want to update this relationship ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4b0c7df4-e33a-48ff-b541-717fbad6a95f",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Yeah, that's the one!",
          "ts": "1654638594.979589",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Lc1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, that's the one!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "99873104-1a2d-484c-a05c-5ab6b4639180",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "categories are just an example per se but the logic still applies to my problem",
          "ts": "1654638632.972769",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sr6Y8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "categories are just an example per se but the logic still applies to my problem"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "60cfa86e-7879-424e-878a-fb2da2419407",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think I'd start with `NSManagedObjectContextWillSaveNotification` to update these in the same transaction whenever possible, and also have an observer on persistent history to review the A \u0026amp; B state whenever those properties change.",
          "ts": "1654638703.119359",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dN81p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think I'd start with "
                    },
                    {
                      "type": "text",
                      "text": "NSManagedObjectContextWillSaveNotification",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to update these in the same transaction whenever possible, and also have an observer on persistent history to review the A \u0026 B state whenever those properties change."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7cdadd84-a0d9-43fe-b802-5ff65a057624",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Sorry, not quite sure I've explained myself very well haha",
          "ts": "1654638827.378679",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cdZ/B",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry, not quite sure I've explained myself very well haha"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2f7139d8-6d03-4bc4-88ed-ae9aebe4821d",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "The properties changing is not relevant really and is not a deciding factor for me choosing to create two Entities with a One to Many relationship. My main query I suppose is if I were to have a function, where will this function reside? In the ViewModel for Entity B (the new Object being saved) or on the DataController: ObservableObject class that manages the viewContext?",
          "ts": "1654638989.335389",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lGu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The properties changing is not relevant really and is not a deciding factor for me choosing to create two Entities with a One to Many relationship. My main query I suppose is if I were to have a function, where will this function reside? In the ViewModel for Entity B (the new Object being saved) or on the DataController: ObservableObject class that manages the viewContext?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2e2bf2f4-f151-4955-bb3a-6aca993f3137",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Hmm.  It's a little odd to have a constraint but not maintain it.  For simply creating the relationship in the first place, you have a lot of flexibility.",
          "ts": "1654639114.325499",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hVQy5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hmm.  It's a little odd to have a constraint but not maintain it.  For simply creating the relationship in the first place, you have a lot of flexibility."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "644afa9a-bd5f-45d4-9279-b8ca034d5392",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Core Data manages the inverse automatically, so you can do it from either side, based on what's convenient",
          "ts": "1654639132.424149",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cYpV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Core Data manages the inverse automatically, so you can do it from either side, based on what's convenient"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dc942429-9064-4d99-8aec-5316bcc3ddb1",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Said function is just going to\n1. create the new Entity B\n2. query all Entity A objects that are saved to the MOC\n3. pull out the one that matches the query\n4. append the relationship property of the newly created Entity B to the newly found Entity A\n5. Save the MOC",
          "ts": "1654639153.960099",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "D8Ge",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Said function is just going to\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"create the new Entity B\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"query all Entity A objects that are saved to the MOC\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"pull out the one that matches the query\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"append the relationship property of the newly created Entity B to the newly found Entity A\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Save the MOC\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4bafe0ef-a702-47b4-8341-2758bdc792b4",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Anywhere you like.   The challenge is how you structure things to ensure creating entityB always uses the same flow",
          "ts": "1654639214.738169",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XoQ+I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Anywhere you like.   The challenge is how you structure things to ensure creating entityB always uses the same flow"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3621f01f-a222-45aa-a0eb-b63c847440ed",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Haha I think this is what I'm struggling with. I feel like as much as there are plenty of ways to do things in most languages, I am very happy to know what the de-facto standard is for some things :rolling_on_the_floor_laughing:",
          "ts": "1654639310.169949",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "F1Q2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Haha I think this is what I'm struggling with. I feel like as much as there are plenty of ways to do things in most languages, I am very happy to know what the de-facto standard is for some things "
                    },
                    {
                      "type": "emoji",
                      "name": "rolling_on_the_floor_laughing",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "45419070-4bd6-4368-9dbc-8f966868112e",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Quite easy to feel like you're possibly doing things that are more expensive than required or making things worse in the long run!",
          "ts": "1654639338.770419",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4fs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Quite easy to feel like you're possibly doing things that are more expensive than required or making things worse in the long run!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6c52f47f-7bb2-42f2-ba73-a61e7cf42d68",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "When you say you can do it from either side, what do you mean by that? I'm presuming that in order to create a the above function id also need to have a fetch request to filter on and query my conditional argument for locating the right Entity A object",
          "ts": "1654639451.155319",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YfNG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "When you say you can do it from either side, what do you mean by that? I'm presuming that in order to create a the above function id also need to have a fetch request to filter on and query my conditional argument for locating the right Entity A object"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5e815131-54d7-4432-bdfb-ed5c600d9dc6",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Sorry, this is longer than I thought it would be for you :see_no_evil:",
          "ts": "1654639471.930029",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kft",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry, this is longer than I thought it would be for you "
                    },
                    {
                      "type": "emoji",
                      "name": "see_no_evil",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "fb0bad45-e999-45e1-860e-c141bc5b7fc7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You can establish the relationship either from B to A, or from A to B, however is convenient",
          "ts": "1654639743.743249",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xi+N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can establish the relationship either from B to A, or from A to B, however is convenient"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dbfb75eb-3ebd-4234-9065-328133eddfc5",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Either way, is it still the right approach that I use some kind of filtered fetch request before assignment? Unless for example I knew that one part of the relationship was static and I just wanted to say something like EntityA.entityBItems = EntityB[7]",
          "ts": "1654639895.559859",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "T=DtD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Either way, is it still the right approach that I use some kind of filtered fetch request before assignment? Unless for example I knew that one part of the relationship was static and I just wanted to say something like EntityA.entityBItems = EntityB[7]"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8b3909d5-e124-4bda-9bde-62358bc311e1",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Thanks for replying either way mate, I did catch the message in the centre stating the Q\u0026amp;A was done for today!",
          "ts": "1654639920.171469",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yHy3o",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for replying either way mate, I did catch the message in the centre stating the Q\u0026A was done for today!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6e89e881-2bed-41b8-ad20-adb7401eec0a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think for a very generalized thing, a fetch request would be the way.  Fetching requires I/O, though, so it can be expensive if you do a very large numbers of very small requests",
          "ts": "1654640235.065229",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=h+0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think for a very generalized thing, a fetch request would be the way.  Fetching requires I/O, though, so it can be expensive if you do a very large numbers of very small requests"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ea956480-f6e3-4fd6-a24b-5adaf29baf99",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "This is what I was thinking hence asking if there was a standardised approach :thinking_face:",
          "ts": "1654640267.532679",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3zDe+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is what I was thinking hence asking if there was a standardised approach "
                    },
                    {
                      "type": "emoji",
                      "name": "thinking_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "944d2144-12af-418a-8894-f2469a3c06ba",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "It just feels wasteful",
          "ts": "1654640276.648279",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "z4yY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It just feels wasteful"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "de341ca6-e9f1-4004-9588-c6fee4e61b29",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the other approach folks sometimes use is to set a unique constraint (like on B's categoryName) and then just always creating a B and letting us upsert it",
          "ts": "1654640303.570779",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wnH4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the other approach folks sometimes use is to set a unique constraint (like on B's categoryName) and then just always creating a B and letting us upsert it"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "fb358a69-bbd8-450d-9ada-e3fffe6e4650",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "upsert?",
          "ts": "1654640319.142659",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wTOP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "upsert?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df0a6c16-ad76-446a-b859-916b752a9961",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that may be a little less convenient for your use case",
          "ts": "1654640320.207089",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6wi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that may be a little less convenient for your use case"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "82daeef4-4c67-44eb-b771-995cafb6b9e2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "(insert or update)",
          "ts": "1654640325.706099",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "stpW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "(insert or update)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3700ad2b-3dbc-4de8-ac23-d8bcbddfd975",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "another approach is to assigned a batch of Bs together instead of one at a time.  that way you could do a fetch for the batch",
          "ts": "1654640365.936719",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Y9lj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "another approach is to assigned a batch of Bs together instead of one at a time.  that way you could do a fetch for the batch"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f8089dfe-2991-44fa-af81-ef71442b0af3",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think I'd be tempted to start with the simple fetch, and then just keep in mind it might need some refinement if the performance isn't what you need",
          "ts": "1654640390.583559",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "FL=h",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think I'd be tempted to start with the simple fetch, and then just keep in mind it might need some refinement if the performance isn't what you need"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "16dc2833-fbd5-42a0-a141-f188d53166d9",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "in the context of assigning an item to a category, I'm not sure how the above would work? If the user is creating one item at a time, but for referential integrity purposes it has to be assigned to a category, it feels as though the only way is to do a fetch request every time before assigning it?",
          "ts": "1654640447.098969",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/pMe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "in the context of assigning an item to a category, I'm not sure how the above would work? If the user is creating one item at a time, but for referential integrity purposes it has to be assigned to a category, it feels as though the only way is to do a fetch request every time before assigning it?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "65e580a1-02ab-4192-80a8-e7f337ee6feb",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If A needs a B with a category X, it can just always create B with name X if B has a unique constraint on X",
          "ts": "1654640648.016119",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4zw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If A needs a B with a category X, it can just always create B with name X if B has a unique constraint on X"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "85f84398-bd74-4224-9758-c8619c92cc32",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "This is more common with stuff like JSON parsing, so you don't have to keep fetching to decide \"do I need to insert, or do I need to update\"",
          "ts": "1654640694.790039",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+bGS",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is more common with stuff like JSON parsing, so you don't have to keep fetching to decide \"do I need to insert, or do I need to update\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "B24C7689-B925-4511-B8CC-2C0EB7CBA099",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "I'll have a nosey online ",
          "ts": "1654640756.856639",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JJ3P",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I'll "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " nosey "
                    },
                    {
                      "type": "text",
                      "text": "online"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "A9412C1B-B402-497A-BCB5-151A8FFB5984",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "If the use was updating an item, I'd already have the context of the item and it's properties and I'd update it from there, I wouldn't need to fetch any other properties",
          "ts": "1654640831.039259",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sll",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "was"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "updating"
                    },
                    {
                      "type": "text",
                      "text": " an "
                    },
                    {
                      "type": "text",
                      "text": "item,"
                    },
                    {
                      "type": "text",
                      "text": " I'd "
                    },
                    {
                      "type": "text",
                      "text": "already"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "context"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "item"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " it's "
                    },
                    {
                      "type": "text",
                      "text": "properties"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " I'd "
                    },
                    {
                      "type": "text",
                      "text": "update"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " from there"
                    },
                    {
                      "type": "text",
                      "text": ","
                    },
                    {
                      "type": "text",
                      "text": " I wouldn't "
                    },
                    {
                      "type": "text",
                      "text": "need"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " fetch "
                    },
                    {
                      "type": "text",
                      "text": "any"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "other"
                    },
                    {
                      "type": "text",
                      "text": " properties"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "60266F0C-9B59-4E9F-8810-4D46EE8220DD",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Fetch any other relationships* ",
          "ts": "1654640844.853749",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ElD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Fetch"
                    },
                    {
                      "type": "text",
                      "text": " any "
                    },
                    {
                      "type": "text",
                      "text": "other"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "relationships*"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5CF48670-A3C5-49AD-919C-CCD36189E031",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "I'm simply taking about creating a relationship dynamically using a query rather than stating add X item to Y[0] (because I know that the first record in the category entity array is the one I want. If the user adds their own categories and perhaps decides to delete the first category they saved, then re-adds it and it now is at, index 7 let's say, I can't then write static code that says append object X to object[7] because it's unknown to me, I have to somehow query the entities of type Y and say right, if this category object is a match for what category the user is wanting to add it to, then pull it out, add it and then save. Logically the only way it seems to do that is by creating a filtered fetch request every time the use adds a new X Entity. Would create this function on a DataController class or on a ViewModel (for either entity)",
          "ts": "1654641244.893709",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "q47o",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I'm simply "
                    },
                    {
                      "type": "text",
                      "text": "taking"
                    },
                    {
                      "type": "text",
                      "text": " about creating "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "relationship"
                    },
                    {
                      "type": "text",
                      "text": " dynamically "
                    },
                    {
                      "type": "text",
                      "text": "using"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " query rather than "
                    },
                    {
                      "type": "text",
                      "text": "stating"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "add"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "X"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "item"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Y[0]"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "("
                    },
                    {
                      "type": "text",
                      "text": "because I "
                    },
                    {
                      "type": "text",
                      "text": "know"
                    },
                    {
                      "type": "text",
                      "text": " that "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "first"
                    },
                    {
                      "type": "text",
                      "text": " r"
                    },
                    {
                      "type": "text",
                      "text": "ecord"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " category "
                    },
                    {
                      "type": "text",
                      "text": "entity"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "array"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "one"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "want."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "If"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "user"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "adds"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "their"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "own"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "categories"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "perhaps"
                    },
                    {
                      "type": "text",
                      "text": " deci"
                    },
                    {
                      "type": "text",
                      "text": "des to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "delete"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "first"
                    },
                    {
                      "type": "text",
                      "text": " category "
                    },
                    {
                      "type": "text",
                      "text": "they"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "saved,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "then"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "re-adds"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "now"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "at,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "index"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "7"
                    },
                    {
                      "type": "text",
                      "text": " let's say"
                    },
                    {
                      "type": "text",
                      "text": ","
                    },
                    {
                      "type": "text",
                      "text": " I can't "
                    },
                    {
                      "type": "text",
                      "text": "then"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "write"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "static"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "code"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "says"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "append"
                    },
                    {
                      "type": "text",
                      "text": " object "
                    },
                    {
                      "type": "text",
                      "text": "X"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " object"
                    },
                    {
                      "type": "text",
                      "text": "[7]"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "because"
                    },
                    {
                      "type": "text",
                      "text": " it's "
                    },
                    {
                      "type": "text",
                      "text": "unknown"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "me,"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "somehow"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "query"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " entities "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "type"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Y"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "say"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "right,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "if"
                    },
                    {
                      "type": "text",
                      "text": " this "
                    },
                    {
                      "type": "text",
                      "text": "category"
                    },
                    {
                      "type": "text",
                      "text": " object "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "match"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "for"
                    },
                    {
                      "type": "text",
                      "text": " what "
                    },
                    {
                      "type": "text",
                      "text": "category"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "user"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "wanting"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "add"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "then"
                    },
                    {
                      "type": "text",
                      "text": " pull "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "out,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "add"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "then"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "save."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Logically"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " only "
                    },
                    {
                      "type": "text",
                      "text": "way"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " seems "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "do"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "by"
                    },
                    {
                      "type": "text",
                      "text": " creating "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "filtered"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "fetch"
                    },
                    {
                      "type": "text",
                      "text": " request ever"
                    },
                    {
                      "type": "text",
                      "text": "y"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "time"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "adds"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " new "
                    },
                    {
                      "type": "text",
                      "text": "X"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Entity."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Would"
                    },
                    {
                      "type": "text",
                      "text": " create "
                    },
                    {
                      "type": "text",
                      "text": "this"
                    },
                    {
                      "type": "text",
                      "text": " function "
                    },
                    {
                      "type": "text",
                      "text": "on"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "DataController"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "class"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "on"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "ViewModel"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "(for"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "either"
                    },
                    {
                      "type": "text",
                      "text": " entity"
                    },
                    {
                      "type": "text",
                      "text": ")"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0BCB99B8-BFB3-4120-B75F-7D29A8A6FBEF",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "That is my last question, I promise :weary::rolling_on_the_floor_laughing:",
          "ts": "1654641257.821449",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7NG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "last"
                    },
                    {
                      "type": "text",
                      "text": " question"
                    },
                    {
                      "type": "text",
                      "text": ","
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "promise"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "emoji",
                      "name": "weary",
                      "skin_tone": 0
                    },
                    {
                      "type": "emoji",
                      "name": "rolling_on_the_floor_laughing",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f3e09204-bc82-426c-aa93-cf4cad83309c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "i mean, it's your only question, so sure!",
          "ts": "1654642192.246589",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CMUE6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "i mean, it's your only question, so sure!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c39588e8-5536-4c40-a41e-2911251ec1f0",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "at the end of the day, either of those approaches works, and there's a gradient of options.  Neither is wronger.  The primary concern would be to facilitate batching to be efficient, if you need it",
          "ts": "1654642261.212919",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9TTt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "at the end of the day, either of those approaches works, and there's a gradient of options.  Neither is wronger.  The primary concern would be to facilitate batching to be efficient, if you need it"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b30dbf94-b378-4011-897f-e6839f8b8637",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "Okay, so good to play around then and see what works best with my current model etc then tinker with the fetching etc if required for performance",
          "ts": "1654642318.661979",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bEl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Okay, so good to play around then and see what works best with my current model etc then tinker with the fetching etc if required for performance"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1d9c245a-3faf-401c-88ed-92ce201d588a",
          "type": "message",
          "user": "U03K1TMNVMF",
          "text": "I'm sorry, as I said before, I like to know the preferred methods and I can just get stuck down in the not always necessary details!",
          "ts": "1654642353.553279",
          "thread_ts": "1654637770.575539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DkY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I'm sorry, as I said before, I like to know the preferred methods and I can just get stuck down in the not always necessary details!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JG18LGAG\u003e asked\n\u0026gt; Do you have any tipps how to debug and get additional information out of a [NSPersistentStoreCoordinator _introspectLastErrorAndThrow] error. Or is it \"to late\" if this error happens and the store setup is in an inconsistent state in general?",
      "ts": "1654637949.524019",
      "thread_ts": "1654637949.524019",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654638549.936639",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "YkvS5",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JG18LGAG"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Do you have any tipps how to debug and get additional information out of a [NSPersistentStoreCoordinator _introspectLastErrorAndThrow] error. Or is it \\\"to late\\\" if this error happens and the store setup is in an inconsistent state in general?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "2bca457c-1f1e-4825-839e-c3aac2422aaf",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Generally this will be an error from opening / loading the store file.  Have you checked the logs ?",
          "ts": "1654637990.152999",
          "thread_ts": "1654637949.524019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TKF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Generally this will be an error from opening / loading the store file.  Have you checked the logs ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "251af692-84b3-480c-8303-334ac4b50b7f",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "I was not able to repoduce it so I only have the Xcode crash reporting. It happens after a ManagedObjectContext Save.",
          "ts": "1654638295.373529",
          "thread_ts": "1654637949.524019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/SR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I was not able to repoduce it so I only have the Xcode crash reporting. It happens after a ManagedObjectContext Save."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "79717d86-f6c8-4d88-a457-9b5028906d4e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "do you have a full crash report ?",
          "ts": "1654638318.416279",
          "thread_ts": "1654637949.524019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "gJpb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "do you have a full crash report ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3770db41-5e81-4621-b544-e190fd90cf0f",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "Only the xccrashpoints",
          "ts": "1654638468.610259",
          "thread_ts": "1654637949.524019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Iy/8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Only the xccrashpoints"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ce9c2b85-a42c-471b-9446-84b194bb822f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Hmm I think those have crash reports if you open up the bundle",
          "ts": "1654638549.936639",
          "thread_ts": "1654637949.524019",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "k5IPO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hmm I think those have crash reports if you open up the bundle"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "48d3bcb5-73e5-446b-94b3-108217474eb6",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Hi everyone, we have about 5 minutes left for this afternoon.",
      "ts": "1654638988.291689",
      "thread_ts": "1654638988.291689",
      "reply_count": 1,
      "latest_reply": "1654639053.786469",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Lj7X",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Hi everyone, we have about 5 minutes left for this afternoon."
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "e36d7123-492b-4fa5-bea1-7b6eba2ca47f",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Thanks to you and everyone on the Core Data team! You guys work incredibly hard and it really shows! :slightly_smiling_face:",
          "ts": "1654639053.786469",
          "thread_ts": "1654638988.291689",
          "parent_user_id": "U03HJA0EJ1G",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "right-facing_fist",
              "count": 2,
              "users": [
                "U03HFC8U0J1",
                "U03JHBP20MP"
              ]
            },
            {
              "name": "left-facing_fist::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            },
            {
              "name": "+1",
              "count": 2,
              "users": [
                "U03JG18LGAG",
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "iYSJP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks to you and everyone on the Core Data team! You guys work incredibly hard and it really shows! "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JG18LGAG\u003e asked\n\u0026gt; I am not sure of this is the right place for the question because it has also to do with the WidgetKit life cycle. So before performing reads/writes we always check first if a migration is necessary. So in our Widgets we start this migration in the init method of the TimelineProvider and not necessarily wait in the life cycle methods for the migration to finish. Do you think this is error-prone? Would it be better to check the migration in every life cycle method separately, because then we could wait there for the migration to finish before performing reads/writes. By writing this I think I have answered it myself. But I would be interested in your feedback as well.",
      "ts": "1654639033.985559",
      "thread_ts": "1654639033.985559",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 12,
      "latest_reply": "1654639645.532279",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03KLUE45EC"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "CUu",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JG18LGAG"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I am not sure of this is the right place for the question because it has also to do with the WidgetKit life cycle. So before performing reads\\/writes we always check first if a migration is necessary. So in our Widgets we start this migration in the init method of the TimelineProvider and not necessarily wait in the life cycle methods for the migration to finish. Do you think this is error-prone? Would it be better to check the migration in every life cycle method separately, because then we could wait there for the migration to finish before performing reads\\/writes. By writing this I think I have answered it myself. But I would be interested in your feedback as well.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "32d8fc40-2fdb-4ce2-94e3-5c010c957790",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "You should have the App control migration and not the Widget or Extension",
          "ts": "1654639055.435779",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OFqfX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You should have the App control migration and not the Widget or Extension"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e6521b51-95be-4d23-bf24-655aa101874a",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "And as you mentioned, the Widget/Extension would detect a migration was needed and would either wait for that state to change before trying again or prompt the user to open the App",
          "ts": "1654639109.447899",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lymJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And as you mentioned, the Widget/Extension would detect a migration was needed and would either wait for that state to change before trying again or prompt the user to open the App"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e9d03594-daad-4510-90c3-39f96e850b23",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "But how should I handle the case then when there is a core data migration necessary and the widget code runs before the app gets opened?",
          "ts": "1654639143.857709",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "q+gfE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But how should I handle the case then when there is a core data migration necessary and the widget code runs before the app gets opened?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "00ac2f19-8805-49d3-9060-4592a1667d6f",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "Is there any reason why a migration should not be performed from a widget extension?",
          "ts": "1654639229.361089",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HYs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is there any reason why a migration should not be performed from a widget extension?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6f6b2dd1-1eb0-4a7a-bc93-1ef654f41e0f",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "The widget may succeed in migration, but if the migration takes too long it will not be able to finish the migration and would likely loop on that type of failure",
          "ts": "1654639254.671639",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "X4x",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The widget may succeed in migration, but if the migration takes too long it will not be able to finish the migration and would likely loop on that type of failure"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2b79bc35-bcab-41bb-92b9-fe41076d7cff",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "the other approach would be to have a small subset of data used by the widget in a second store, while the application uses the main store with the full data set",
          "ts": "1654639306.850669",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GP3d",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the other approach would be to have a small subset of data used by the widget in a second store, while the application uses the main store with the full data set"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a21c9245-4306-4e3d-b80c-9772aeb37e33",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "the main problem is the widget will have limited resources, and that will impact the ability to migrate larger datasets",
          "ts": "1654639339.267689",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Y=hy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the main problem is the widget will have limited resources, and that will impact the ability to migrate larger datasets"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "01518b13-25eb-4060-a4b6-f57a9a5bfc93",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "I do not think that this is a “size” in our use case because we are talking about one entity with a few entries",
          "ts": "1654639395.321679",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wzjF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I do not think that this is a “size” in our use case because we are talking about one entity with a few entries"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dd237b12-7a9b-4b28-bcc5-67d60cf8b24e",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "so if the migration is on-going and your widget saves, it may experience the case of attempting to save without any stores",
          "ts": "1654639455.429519",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vViUX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so if the migration is on-going and your widget saves, it may experience the case of attempting to save without any stores"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d9f6b879-991a-46e7-a950-8045d720f57d",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "As I wrote I think we can fix that by waiting for the migration in the life cycle methods to prevent this.",
          "ts": "1654639522.648159",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "m9Mi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "As I wrote I think we can fix that by waiting for the migration in the life cycle methods to prevent this."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e5c4a709-1da9-4fae-8cb5-f009fcd3337a",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "so you could just let migration happen asynchronously and only attempt to save if there is more than one store on the context's persistentStoreCoordinator",
          "ts": "1654639524.076629",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "F0Xz1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "so you could just let migration happen asynchronously and only attempt to save if there is more than one store on the context's persistentStoreCoordinator"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0a004d57-5cc6-4d74-9c48-39f42b30c420",
          "type": "message",
          "user": "U03JG18LGAG",
          "text": "The migration happens already asynchronously on a different queue with the barrier flag. I think that waiting for it to finish could be the missing link.",
          "ts": "1654639645.532279",
          "thread_ts": "1654639033.985559",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rLdWE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The migration happens already asynchronously on a different queue with the barrier flag. I think that waiting for it to finish could be the missing link."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "bf5aa4d7-9ef2-427c-bb3a-035d9b152350",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Thank you for joining us for this Q\u0026amp;A!  While this session has to end, we’ll be hosting another Q\u0026amp;A Friday morning from 10am to 1pm.   We’re also offering by appointment labs Wednesday and Thursday from 1pm to 3pm.  And of course please check out our presentations 'Evolve your Core Data schema' and 'Optimize your use of Core Data and CloudKit'.  David will be hosting a 'Meet the Presenter: Evolve your Core Data schema' session Thursday from 11am to noon.  Have a great week!",
      "ts": "1654639506.160919",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "raised_hands",
          "count": 3,
          "users": [
            "U03JFQ1BQMA",
            "U03J2019QTV",
            "U03J4BUMYLU"
          ]
        },
        {
          "name": "+1",
          "count": 2,
          "users": [
            "U03JG18LGAG",
            "U03JERVQBFX"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "DEM4Z",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Thank you for joining us for this Q\u0026A!  While this session has to end, we’ll be hosting another Q\u0026A Friday morning from 10am to 1pm.   We’re also offering by appointment labs Wednesday and Thursday from 1pm to 3pm.  And of course please check out our presentations 'Evolve your Core Data schema' and 'Optimize your use of Core Data and CloudKit'.  David will be hosting a 'Meet the Presenter: Evolve your Core Data schema' session Thursday from 11am to noon.  Have a great week!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "416294a4-bb18-4001-9a8e-98aee7cb0fc4",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Just a reminder, if you applied for a lab appointment but don't get one, it's not because we don't want to talk to you.  We have some more availability on Thursday afternoon (pacific) and we'll be running more Slack Q\u0026amp;A during the week!  Thanks everyone.",
      "ts": "1654659596.978099",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "+1",
          "count": 4,
          "users": [
            "U03HVCK66P8",
            "U03J4CSSF6G",
            "U03JEG3EVL4",
            "U03JHDCDVBK"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "jnQ5H",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Just a reminder, if you applied for a lab appointment but don't get one, it's not because we don't want to talk to you.  We have some more availability on Thursday afternoon (pacific) and we'll be running more Slack Q\u0026A during the week!  Thanks everyone."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "a352dd27-2ad0-492a-9081-2801af2b028b",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "\u003c!here\u003e Hi everyone, and welcome to the *\u003chttps://developer.apple.com/wwdc22/10120/|Evolve your Core Data schema\u003e* watch party! We’re so happy to have you all here. My name is Patrick and I’m the System Frameworks Evangelist here at Apple! In this hour, I invite all of you to watch *\u003chttps://developer.apple.com/wwdc22/10120/|Evolve your Core Data schema\u003e* together, alongside our presenter David Stites! Queue up the video and get ready to *hit play at 11:05am PDT*. In addition to David, we’re also joined by the Core Data team, who are ready to answer your questions!\n\nThere’s a lot of us here, so we’re going to do our best to keep things organized. As the video progresses, I’ll be creating threads associated with each section of the talk, where everyone can chat and ask questions.\n\nWe’ll get started at *11:05am PDT* sharp! Get ready to hit play at the same time to stay in sync! Don’t watch at 2x speed — *this is a no-fly zone for spoilers!*\n\nWhen the video finishes, we’ll have some time left over for additional targeted Q\u0026amp;A, which I’ll explain when we get there. So for the next few minutes, grab your popcorn, get comfortable, and get ready to hit that play button in 5 min!",
      "ts": "1654797616.185179",
      "attachments": [
        {
          "fallback": "Apple Developer: Evolve your Core Data schema - WWDC22 - Videos - Apple Developer",
          "id": 1,
          "title": "Evolve your Core Data schema - WWDC22 - Videos - Apple Developer",
          "title_link": "https://developer.apple.com/wwdc22/10120/",
          "text": "Learn how you can cleanly migrate Core Data schemas after updating your app, and breeze through data model changes. We'll show you how...",
          "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/124/6616/6616_wide_250x141_2x.jpg",
          "service_name": "Apple Developer",
          "service_icon": "https://developer.apple.com/favicon.ico",
          "from_url": "https://developer.apple.com/wwdc22/10120/",
          "original_url": "https://developer.apple.com/wwdc22/10120/",
          "blocks": null
        }
      ],
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "star-struck",
          "count": 2,
          "users": [
            "U03HVCK66P8",
            "U03JRQAFUKA"
          ]
        },
        {
          "name": "watch",
          "count": 1,
          "users": [
            "U03J4D1FEP6"
          ]
        },
        {
          "name": "tada",
          "count": 3,
          "users": [
            "U03J4D1FEP6",
            "U03J2GNP82E",
            "U03HJA0EJ1G"
          ]
        },
        {
          "name": "heart",
          "count": 2,
          "users": [
            "U03HFC8U0J1",
            "U03J2GNP82E"
          ]
        },
        {
          "name": "rotating_light",
          "count": 2,
          "users": [
            "U03HFC8U0J1",
            "U03K81E5VU1"
          ]
        },
        {
          "name": "airplane",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        },
        {
          "name": "floppy_disk",
          "count": 1,
          "users": [
            "U03JRQVAY9E"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "2IW",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "broadcast",
                  "range": "here"
                },
                {
                  "type": "text",
                  "text": " Hi everyone, and welcome to the"
                },
                {
                  "type": "text",
                  "text": " ",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "link",
                  "url": "https://developer.apple.com/wwdc22/10120/",
                  "text": "Evolve your Core Data schema",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": " watch party! We’re so happy to have you all here. My name is Patrick and I’m the System Frameworks Evangelist here at Apple! In this hour, I invite all of you to watch "
                },
                {
                  "type": "link",
                  "url": "https://developer.apple.com/wwdc22/10120/",
                  "text": "Evolve your Core Data schema",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": " ",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": "together, alongside our presenter David Stites! Queue up the video and get ready to "
                },
                {
                  "type": "text",
                  "text": "hit play at 11:05am PDT",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": ". In addition to David, we’re also joined by the Core Data team, who are ready to answer your questions!\n\nThere’s a lot of us here, so we’re going to do our best to keep things organized. As the video progresses, I’ll be creating threads associated with each section of the talk, where everyone can chat and ask questions.\n\nWe’ll get started at "
                },
                {
                  "type": "text",
                  "text": "11:05am PDT ",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": "sharp! Get ready to hit play at the same time to stay in sync! Don’t watch at 2x speed — "
                },
                {
                  "type": "text",
                  "text": "this is a no-fly zone for spoilers!",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": "\n\nWhen the video finishes, we’ll have some time left over for additional targeted Q\u0026A, which I’ll explain when we get there. So for the next few minutes, grab your popcorn, get comfortable, and get ready to hit that play button in 5 min!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "9239aedb-0508-4df7-b450-942bc110d2be",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":thread: Who’s excited? Any fun WWDC22 moments you’d like to share? Let’s hear about them!",
      "ts": "1654797676.237559",
      "thread_ts": "1654797676.237559",
      "reply_count": 7,
      "latest_reply": "1654836079.200319",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "small_airplane",
          "count": 2,
          "users": [
            "U03HWU7EYBB",
            "U03HFC8U0J1"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Gek6x",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "thread",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " Who’s excited? Any fun WWDC22 moments you’d like to share? Let’s hear about them!"
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "CA2326DC-9D10-44FF-84D0-22EB672D97A9",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "I’m psyched! I always love the week of WWDC!",
          "ts": "1654797794.200209",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "star-struck",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "w5N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "psyched!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "always"
                    },
                    {
                      "type": "text",
                      "text": " love th"
                    },
                    {
                      "type": "text",
                      "text": "e"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "week"
                    },
                    {
                      "type": "text",
                      "text": " of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "W"
                    },
                    {
                      "type": "text",
                      "text": "WDC!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "A7E68D91-4DFB-4F81-BE19-5E5ECDC367E6",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "So much energy from everyone",
          "ts": "1654797815.862109",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "laughing",
              "count": 1,
              "users": [
                "U03J4D1FEP6"
              ]
            },
            {
              "name": "coffee",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MWb2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So"
                    },
                    {
                      "type": "text",
                      "text": " much energy from everyone"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b5151806-428f-45ae-b961-5205afef541a",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "I’m always flying high for some announcements and sessions and labs and lounges!",
          "ts": "1654797827.402959",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tRQ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m always flying high for some announcements and sessions and labs and lounges!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "efb3854a-aced-4455-b604-8fc0f1681dc4",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "It’s 6am here in New Zealand David, you think this much energy comes for free? :upside_down_face:",
          "ts": "1654797902.033189",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "exploding_head",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "coffee",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eJ=pP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s 6am here in New Zealand David, you think this much energy comes for free? "
                    },
                    {
                      "type": "emoji",
                      "name": "upside_down_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d2828542-d6bf-436a-b9b4-bb88b85fdf9f",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "My best WWDC moment was completing the design mockups for v2.0 of my app yesterday, in prep for a Design Lab in a few hours from now…",
          "ts": "1654797943.967039",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "clap",
              "count": 1,
              "users": [
                "U03J90D8Q0Y"
              ]
            },
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "tada",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9fTd5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "My best WWDC moment was completing the design mockups for v2.0 of my app yesterday, in prep for a Design Lab in a few hours from now…"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "AA123DDB-31BF-45D0-A949-7DC7EBE89269",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "What's the concept of the app?",
          "ts": "1654798328.312009",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "uoao5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "What's "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "concept"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "app?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0e49328e-e825-4def-879c-0adbd1c07948",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "Hey just saw this. :slightly_smiling_face: It’s Intro, a tool for making great connections. Manage contacts, keep notes attached to people, with an errorless learning tool to help people learn names and recognise faces. The redesign is to make it easier to discover and use, add some additional features, and take the app multi-platform (iOS, iPadOS, macOS) now that iCloud sync is in place for all app data. The design lab went great… can’t wait to get v2.0 out to people. :partying_face:",
          "ts": "1654836079.200319",
          "thread_ts": "1654797676.237559",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nn5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hey just saw this. "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " It’s Intro, a tool for making great connections. Manage contacts, keep notes attached to people, with an errorless learning tool to help people learn names and recognise faces. The redesign is to make it easier to discover and use, add some additional features, and take the app multi-platform (iOS, iPadOS, macOS) now that iCloud sync is in place for all app data. The design lab went great… can’t wait to get v2.0 out to people. "
                    },
                    {
                      "type": "emoji",
                      "name": "partying_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "11c2df86-b36f-4984-b5c0-196511cba927",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "We’ve been cleared for takeoff! Hit play in 3….2….1…. *GO!*",
      "ts": "1654797918.758789",
      "thread_ts": "1654797918.758789",
      "reply_count": 4,
      "latest_reply": "1654798074.539839",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "airplane_departure",
          "count": 5,
          "users": [
            "U03HWU7EYBB",
            "U03J2GNP82E",
            "U03JEEUJPMJ",
            "U03HFC8U0J1",
            "U03HK7797D0"
          ]
        },
        {
          "name": "partying_face",
          "count": 1,
          "users": [
            "U03J90D8Q0Y"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "5Opb",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "We’ve been cleared for takeoff! Hit play in 3….2….1…. "
                },
                {
                  "type": "text",
                  "text": "GO!",
                  "style": {
                    "bold": true
                  }
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "c551d6c5-34ed-4ce5-a878-b870d3884bfb",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "\u003c@U03HFC8U0J1\u003e what was your favorite part about putting this video together?",
          "ts": "1654797960.543349",
          "thread_ts": "1654797918.758789",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TbFf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HFC8U0J1"
                    },
                    {
                      "type": "text",
                      "text": " what was your favorite part about putting this video together?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "AF180C60-99E7-4E87-BE6D-67B8DA122A27",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Incorporating my favorite hobby!",
          "ts": "1654797998.050169",
          "thread_ts": "1654797918.758789",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "star-struck",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "small_airplane",
              "count": 1,
              "users": [
                "U03J90D8Q0Y"
              ]
            },
            {
              "name": "pilot",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "J4Yt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Incorporating"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my"
                    },
                    {
                      "type": "text",
                      "text": " favorite "
                    },
                    {
                      "type": "text",
                      "text": "hobby!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "088D26B5-2732-44DD-BB8D-BB630025E818",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": ":small_airplane: ",
          "ts": "1654798008.080479",
          "thread_ts": "1654797918.758789",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ds0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "small_airplane",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "D6C99516-2170-4C31-93A3-216F83DB5486",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "I also love the full ownership of developing the talk. Content, filming and editing. And all the awesome people! Like you \u003c@U03HWU7EYBB\u003e ",
          "ts": "1654798074.539839",
          "thread_ts": "1654797918.758789",
          "edited": {
            "user": "U03HFC8U0J1",
            "ts": "1654798113.000000"
          },
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "smiling_face_with_tear",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "orange_heart",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7Ddu4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I also love the full ownership of developing the talk. Content, filming and editing. And all the awesome people!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Like"
                    },
                    {
                      "type": "text",
                      "text": " you "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HWU7EYBB"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "0b6a9ace-7c1f-4117-9a99-e1f325e51077",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":thread:Have you had to update your app’s Core Data model schema before? Tell us about your apps and schema migrations here!",
      "ts": "1654798067.746699",
      "thread_ts": "1654798067.746699",
      "reply_count": 1,
      "latest_reply": "1654798290.840129",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "syX",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "thread",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": "Have you had to update your app’s Core Data model schema before? Tell us about your apps and schema migrations here!"
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "716B9FCA-81CD-4A28-8829-D2EA088F4C71",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "I know some of you are hard at work making the next version of my favorite apps!",
          "ts": "1654798290.840129",
          "thread_ts": "1654798067.746699",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "heart_eyes",
              "count": 2,
              "users": [
                "U03HVCK66P8",
                "U03HYBRAJNB"
              ]
            },
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7W80",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "know"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "some"
                    },
                    {
                      "type": "text",
                      "text": " of you "
                    },
                    {
                      "type": "text",
                      "text": "are"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "hard"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "at"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "work"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "making"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "next"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "version"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "favorite"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "apps!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HWU7EYBB\u003e added a workflow to this channel: *Core Data - Ask a Question*.",
      "ts": "1654798350.956599",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "replace_original": false,
      "delete_original": false,
      "blocks": null
    },
    {
      "client_msg_id": "294c32a1-0d44-4997-a95c-3fcd74924698",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":thread:Lightweight migration can handle pretty much anything you throw at it! Have you run into any tricky migrations in your data model? Ask us a question about it, or comment in the thread here!",
      "ts": "1654798370.650809",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "DWOg",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "thread",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": "Lightweight migration can handle pretty much anything you throw at it! Have you run into any tricky migrations in your data model? Ask us a question about it, or comment in the thread here!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "bdace900-206a-49e5-9cd2-adbb6314682d",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":workflowbolt: You can use the “Ask a question” workflow below to submit a question for us to answer!",
      "ts": "1654798401.116079",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "h9k",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "workflowbolt",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " You can use the “Ask a question” workflow below to submit a question for us to answer!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "bda72215-6d0c-4a5d-8a59-5c91fecc87d5",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "Some awesome questions coming in already! We’ll answer as many as we can after the video ends.",
      "ts": "1654798653.887949",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "7P6",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Some awesome questions coming in already! We’ll answer as many as we can after the video ends."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K7L8PUGZ\u003e asked\n\u0026gt; Hi, I’m wondering if the best practice when using NSPersistentCloudKitContainer is to never purge the Core Data persistent history. The documentation for persistent history tracking talks about purging history to reduce storage usage, but that you obviously need a single gatekeeper to determine the oldest history to keep. The NSPersistentCloudKitContainer example projects process persistent history but never attempt to purge any. I see that I might be able to use NSPersistentCloudKitContainer.Event to get a date/time when a sync occurs but I’m not confident this is a wise choice.\n\u0026gt; \n\u0026gt; For my app that will likely have 10-15 “rows” added each day (each with 7-10 integer/double/string “fields”) where there’s a small chance those might be updated / deleted in the future, should I just not worry about purging persistent history? What about a hypothetical app where we’re doing thousands of INSERTs/UPDATEs/DELETEs each day?",
      "ts": "1654798783.995779",
      "thread_ts": "1654798783.995779",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654803157.875839",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "HyD0S",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K7L8PUGZ"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hi, I\\u2019m wondering if the best practice when using NSPersistentCloudKitContainer is to never purge the Core Data persistent history. The documentation for persistent history tracking talks about purging history to reduce storage usage, but that you obviously need a single gatekeeper to determine the oldest history to keep. The NSPersistentCloudKitContainer example projects process persistent history but never attempt to purge any. I see that I might be able to use NSPersistentCloudKitContainer.Event to get a date\\/time when a sync occurs but I\\u2019m not confident this is a wise choice.\\n\\nFor my app that will likely have 10-15 \\u201crows\\u201d added each day (each with 7-10 integer\\/double\\/string \\u201cfields\\u201d) where there\\u2019s a small chance those might be updated \\/ deleted in the future, should I just not worry about purging persistent history? What about a hypothetical app where we\\u2019re doing thousands of INSERTs\\/UPDATEs\\/DELETEs each day?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "d933a212-3fc6-4d55-ba23-5b32846c104a",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Hi Johann, we don’t recommend purging history when using `NSPersistentCloudKitContainer`. This may cause an undesirable user experience and cause a reset sync. The class uses the persistent history as an index of how far it is through an import or export.",
          "ts": "1654798900.784729",
          "thread_ts": "1654798783.995779",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "upSS",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hi Johann, we don’t recommend purging history when using "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ". This may cause an undesirable user experience and cause a reset sync. The class uses the persistent history as an index of how far it is through an import or export."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3fbb623b-379b-4262-ab22-b3223ce646a5",
          "type": "message",
          "user": "U03K7L8PUGZ",
          "text": "Ok, in a situation where my app is doing lots of core data changes and I notice a lot of storage space being used, could I use NSPersistentCloudKitContainer.Event to get a rough idea on how much history could be purged, or should I just never touch it?",
          "ts": "1654799043.659389",
          "thread_ts": "1654798783.995779",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "heavy_plus_sign",
              "count": 1,
              "users": [
                "U03JRPFE82C"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eIx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok, in a situation where my app is doing lots of core data changes and I notice a lot of storage space being used, could I use NSPersistentCloudKitContainer.Event to get a rough idea on how much history could be purged, or should I just never touch it?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "806fd99b-b271-4b68-8d0f-a1796651cb29",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You can.  I'd suggest a very large buffer period, though.",
          "ts": "1654801123.172659",
          "thread_ts": "1654798783.995779",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bpz5N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can.  I'd suggest a very large buffer period, though."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4AAF4E47-0F37-4590-9935-1C918DE60D0D",
          "type": "message",
          "user": "U03K7L8PUGZ",
          "text": "Ok, thanks!",
          "ts": "1654803157.875839",
          "thread_ts": "1654798783.995779",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vPbB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "0096a444-3924-4d89-81e6-d09345c1aa85",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":thread:Ope! David hits an (expected) error during this demo — what are some unexpected errors you’ve run into during a demo?",
      "ts": "1654798904.907619",
      "thread_ts": "1654798904.907619",
      "reply_count": 2,
      "latest_reply": "1654798962.523779",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "w+V",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "thread",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": "Ope! David hits an (expected) error during this demo — what are some unexpected errors you’ve run into during a demo?"
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "685db5f4-e6eb-4011-a951-697db3930abd",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "OPE!",
          "ts": "1654798927.350189",
          "thread_ts": "1654798904.907619",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "open_mouth",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XeV=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "OPE!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4f81ae55-983d-4ce2-8cf0-a45619c43526",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "There it is!",
          "ts": "1654798962.523779",
          "thread_ts": "1654798904.907619",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/64=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There it is!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "a2c173d8-74ac-4f7e-ad4e-ab0524d0dca5",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "We’ve landed at our destination! :airplane_arriving: Please use the “Ask a question” workflow to submit your questions until we finish taxiing to our gate!. Find the :workflowbolt: icon at the lower left and select “Ask a Question workflow” Your question will be delivered directly to the Core Data team, and we’ll repost and answer as many of them as we can.",
      "ts": "1654799117.423209",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "GAcoA",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "We’ve landed at our destination! "
                },
                {
                  "type": "emoji",
                  "name": "airplane_arriving",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " Please use the “Ask a question” workflow to submit your questions until we finish taxiing to our gate!. Find the "
                },
                {
                  "type": "emoji",
                  "name": "workflowbolt",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " icon at the lower left and select “Ask a Question workflow” Your question will be delivered directly to the Core Data team, and we’ll repost and answer as many of them as we can."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J2GNP82E\u003e asked\n\u0026gt; Just got into NSPersistentCloudKitContainer so haven't been able to try it out. Does NSPersistentCloudKitContainer also perform lightweight migrations automatically?",
      "ts": "1654799168.418809",
      "thread_ts": "1654799168.418809",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654799315.416619",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "cM8H",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J2GNP82E"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Just got into NSPersistentCloudKitContainer so haven't been able to try it out. Does NSPersistentCloudKitContainer also perform lightweight migrations automatically?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "3f229bee-909f-4ad8-bd09-c67cc9f1cab2",
          "type": "message",
          "user": "U03J2GNP82E",
          "text": "Asked the question a bit to quickly, got the info in the presentation :smile:",
          "ts": "1654799195.595049",
          "thread_ts": "1654799168.418809",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "L5=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Asked the question a bit to quickly, got the info in the presentation "
                    },
                    {
                      "type": "emoji",
                      "name": "smile",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "782e1c28-793c-4941-83c6-c376463cf639",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Awesome!",
          "ts": "1654799209.223979",
          "thread_ts": "1654799168.418809",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2sBQP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Awesome!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8317e298-ea25-40a8-9bd2-830c29de4ad8",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "We love to hear it!",
          "ts": "1654799229.048609",
          "thread_ts": "1654799168.418809",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "1wZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We love to hear it!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d998ca9e-3cbe-43ad-8b97-32b593efdfed",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "\u003c@U03J2GNP82E\u003e if you have any followup questions, feel free to ask here or with another workflow submission!",
          "ts": "1654799315.416619",
          "thread_ts": "1654799168.418809",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J2GNP82E"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "oFF/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03J2GNP82E"
                    },
                    {
                      "type": "text",
                      "text": " if you have any followup questions, feel free to ask here or with another workflow submission!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; Hi ... thanks for the talk. I've been using Core Data for a few years, and from what I remember, if we wanted to update our data model, we had to create a new 'version' of the data model, make our changed there, and select the new version in the model  properties, before lightweight migration would work. At what point was that behavior changed so that we don't need to create a new version anymore? Are there any benefits for creating a model version?",
      "ts": "1654799292.200619",
      "thread_ts": "1654799292.200619",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654800716.773579",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "999K",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hi ... thanks for the talk. I've been using Core Data for a few years, and from what I remember, if we wanted to update our data model, we had to create a new 'version' of the data model, make our changed there, and select the new version in the model  properties, before lightweight migration would work. At what point was that behavior changed so that we don't need to create a new version anymore? Are there any benefits for creating a model version?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "60b9676a-d68a-46a0-ba76-b32d541f0a8b",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Yes, one of the benefits of creating a new model version is that it allows you to perform migrations that aren’t eligible for lightweight migration if that non-conforming migration is broken down into multiple steps.",
          "ts": "1654799364.818479",
          "thread_ts": "1654799292.200619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rxB6R",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, one of the benefits of creating a new model version is that it allows you to perform migrations that aren’t eligible for lightweight migration if that non-conforming migration is broken down into multiple steps."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "13644fe6-641b-4181-80e1-b82bd0f0524b",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Near the end of the session, I talked about this. But otherwise, feel free to make your changes to your current model and open the store with both migration keys set!",
          "ts": "1654799418.204569",
          "thread_ts": "1654799292.200619",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UrXU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Near the end of the session, I talked about this. But otherwise, feel free to make your changes to your current model and open the store with both migration keys set!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cefaf3ab-a4d7-4c7b-99d6-8508da506a04",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks. But I'm still curious about this ...  from what I remember (and I may be wrong here), we needed to create new model versions even for lightweight migrations. When did that change? I might have missed the memo! :slightly_smiling_face:",
          "ts": "1654799455.903339",
          "thread_ts": "1654799292.200619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sCg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks. But I'm still curious about this ...  from what I remember (and I may be wrong here), we needed to create new model versions even for lightweight migrations. When did that change? I might have missed the memo! "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2d1b5ed2-4f60-4d52-bf04-8fae95d41fcd",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Apparently this changed in WWDC15, around iOS9!",
          "ts": "1654800716.773579",
          "thread_ts": "1654799292.200619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+LU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Apparently this changed in WWDC15, around iOS9!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; How efficient is the Core Data migration process, in terms of time and memory? For e.g. if we have a million entries in our store, and we run lightweight migration to add a couple of attributes to an entity, will it load them all into memory at the time of migration to update each row?",
      "ts": "1654799400.213129",
      "thread_ts": "1654799400.213129",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 10,
      "latest_reply": "1654800813.042719",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "SAuR",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"How efficient is the Core Data migration process, in terms of time and memory? For e.g. if we have a million entries in our store, and we run lightweight migration to add a couple of attributes to an entity, will it load them all into memory at the time of migration to update each row?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "2CE68B52-F791-49F3-A52A-EF0C18F480D6",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "We will add the columns without loading any data ",
          "ts": "1654799417.409289",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "d3Ov8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "will"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "add"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " columns without "
                    },
                    {
                      "type": "text",
                      "text": "loading"
                    },
                    {
                      "type": "text",
                      "text": " any "
                    },
                    {
                      "type": "text",
                      "text": "data"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a22f86b3-adc3-416e-8a34-57f2afd8c767",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Lightweight migration is very efficient and is the recommended way to migrate!",
          "ts": "1654799509.421909",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "x=Lnb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Lightweight migration is very efficient and is the recommended way to migrate!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3da5db1d-2555-446c-a69f-9d9809e1be30",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Good to know! Is this something that changed recently / a few years ago? This is also something I remember being a bit of a challenge in the past, especially with large data sets",
          "ts": "1654799584.975899",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ts6TX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Good to know! Is this something that changed recently / a few years ago? This is also something I remember being a bit of a challenge in the past, especially with large data sets"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f77b12ad-ddc1-4448-9e57-06d35586be7f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I think it’s fair to say that lightweight migration has a number of different behaviors based on the specific type of migration it’s handling. Additive ones are easy, no data needs to be loaded. But transformative migrations necessarily operate on in memory data in some cases.",
          "ts": "1654800176.269719",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CJM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think it’s fair to say that lightweight migration has a number of different behaviors based on the specific type of migration it’s handling. Additive ones are easy, no data needs to be loaded. But transformative migrations necessarily operate on in memory data in some cases."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0e5d5c92-b649-4073-81f9-d1c0b3f64290",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you have a migration that’s not meeting your scalability requirements we would want a feedback report with a test in it to investigate / tune around.",
          "ts": "1654800196.443639",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "G04J",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you have a migration that’s not meeting your scalability requirements we would want a feedback report with a test in it to investigate / tune around."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "eb464d06-b264-4e3a-823d-936c29baa30e",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Would \"transformative migrations\" include things like changing a relationship from one-to-many to many-to-many?",
          "ts": "1654800284.814559",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o5jAj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Would \"transformative migrations\" include things like changing a relationship from one-to-many to many-to-many?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "28e2a699-b5e1-4265-943e-d2e00b655d6f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I believe so, IIRC we’ll need to do a table copy to drop the to-one column.",
          "ts": "1654800343.706709",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+X6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I believe so, IIRC we’ll need to do a table copy to drop the to-one column."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7ef0c099-c0b3-48bf-b2d3-e7f3aa34b350",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks!",
          "ts": "1654800411.523109",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+hRd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "43b13e7b-2a31-43e1-b885-07d2f760f57b",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "One more thing about this ... would creating a new relationship (whether one-to-many or many-to-many) between existing entities be considered 'transformative'?",
          "ts": "1654800652.818149",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JbP8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "One more thing about this ... would creating a new relationship (whether one-to-many or many-to-many) between existing entities be considered 'transformative'?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c8c6290-6099-44af-8294-0d2c1c24877a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I wouldn’t expect so. Column adds are free and table adds are too.",
          "ts": "1654800813.042719",
          "thread_ts": "1654799400.213129",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4WLw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I wouldn’t expect so. Column adds are free and table adds are too."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JRQVAY9E\u003e asked\n\u0026gt; Hey there, I have a question regarding the staged lightweight migrations. How can we actually interpose code between migrations, like shown at around 09:33? Is there a way to get the model version numbers of the models between the current and the newest, so that we can create a loop to apply one migration wirth additional code after another?",
      "ts": "1654799481.775329",
      "thread_ts": "1654799481.775329",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 8,
      "latest_reply": "1654801961.904919",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "6vTy",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JRQVAY9E"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hey there, I have a question regarding the staged lightweight migrations. How can we actually interpose code between migrations, like shown at around 09:33? Is there a way to get the model version numbers of the models between the current and the newest, so that we can create a loop to apply one migration wirth additional code after another?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "929e5493-3ae2-4449-9388-e0a2ca464584",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "So the idea is that you’ll need to build a state machine that is able to iterate over your models and apply them if needed. At launch time, collect all the models and check to see if there is any models to be applied. You could try opening the store with the first model *without* the migration keys set and see if it opens. If not, you’ll get an error back. That is an indiction a migration is needed",
          "ts": "1654799613.289169",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3wRI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So the idea is that you’ll need to build a state machine that is able to iterate over your models and apply them if needed. At launch time, collect all the models and check to see if there is any models to be applied. You could try opening the store with the first model "
                    },
                    {
                      "type": "text",
                      "text": "without",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " the migration keys set and see if it opens. If not, you’ll get an error back. That is an indiction a migration is needed"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c0bcefe6-faa5-4a1f-8bd3-cd28f9480ba9",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Now, you’d want to go ahead and attempt to re-open the store with the migration keys set. Once the store is opened and the migration is complete, consider having a delegate that you could call.",
          "ts": "1654799651.962559",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Wkl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Now, you’d want to go ahead and attempt to re-open the store with the migration keys set. Once the store is opened and the migration is complete, consider having a delegate that you could call."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3301ffda-c799-4203-abec-1c43ee42a2f0",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "The purpose of this delegate is to perform model specific logic/migration.",
          "ts": "1654799664.815069",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yFp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The purpose of this delegate is to perform model specific logic/migration."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1ac52785-ea6c-4456-9831-821b732a4301",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "After completing that logic, your state machine would continue on and process each unapplied model in a serial fashion performing the same logic.",
          "ts": "1654799689.027609",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WvM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "After completing that logic, your state machine would continue on and process each unapplied model in a serial fashion performing the same logic."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "D1473722-2FC5-49A0-AAFC-C9D3E2C182A4",
          "type": "message",
          "user": "U03JRQVAY9E",
          "text": "Thanks for your reply! Is there a way to get all the available models or would we need to „hardcode“ the names?",
          "ts": "1654799840.535579",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eCQ6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for your reply! Is there"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "way"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "get"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "all"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " available "
                    },
                    {
                      "type": "text",
                      "text": "models"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "would"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "we"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "need"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "„hardcode“"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "names?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "627af23e-4cc9-413f-8930-ba2a3280c642",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "You should be able to get all the models with .allBundles and .allFrameworks",
          "ts": "1654800049.256949",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Q//GO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You should be able to get all the models with .allBundles and .allFrameworks"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "E81CF3A4-5D90-4C68-BD8B-9835A800EAB3",
          "type": "message",
          "user": "U03JRQVAY9E",
          "text": "Alright, thank you :blush: This approach sounds very interesting, especially because we don't need to do heavyweight migration. The official lightweight documentation does currently not mention this approach, do you know if this is planned or if it is documented elsewhere?",
          "ts": "1654800285.431339",
          "thread_ts": "1654799481.775329",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Cu=pP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Alright,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "thank"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "you"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "emoji",
                      "name": "blush",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "This"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "approach"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "sounds"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "very"
                    },
                    {
                      "type": "text",
                      "text": " interesting"
                    },
                    {
                      "type": "text",
                      "text": ","
                    },
                    {
                      "type": "text",
                      "text": " especially "
                    },
                    {
                      "type": "text",
                      "text": "because"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "we"
                    },
                    {
                      "type": "text",
                      "text": " don't "
                    },
                    {
                      "type": "text",
                      "text": "need"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "do"
                    },
                    {
                      "type": "text",
                      "text": " heavyweight "
                    },
                    {
                      "type": "text",
                      "text": "migration."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "The"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "official"
                    },
                    {
                      "type": "text",
                      "text": " lightweight "
                    },
                    {
                      "type": "text",
                      "text": "documentation"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "does"
                    },
                    {
                      "type": "text",
                      "text": " currently "
                    },
                    {
                      "type": "text",
                      "text": "not"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "mention"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "this"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "approach,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "do"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "you"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "know"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "if"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "this"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "planned"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "if"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "documented elsewhere?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "96cdf745-9231-4098-b216-0eedbc5d2d09",
          "type": "message",
          "user": "U03JEEUJPMJ",
          "text": "[Removed by self]",
          "ts": "1654801961.904919",
          "thread_ts": "1654799481.775329",
          "edited": {
            "user": "U03JEEUJPMJ",
            "ts": "1654802037.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "BkpQU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "[Removed by self]"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; Does adding indexes to existing attributes also force a lightweight migration to occur?",
      "ts": "1654799743.862929",
      "thread_ts": "1654799743.862929",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654800120.131079",
      "reactions": [
        {
          "name": "wave",
          "count": 1,
          "users": [
            "U03HMJ2P5MJ"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "fFL",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Does adding indexes to existing attributes also force a lightweight migration to occur?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "1529b48f-7955-49a3-890e-675caba5bce1",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "It doesn’t. You’ll need to perform some other change that changes the version hashes of the model.",
          "ts": "1654799766.682209",
          "thread_ts": "1654799743.862929",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qC79f",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It doesn’t. You’ll need to perform some other change that changes the version hashes of the model."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "176747b3-6693-455b-8501-83928a4c27ca",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "You mean like adding a new attribute or entity?",
          "ts": "1654799798.098659",
          "thread_ts": "1654799743.862929",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cFhd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You mean like adding a new attribute or entity?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4917a038-d6f3-4333-a493-ed11ada9780a",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Yes, this would cause a hash change.",
          "ts": "1654799871.054089",
          "thread_ts": "1654799743.862929",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Umx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, this would cause a hash change."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "F705C688-6993-46AF-A3F2-3B03B609CD74",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "You can also bump the models version hash with your own custom identifier to trigger the migration as well",
          "ts": "1654800120.131079",
          "thread_ts": "1654799743.862929",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up_2",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            },
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "d3egQ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can also bump "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "models"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "version"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "hash"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "with"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "your"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "own"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "custom"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "identifier"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "trigger"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "migration"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "as"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "well"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J4D1FEP6\u003e asked\n\u0026gt; It seems like lightweight migration has quietly got a lot more capable over the years… is that correct? I’ve had to do some heavier migrations in the past with my data model, e.g., when moving from a grandparent-parent-child relationship to a direct grandparent-child relationship... Wondering if that is an example of something that could be achieved by a lightweight migration (if I wasn't now also using NSPersistentCloudKitContainer).\n\u0026gt; \n\u0026gt; Is there further written documentation somewhere of the kinds of migrations that lightweight migration is well set up to take on, building on the ideas in this talk?",
      "ts": "1654799834.731439",
      "thread_ts": "1654799834.731439",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654800007.972689",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "K9X",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J4D1FEP6"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"It seems like lightweight migration has quietly got a lot more capable over the years\\u2026 is that correct? I\\u2019ve had to do some heavier migrations in the past with my data model, e.g., when moving from a grandparent-parent-child relationship to a direct grandparent-child relationship... Wondering if that is an example of something that could be achieved by a lightweight migration (if I wasn't now also using NSPersistentCloudKitContainer).\\n\\nIs there further written documentation somewhere of the kinds of migrations that lightweight migration is well set up to take on, building on the ideas in this talk?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "563c3f97-0f07-44fc-a15a-f9e71f1dafbd",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Hi, yes I believe this can be accomplished with lightweight migration, but it may need to be decomposed as I mentioned in the talk.",
          "ts": "1654799949.784469",
          "thread_ts": "1654799834.731439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xmJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hi, yes I believe this can be accomplished with lightweight migration, but it may need to be decomposed as I mentioned in the talk."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "baf71782-c950-468a-862e-f670e870334c",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Moving entities within the entity hierarchy is a supported lightweight operation",
          "ts": "1654799976.774189",
          "thread_ts": "1654799834.731439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Elvp+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Moving entities within the entity hierarchy is a supported lightweight operation"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cb98e94f-5b34-49f2-ab50-d5d832d4e09a",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "As well as changing relationships, (adding, deleting, etc).",
          "ts": "1654799997.065329",
          "thread_ts": "1654799834.731439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "b=/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "As well as changing relationships, (adding, deleting, etc)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "18ea7a8d-200b-4b90-a155-2511add1c107",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "The official documentation is here: \u003chttps://developer.apple.com/documentation/coredata/using_lightweight_migration\u003e",
          "ts": "1654800007.972689",
          "thread_ts": "1654799834.731439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Iqmyj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The official documentation is here: "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/using_lightweight_migration",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVE4TV8E\u003e asked\n\u0026gt; Hello! One of my apps, which has evolved more and more over time i.e. more and more attributes getting added to the Core Data model without much thought, now has a Core Data Model of over 150 items. This causes a caution in Xcode. Is there a safe way to divide all of this up to reduce the stress on the Core Data model while keeping user data safe? Thanks :D",
      "ts": "1654800187.422569",
      "thread_ts": "1654800187.422569",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654800401.219509",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "NoU",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVE4TV8E"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hello! One of my apps, which has evolved more and more over time i.e. more and more attributes getting added to the Core Data model without much thought, now has a Core Data Model of over 150 items. This causes a caution in Xcode. Is there a safe way to divide all of this up to reduce the stress on the Core Data model while keeping user data safe? Thanks :D\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "7b3ab61a-3930-49e9-843c-2fb2df586b58",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Hi! You should be able to divide up the model using the lightweight operations I mentioned. If you want to preserve the data, you’ll need to perform an operation similar to what I described in the session, temporarily stashing the data and adding a new attribute in a new entity. This will require a “decomposed” migration.",
          "ts": "1654800263.454129",
          "thread_ts": "1654800187.422569",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ek7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hi! You should be able to divide up the model using the lightweight operations I mentioned. If you want to preserve the data, you’ll need to perform an operation similar to what I described in the session, temporarily stashing the data and adding a new attribute in a new entity. This will require a “decomposed” migration."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1020CD54-E1D2-4F72-87A8-0959A26191DF",
          "type": "message",
          "user": "U03HVE4TV8E",
          "text": "That’s fantastic! Really appreciate the response! :D",
          "ts": "1654800401.219509",
          "thread_ts": "1654800187.422569",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            },
            {
              "name": "star-struck",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8b3Q",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s"
                    },
                    {
                      "type": "text",
                      "text": " fantastic"
                    },
                    {
                      "type": "text",
                      "text": "!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Really"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "appreciate"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "response!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": ":D"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVE4TV8E\u003e asked\n\u0026gt; In the Session, Xcode “Arguments Passed On Launch” Core Data debug features are shown (at ~15:31). I never knew these existed!! Is there a list on Apple Developer of these arguments?",
      "ts": "1654800240.707639",
      "thread_ts": "1654800240.707639",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654800574.650859",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "5Aqbr",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVE4TV8E"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"In the Session, Xcode \\u201cArguments Passed On Launch\\u201d Core Data debug features are shown (at ~15:31). I never knew these existed!! Is there a list on Apple Developer of these arguments?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "0122de9f-c3e8-4f85-b07e-bcb854895a4b",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "Great question! We’ve got some documentation from the Documentation Archive that may help you out, but please use \u003chttps://feedbackassistant.apple.com|Feedback Assistant\u003e to suggest some new documentation in this area specifically!\n\n\u003chttps://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/TroubleshootingCoreData.html\u003e",
          "ts": "1654800275.102899",
          "thread_ts": "1654800240.707639",
          "attachments": [
            {
              "fallback": "Core Data Programming Guide: Troubleshooting Core Data",
              "id": 1,
              "title": "Core Data Programming Guide: Troubleshooting Core Data",
              "title_link": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/TroubleshootingCoreData.html",
              "text": "Explains how to manage objects using the Core Data framework.",
              "service_name": "developer.apple.com",
              "service_icon": "https://developer.apple.com/favicon.ico",
              "from_url": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/TroubleshootingCoreData.html",
              "original_url": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/TroubleshootingCoreData.html",
              "blocks": null
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5Bc0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Great question! We’ve got some documentation from the Documentation Archive that may help you out, but please use "
                    },
                    {
                      "type": "link",
                      "url": "https://feedbackassistant.apple.com",
                      "text": "Feedback Assistant"
                    },
                    {
                      "type": "text",
                      "text": " to suggest some new documentation in this area specifically!\n\n"
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/TroubleshootingCoreData.html",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "15094E05-9ACB-4D41-B4D7-465F0B111DAE",
          "type": "message",
          "user": "U03HVE4TV8E",
          "text": "Thank you so much! :D",
          "ts": "1654800382.407739",
          "thread_ts": "1654800240.707639",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XsI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "you"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "so"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "much!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": ":D"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5d8bd098-0b4b-4856-862e-6705e2dda0cb",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "If you file a Feedback, feel free to drop the Feedback ID here and I’ll pass it along!",
          "ts": "1654800574.650859",
          "thread_ts": "1654800240.707639",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mARK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you file a Feedback, feel free to drop the Feedback ID here and I’ll pass it along!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "4c534051-c98e-4a3d-85bd-c5f8e1e0cf50",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":small_airplane: We’re really flying through these questions! We’ve got another 15min or so until our Meet the Presenter activity has to end, so land any remaining questions into the “Ask a question” workflow below!",
      "ts": "1654800340.966089",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "ATx8H",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "small_airplane",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " We’re really flying through these questions! We’ve got another 15min or so until our Meet the Presenter activity has to end, so land any remaining questions into the “Ask a question” workflow below!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; If I am using an NSPersistentCloudKitContainer and manually assign persistent store descriptions with history tracking and remote change notification options, will the container still handle migrations automatically? Or do I need to additionally include the migrate and infer mapping options to my descriptions?",
      "ts": "1654800348.391079",
      "thread_ts": "1654800348.391079",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654800895.867059",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "JUuJb",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If I am using an NSPersistentCloudKitContainer and manually assign persistent store descriptions with history tracking and remote change notification options, will the container still handle migrations automatically? Or do I need to additionally include the migrate and infer mapping options to my descriptions?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "ef902a60-131b-4345-af48-6f79df1af87c",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Lightweight migration only materializes schema changes in the local store file. Regardless of whether a particular store is used with CloudKit, migration will only change the store on disk and does not make changes to the CloudKit schema. You still need to materialize those changes in the Development database by running the schema initializer and then  promoting those changes in Development to Production using the CloudKit Console.",
          "ts": "1654800420.267369",
          "thread_ts": "1654800348.391079",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "p53",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Lightweight migration only materializes schema changes in the local store file. Regardless of whether a particular store is used with CloudKit, migration will only change the store on disk and does not make changes to the CloudKit schema. You still need to materialize those changes in the Development database by running the schema initializer and then  promoting those changes in Development to Production using the CloudKit Console."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a9677ec8-1636-46cf-b7c0-5d7abc757710",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Sure, that makes sense. I've made the proper changes to my CloudKit schema, but am curious to know if my custom store descriptions that I'm assigning to my container need to include these migration options or if the container handles that for me.",
          "ts": "1654800637.454189",
          "thread_ts": "1654800348.391079",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "oLfHg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sure, that makes sense. I've made the proper changes to my CloudKit schema, but am curious to know if my custom store descriptions that I'm assigning to my container need to include these migration options or if the container handles that for me."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a4925eeb-2f89-4f9b-8861-1ba302109382",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "If you’re using NSPersistentStoreDescription or NSPersistent[CloudKit]Container, the options are automatically added for you.",
          "ts": "1654800895.867059",
          "thread_ts": "1654800348.391079",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PWc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you’re using NSPersistentStoreDescription or NSPersistent[CloudKit]Container, the options are automatically added for you."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JL1TQP5Z\u003e asked\n\u0026gt; Is this possible to load db created with newer model version in app with older version without light weight migration? If disable migration NSMigratePersistentStoresAutomaticallyOption = false it just fails to load store. Thank you!",
      "ts": "1654800490.958439",
      "thread_ts": "1654800490.958439",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654801242.616549",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Vk8qM",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JL1TQP5Z"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is this possible to load db created with newer model version in app with older version without light weight migration? If disable migration NSMigratePersistentStoresAutomaticallyOption = false it just fails to load store. Thank you!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "985371B4-9233-43FC-B83C-A1DA5B0AEE56",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "It is not possible, you will get an error that the models are mismatched ",
          "ts": "1654800521.016469",
          "thread_ts": "1654800490.958439",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "white_check_mark",
              "count": 1,
              "users": [
                "U03JL1TQP5Z"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Lcp91",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "not"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "possible,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "you"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "will"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "get"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "an"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "error"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "models"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "are"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "mismatched"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c68a68e9-bc52-40ad-9183-c64f7ef15e7e",
          "type": "message",
          "user": "U03JL1TQP5Z",
          "text": "So there are no ways to open without migration? may be with custom migrations?",
          "ts": "1654800783.153319",
          "thread_ts": "1654800490.958439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LHys3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So there are no ways to open without migration? may be with custom migrations?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "E7EE0BCC-A826-45D0-9B91-44DE737145ED",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "You can provide your own mapping model ",
          "ts": "1654801201.903979",
          "thread_ts": "1654800490.958439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Azs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "can"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "provide"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "your"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "own"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "mapping"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "model"
                    },
                    {
                      "type": "text",
                      "text": " "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5AFB769F-255D-43AA-B8A0-F14133E905F4",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "And drive a custom migration with your own NSMigrationManager",
          "ts": "1654801242.616549",
          "thread_ts": "1654800490.958439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y=0D",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "drive"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "custom"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "migration"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "with"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "your"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "own"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "NSMigrationManager"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K7P8CHKJ\u003e asked\n\u0026gt; I am in the very final stages of finishing up a SwiftUI app that uses core data with cloudkit. I was wondering if there is guidance on error handling when loading the persistent store? Is there a list explicit errors that I should handle beyond the generic info that is in the comment when I created the app?",
      "ts": "1654800533.469309",
      "thread_ts": "1654800533.469309",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654800844.211089",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "hr34b",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K7P8CHKJ"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I am in the very final stages of finishing up a SwiftUI app that uses core data with cloudkit. I was wondering if there is guidance on error handling when loading the persistent store? Is there a list explicit errors that I should handle beyond the generic info that is in the comment when I created the app?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "98f2c432-6956-470f-b45b-8bc00689e726",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "One error code that you should definitely handle is `NSPersistentStoreIncompatibleVersionHashError`. You may wish to handle such as read or write errors. However, the best way to discover this is having telemetry on what errors your users run across and what errors testing generates. This would allow you to make informed decisions on which codes to implement and handle.",
          "ts": "1654800675.615959",
          "thread_ts": "1654800533.469309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4JyxX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "One error code that you should definitely handle is "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentStoreIncompatibleVersionHashError",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ". You may wish to handle such as read or write errors. However, the best way to discover this is having telemetry on what errors your users run across and what errors testing generates. This would allow you to make informed decisions on which codes to implement and handle."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "89373c32-327d-434e-9958-224bc51585ef",
          "type": "message",
          "user": "U03K7P8CHKJ",
          "text": "Thank you! In beta testing, I've not run into any errors with loading the store (which I've been super pleased with). I appreciate the help!",
          "ts": "1654800844.211089",
          "thread_ts": "1654800533.469309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HlU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you! In beta testing, I've not run into any errors with loading the store (which I've been super pleased with). I appreciate the help!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "06b45da2-355f-49b9-82e4-3c5d465e95a4",
      "type": "message",
      "user": "U03HFC8U0J1",
      "text": "I wonder if any sharp-eyed developers caught the hidden message in the binary data in the session when I was talking about migration from external data to binary data?",
      "ts": "1654800760.265319",
      "thread_ts": "1654800760.265319",
      "reply_count": 4,
      "latest_reply": "1654801107.094059",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        },
        {
          "name": "one",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        },
        {
          "name": "keycap_ten",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        },
        {
          "name": "zero",
          "count": 2,
          "users": [
            "U03HWU7EYBB",
            "U03K3DKJ1UL"
          ]
        },
        {
          "name": "100",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "1bfP",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "I wonder if any sharp-eyed developers caught the hidden message in the binary data in the session when I was talking about migration from external data to binary data?"
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "fa8dd325-ebbc-4cf1-9a18-cfad769e36a4",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "I bet they could use Live Text to copy and paste it if they wanted to!",
          "ts": "1654800934.061719",
          "thread_ts": "1654800760.265319",
          "parent_user_id": "U03HFC8U0J1",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7mg8u",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I bet they could use Live Text to copy and paste it if they wanted to!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d066b670-6a32-4d7a-9d9c-9b231816ed17",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": ":hearts::two::airplane_departure:",
          "ts": "1654801087.231809",
          "thread_ts": "1654800760.265319",
          "parent_user_id": "U03HFC8U0J1",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "white_check_mark",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            },
            {
              "name": "tada",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            },
            {
              "name": "small_airplane",
              "count": 1,
              "users": [
                "U03HFC8U0J1"
              ]
            },
            {
              "name": "star-struck",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "airplane",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a/w",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "hearts",
                      "skin_tone": 0
                    },
                    {
                      "type": "emoji",
                      "name": "two",
                      "skin_tone": 0
                    },
                    {
                      "type": "emoji",
                      "name": "airplane_departure",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1c29327c-942e-4767-b6f0-6f2e453550af",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": ":smile:",
          "ts": "1654801091.396469",
          "thread_ts": "1654800760.265319",
          "parent_user_id": "U03HFC8U0J1",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ni5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "smile",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "50683819-936b-4bd4-801c-a952f72ef612",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "\u003c@U03HWU7EYBB\u003e Ha, that would’ve been to easy!",
          "ts": "1654801107.094059",
          "thread_ts": "1654800760.265319",
          "parent_user_id": "U03HFC8U0J1",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "grimacing",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            },
            {
              "name": "sweat_smile",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kpP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HWU7EYBB"
                    },
                    {
                      "type": "text",
                      "text": " Ha, that would’ve been to easy!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JENQA0TB\u003e asked\n\u0026gt; Is there a built-in way to encrypt and decrypt a local Core Data store so it's encrypted at rest on macOS and iOS? I know on iOS file system security plays a role when the device is locked. But not on macOS. And if someone wanted to send someone else an encrypted version of their database, they wouldn't want anyone else to get access to it other than the person they shared the key with.",
      "ts": "1654800890.901089",
      "thread_ts": "1654800890.901089",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654801475.218119",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "SOpGR",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JENQA0TB"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a built-in way to encrypt and decrypt a local Core Data store so it's encrypted at rest on macOS and iOS? I know on iOS file system security plays a role when the device is locked. But not on macOS. And if someone wanted to send someone else an encrypted version of their database, they wouldn't want anyone else to get access to it other than the person they shared the key with.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "e3322b26-d5d1-4326-86af-bc8c1503423e",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Data protection is available on macOS as well for Apple Silicon devices so it remains the best way to do this when available. When it comes to sending databases I must urge caution (use something like \u003chttps://www.sqlite.org/backup.html|SQLite’s online backup API\u003e so you’re participating in the locking protocol and don’t risk corrupting the database!) but once you’ve copied the database you’re outside of Core Data and can choose whatever encryption transport (and key management) you like.",
          "ts": "1654801052.635359",
          "thread_ts": "1654800890.901089",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "aHgn",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Data protection is available on macOS as well for Apple Silicon devices so it remains the best way to do this when available. When it comes to sending databases I must urge caution (use something like "
                    },
                    {
                      "type": "link",
                      "url": "https://www.sqlite.org/backup.html",
                      "text": "SQLite’s online backup API"
                    },
                    {
                      "type": "text",
                      "text": " so you’re participating in the locking protocol and don’t risk corrupting the database!) but once you’ve copied the database you’re outside of Core Data and can choose whatever encryption transport (and key management) you like."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b5d8fe8c-e499-4b1e-86d5-91bf54fbb088",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Sending a database to someone feels like an obvious application for a public key cryptography scheme",
          "ts": "1654801084.385189",
          "thread_ts": "1654800890.901089",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+As",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sending a database to someone feels like an obvious application for a public key cryptography scheme"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dad2b6de-c584-412b-8418-993cd9cf3ddf",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "In the current version of my app, it uses CouchbaseLite, but I’m migrating it all over to Core Data. CouchbaseLite integrates with SQLCipher to provide at rest strong AES 128 encryption. I’d like to use that with Core Data too. I know there’s a third party library that uses NSIncrementalStore to provide integration with SQLCipher, but it hasn’t been updated in over 5 years and I’m hesitant to use it. But I still want to be able to provide my customers with encryption in my new Core Data app. I was hoping there was an Apple way of providing encryption to my Core Data sqlite store.",
          "ts": "1654801205.652839",
          "thread_ts": "1654800890.901089",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KPM7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In the current version of my app, it uses CouchbaseLite, but I’m migrating it all over to Core Data. CouchbaseLite integrates with SQLCipher to provide at rest strong AES 128 encryption. I’d like to use that with Core Data too. I know there’s a third party library that uses NSIncrementalStore to provide integration with SQLCipher, but it hasn’t been updated in over 5 years and I’m hesitant to use it. But I still want to be able to provide my customers with encryption in my new Core Data app. I was hoping there was an Apple way of providing encryption to my Core Data sqlite store."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "007028f7-1822-4560-aa53-5f55acb2f0a9",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Unfortunately there’s no API for this. I don’t recommend mixing a custom build of SQLite into your process for Core Data to use, it will cause more problems than it will solve.",
          "ts": "1654801475.218119",
          "thread_ts": "1654800890.901089",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OqRE1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Unfortunately there’s no API for this. I don’t recommend mixing a custom build of SQLite into your process for Core Data to use, it will cause more problems than it will solve."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JRPFE82C\u003e asked\n\u0026gt; We're changing our core data model and will be moving some properties to separate entities. Since these properties have been deployed to CloudKit Production they can't be removed there. But is it ok to remove them in the Core Data model? Or is it recommended to keep them, even if they're no longer used?",
      "ts": "1654800961.581479",
      "thread_ts": "1654800961.581479",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 9,
      "latest_reply": "1654801526.741869",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "6eg",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JRPFE82C"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"We're changing our core data model and will be moving some properties to separate entities. Since these properties have been deployed to CloudKit Production they can't be removed there. But is it ok to remove them in the Core Data model? Or is it recommended to keep them, even if they're no longer used?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "4d882c1e-b2d2-43a6-8747-f2f150cbd426",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Do you need to support users on older versions of the app?",
          "ts": "1654800987.839929",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0oN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Do you need to support users on older versions of the app?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a3adcc6e-eb72-486a-b2e0-b379feef1cf4",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "Yeah, we want the app to continue to work for people who haven’t updated yet. We are quite aggressive on updating our deployment target, so it’s important to keep users on old iOS versions happy.",
          "ts": "1654801181.576989",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "EAIGb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, we want the app to continue to work for people who haven’t updated yet. We are quite aggressive on updating our deployment target, so it’s important to keep users on old iOS versions happy."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "73e821a8-d928-451b-95e8-f03240928334",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "You’d probably want to keep that around then",
          "ts": "1654801241.745719",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4UKB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You’d probably want to keep that around then"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c3be3a18-ddb7-4748-a3b9-e07eef470ddf",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Is it possible to keep updating that field in addition to the new one so both users can use the feature?",
          "ts": "1654801268.277899",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xAMj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is it possible to keep updating that field in addition to the new one so both users can use the feature?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "048b5622-c6ac-4650-b5c9-b7cd13418556",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "Preferraby not. We’re moving an image from the entity to a new entity, improving performance and introducing a 1-many relationship (multiple images)",
          "ts": "1654801452.421999",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mL9p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Preferraby not. We’re moving an image from the entity to a new entity, improving performance and introducing a 1-many relationship (multiple images)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "186253ef-0b83-4dcf-ad1a-3089c5365728",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "In worst case the user will just stop seeing the image in older versions of the app. Maybe that’s ok? :thinking_face:",
          "ts": "1654801494.562199",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xfCJm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In worst case the user will just stop seeing the image in older versions of the app. Maybe that’s ok? "
                    },
                    {
                      "type": "emoji",
                      "name": "thinking_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2577feef-6128-4ea5-a5f2-4dc958353c1d",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "That really depends on what you want your product experience to be.",
          "ts": "1654801510.402599",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JRPFE82C"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a5g+b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That really depends on what you want your product experience to be."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3d25b848-bb91-4c10-9bf6-51b908270a4d",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "But there is no technical restriction on it.",
          "ts": "1654801518.489079",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "IYHCh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But there is no technical restriction on it."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "31311f82-04ae-4451-8fbe-284505b1e690",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "Got it. Thanks!",
          "ts": "1654801526.741869",
          "thread_ts": "1654800961.581479",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y+Dd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Got it. Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JMMN8659\u003e asked\n\u0026gt; Are there any sample apps that showcase SwiftUI along with CoreData + CloudKit synchronization with .private, .shared, as welll as .public database?",
      "ts": "1654800991.201619",
      "thread_ts": "1654800991.201619",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654802572.449479",
      "reactions": [
        {
          "name": "+1",
          "count": 2,
          "users": [
            "U03JENQA0TB",
            "U03J4CSSF6G"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Sx7Qg",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JMMN8659"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Are there any sample apps that showcase SwiftUI along with CoreData + CloudKit synchronization with .private, .shared, as welll as .public database?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "a876181f-380e-4ebc-bba6-9b14bdb40ae8",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "You can refer to \u003chttps://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud|Synchronizing a local store to the cloud\u003e to learn more about Core Data and CloudKit together, but that sample isn’t written using SwiftUI.\n\nPlease let us know using \u003chttps://feedbackassistant.apple.com|Feedback Assistant\u003e if you’d like to see an update to the sample code using SwiftUI like this!",
          "ts": "1654801085.928969",
          "thread_ts": "1654800991.201619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Q6N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can refer to "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud",
                      "text": "Synchronizing a local store to the cloud"
                    },
                    {
                      "type": "text",
                      "text": " to learn more about Core Data and CloudKit together, but that sample isn’t written using SwiftUI.\n\nPlease let us know using "
                    },
                    {
                      "type": "link",
                      "url": "https://feedbackassistant.apple.com",
                      "text": "Feedback Assistant"
                    },
                    {
                      "type": "text",
                      "text": " if you’d like to see an update to the sample code using SwiftUI like this!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "251158e1-1040-4cb1-878f-830434cd0172",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "Also, refer to \u003chttps://developer.apple.com/wwdc22/10119|Optimize your use of Core Data and CloudKit\u003e to learn more about using Core Data and CloudKit!",
          "ts": "1654801182.459259",
          "thread_ts": "1654800991.201619",
          "attachments": [
            {
              "fallback": "Apple Developer: Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "id": 1,
              "title": "Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "title_link": "https://developer.apple.com/wwdc22/10119",
              "text": "Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation...",
              "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/124/6615/6615_wide_250x141_2x.jpg",
              "service_name": "Apple Developer",
              "service_icon": "https://developer.apple.com/favicon.ico",
              "from_url": "https://developer.apple.com/wwdc22/10119",
              "original_url": "https://developer.apple.com/wwdc22/10119",
              "blocks": null
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8PBWU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Also, refer to "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/wwdc22/10119",
                      "text": "Optimize your use of Core Data and CloudKit"
                    },
                    {
                      "type": "text",
                      "text": " to learn more about using Core Data and CloudKit!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a3e2b84b-acac-45dd-88cd-d78a63e2136d",
          "type": "message",
          "user": "U03JMMN8659",
          "text": "thank you \u003c@U03HWU7EYBB\u003e! I will submit feedback. Implementing .private is straightforward, but using .shared and .public is definitely non-trivial and deserves more attention, given how powerful these features are. Also, there should be guidelines about how to create these experiences. For example, how to moderate content, create and propagate rules for users, etc.",
          "ts": "1654802124.726269",
          "thread_ts": "1654800991.201619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Da2Im",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "thank you "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HWU7EYBB"
                    },
                    {
                      "type": "text",
                      "text": "! I will submit feedback. Implementing .private is straightforward, but using .shared and .public is definitely non-trivial and deserves more attention, given how powerful these features are. Also, there should be guidelines about how to create these experiences. For example, how to moderate content, create and propagate rules for users, etc."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0b3b358e-d4b3-46a5-b103-92ccce6896d6",
          "type": "message",
          "user": "U03HWU7EYBB",
          "text": "Of course! Feel free to reply with your Feedback ID for us to look into if you get a moment to file it now",
          "ts": "1654802195.675069",
          "thread_ts": "1654800991.201619",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "V1q",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Of course! Feel free to reply with your Feedback ID for us to look into if you get a moment to file it now"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cfe3d673-906a-46c4-9c41-2c7769b192d5",
          "type": "message",
          "user": "U03JMMN8659",
          "text": "Alright, sent at FB10138481",
          "ts": "1654802572.449479",
          "thread_ts": "1654800991.201619",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "star-struck",
              "count": 2,
              "users": [
                "U03HWU7EYBB",
                "U03J4CSSF6G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yGB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Alright, sent at FB10138481"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVDY9F2A\u003e asked\n\u0026gt; Is there a Code sample for Staged Lightweight Migration? I came up with my own solution to do that, but now I'm wondering if this talk means there's a conventional solution.",
      "ts": "1654801292.048539",
      "thread_ts": "1654801292.048539",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654801421.601919",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "OvT",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVDY9F2A"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a Code sample for Staged Lightweight Migration? I came up with my own solution to do that, but now I'm wondering if this talk means there's a conventional solution.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "470b6e3a-fabe-4a65-b45d-77f3e0873149",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "We do not have one.",
          "ts": "1654801306.506579",
          "thread_ts": "1654801292.048539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RmzU9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We do not have one."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "95c4f843-9af6-46d9-8aae-96ab25936e13",
          "type": "message",
          "user": "U03HVDY9F2A",
          "text": "All right then! Thanks \u003c@U03HFC8U0J1\u003e",
          "ts": "1654801421.601919",
          "thread_ts": "1654801292.048539",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CIj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "All right then! Thanks "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HFC8U0J1"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "a30cb25d-93cd-4427-94be-e951335eb446",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": ":airplane_departure: Thanks so much for flying with us today! We really enjoyed answering your questions and watching along with all of you. If you still have more questions, don’t forget to checkout the upcoming *Core Data Q\u0026amp;A* hosted right here in this channel *tomorrow, at 10am PDT*. Also make sure to watch \u003chttps://developer.apple.com/wwdc22/10119|Optimize your use of Core Data and CloudKit\u003e which is available on \u003chttp://developer.apple.com|developer.apple.com\u003e and the Developer app right now!\n\nThanks again for joining the *Evolve your Core Data schema* watch party — we hope you enjoyed your flight!",
      "ts": "1654801419.853939",
      "thread_ts": "1654801419.853939",
      "attachments": [
        {
          "fallback": "Apple Developer: Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
          "id": 1,
          "title": "Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
          "title_link": "https://developer.apple.com/wwdc22/10119",
          "text": "Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation...",
          "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/124/6615/6615_wide_250x141_2x.jpg",
          "service_name": "Apple Developer",
          "service_icon": "https://developer.apple.com/favicon.ico",
          "from_url": "https://developer.apple.com/wwdc22/10119",
          "original_url": "https://developer.apple.com/wwdc22/10119",
          "blocks": null
        }
      ],
      "reply_count": 2,
      "latest_reply": "1654801474.446399",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "HwUB",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "emoji",
                  "name": "airplane_departure",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " Thanks so much for flying with us today! We really enjoyed answering your questions and watching along with all of you. If you still have more questions, don’t forget to checkout the upcoming "
                },
                {
                  "type": "text",
                  "text": "Core Data Q\u0026A",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": " hosted right here in this channel "
                },
                {
                  "type": "text",
                  "text": "tomorrow, at 10am PDT",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": ". Also make sure to watch "
                },
                {
                  "type": "link",
                  "url": "https://developer.apple.com/wwdc22/10119",
                  "text": "Optimize your use of Core Data and CloudKit"
                },
                {
                  "type": "text",
                  "text": " which is available on "
                },
                {
                  "type": "link",
                  "url": "http://developer.apple.com",
                  "text": "developer.apple.com"
                },
                {
                  "type": "text",
                  "text": " and the Developer app right now!\n\nThanks again for joining the "
                },
                {
                  "type": "text",
                  "text": "Evolve your Core Data schema ",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": "watch party — we hope you enjoyed your flight!"
                }
              ]
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "e6878f00-837b-4581-8cb9-b0dae7f707ef",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Thanks everyone!",
          "ts": "1654801456.379749",
          "thread_ts": "1654801419.853939",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "I6X",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks everyone!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0497023e-c13c-4216-a3ef-51b1e779d1ad",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Have a great WWDC!",
          "ts": "1654801474.446399",
          "thread_ts": "1654801419.853939",
          "parent_user_id": "U03HWU7EYBB",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03J2GNP82E"
              ]
            },
            {
              "name": "wwdc22",
              "count": 1,
              "users": [
                "U03HWU7EYBB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "K+oO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Have a great WWDC!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HWU7EYBB\u003e added a workflow to this channel: *Core Data - Ask a Question*.",
      "ts": "1654823791.745809",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "replace_original": false,
      "delete_original": false,
      "blocks": null
    },
    {
      "client_msg_id": "8f58c0e8-c316-4d49-8686-29a73686308c",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "Thanks again for all the awesome questions today! We got so many good ones, *we’re going to enable the Q\u0026amp;A workflow overnight!* We’d love to hear from folks in other time zones, so please submit questions for us to answer tomorrow during the Q\u0026amp;A activity! :earth_africa: :earth_asia: :earth_americas:",
      "ts": "1654823799.637949",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "raised_hands",
          "count": 3,
          "users": [
            "U03JRPEC4AU",
            "U03J207J01G",
            "U03JCHKCDB4"
          ]
        },
        {
          "name": "pray",
          "count": 1,
          "users": [
            "U03JCHKCDB4"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "6Cd",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Thanks again for all the awesome questions today! We got so many good ones, "
                },
                {
                  "type": "text",
                  "text": "we’re going to enable the Q\u0026A workflow overnight!",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": " We’d love to hear from folks in other time zones, so please submit questions for us to answer tomorrow during the Q\u0026A activity! "
                },
                {
                  "type": "emoji",
                  "name": "earth_africa",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " "
                },
                {
                  "type": "emoji",
                  "name": "earth_asia",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " "
                },
                {
                  "type": "emoji",
                  "name": "earth_americas",
                  "skin_tone": 0
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "9c80fd33-0fe8-4c0d-867f-712ab056718c",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Good morning everyone!  Thanks for your questions last night.  Please keep them coming and we'll try to follow up with everyone to conclude WWDC 2022.  I hope everyone has been having an exciting week.",
      "ts": "1654880523.639959",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "heart",
          "count": 2,
          "users": [
            "U03HVE4TV8E",
            "U03J9P3A03V"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "zF/",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Good morning everyone!  Thanks for your questions last night.  Please keep them coming and we'll try to follow up with everyone to conclude WWDC 2022.  I hope everyone has been having an exciting week."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JRPEC4AU\u003e asked\n\u0026gt; I wrote the following code in order to merge changes from the backgroundContext into the viewContext:\n\u0026gt; \n\u0026gt; ---------\n\u0026gt; func mergeChangesAutomatically() {\n\u0026gt;     NotificationCenter.default.addObserver(forName: .NSManagedObjectContextDidSave,\n\u0026gt;                                            object: nil,\n\u0026gt;                                            queue: nil, using: { notification in\n\u0026gt;         guard let context = notification.object as? NSManagedObjectContext, context != viewContext else { return }\n\u0026gt; \n\u0026gt;         viewContext.perform {\n\u0026gt;             self.viewContext.mergeChanges(fromContextDidSave: notification)\n\u0026gt;         }\n\u0026gt;     })\n\u0026gt; }\n\u0026gt; ---------\n\u0026gt; \n\u0026gt; Is this code necessary? Changes made to the backgroundContext shows up in the viewContext even without this code, so I was wondering if this is actually needed.",
      "ts": "1654880550.869709",
      "thread_ts": "1654880550.869709",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654880803.814509",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "4tI",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JRPEC4AU"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I wrote the following code in order to merge changes from the backgroundContext into the viewContext:\\n\\n---------\\nfunc mergeChangesAutomatically() {\\n    NotificationCenter.default.addObserver(forName: .NSManagedObjectContextDidSave,\\n                                           object: nil,\\n                                           queue: nil, using: { notification in\\n        guard let context = notification.object as? NSManagedObjectContext, context != viewContext else { return }\\n\\n        viewContext.perform {\\n            self.viewContext.mergeChanges(fromContextDidSave: notification)\\n        }\\n    })\\n}\\n---------\\n\\nIs this code necessary? Changes made to the backgroundContext shows up in the viewContext even without this code, so I was wondering if this is actually needed.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "fd6bf01e-40a1-4b56-baed-1f0b8aa47bd8",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "if viewContext.automaticallyMergesChangesFromParent == true - correct this is unnecessary",
          "ts": "1654880599.766649",
          "thread_ts": "1654880550.869709",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eP9C",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if viewContext.automaticallyMergesChangesFromParent == true - correct this is unnecessary"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ae172696-ecc1-48b2-b107-d1383eaae680",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I'd add that `automaticallyMergesChangesFromParent` only covers changes within this process / NSPersistentStoreCoordinator.  If you want changes from a widget or extension, then you would need to merge changes from persistent history",
          "ts": "1654880747.087029",
          "thread_ts": "1654880550.869709",
          "is_starred": true,
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ICK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I'd add that "
                    },
                    {
                      "type": "text",
                      "text": "automaticallyMergesChangesFromParent",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " only covers changes within this process / NSPersistentStoreCoordinator.  If you want changes from a widget or extension, then you would need to merge changes from persistent history"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b821f57c-b4ef-4046-803b-6f820abd8c55",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "similarly, batch operations don't post notifications, so they would also need to be pulled from history.   However they are typically unusual enough that folks often simply ask their fetched results controller to refetch (or they view fetch again) instead of merging",
          "ts": "1654880803.814509",
          "thread_ts": "1654880550.869709",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GSmw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "similarly, batch operations don't post notifications, so they would also need to be pulled from history.   However they are typically unusual enough that folks often simply ask their fetched results controller to refetch (or they view fetch again) instead of merging"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J2AW2FHR\u003e asked\n\u0026gt; Hi. I've read that both Voice Memos as well as Images (Pictures) should be stored outside of CoreData (FileManager) with only saving references of these in CoreData for performance reasons. A) Is that true? B) (How) Can I still lock the whole storage of the app behind a passcode/FaceID/TouchID?",
      "ts": "1654880723.768159",
      "thread_ts": "1654880723.768159",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 11,
      "latest_reply": "1654886218.922009",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "NsZG",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J2AW2FHR"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hi. I've read that both Voice Memos as well as Images (Pictures) should be stored outside of CoreData (FileManager) with only saving references of these in CoreData for performance reasons. A) Is that true? B) (How) Can I still lock the whole storage of the app behind a passcode\\/FaceID\\/TouchID?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "54d03fde-9fea-4e9e-8c71-ae4040a16ed0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "A) That is not true.\n\nCore Data supports a number of different strategies for managing large assets:\n\n1. Check the “Allows External Storage” box. \u003chttps://developer.apple.com/documentation/coredata/nsattributedescription/1498295-allowsexternalbinarydatastorage?language=objc\u003e\n2. Store the asset across a relationship\n3. Use a foreign key reference (as you described)\nWe don’t generally see folks opt in to 3 until their assets reach the gigabyte range. The reason is that it becomes difficult to fit them all on a device at scale, or that they cannot fit in memory. NSManagedObject does not have streaming APIs, so clients that need to use streaming or buffering techniques will use their own files outside their Core Data store.",
          "ts": "1654880957.614339",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PuKLj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "A) That is not true.\n\nCore Data supports a number of different strategies for managing large assets:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Check the \\u201cAllows External Storage\\u201d box. \"},{\"type\":\"link\",\"url\":\"https:\\/\\/developer.apple.com\\/documentation\\/coredata\\/nsattributedescription\\/1498295-allowsexternalbinarydatastorage?language=objc\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Store the asset across a relationship\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Use a foreign key reference (as you described)\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nWe don’t generally see folks opt in to 3 until their assets reach the gigabyte range. The reason is that it becomes difficult to fit them all on a device at scale, or that they cannot fit in memory. NSManagedObject does not have streaming APIs, so clients that need to use streaming or buffering techniques will use their own files outside their Core Data store."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "600b4e7c-e400-4bb3-b6fd-ac5c2b1c81e1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "B) Core Data supports file protection. \u003chttps://developer.apple.com/documentation/coredata/nspersistentstorefileprotectionkey?language=objc\u003e",
          "ts": "1654881012.501279",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2q039",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "B) Core Data supports file protection. "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nspersistentstorefileprotectionkey?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c8d3c1e9-6dd3-40b6-8857-bb3fa53429bf",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "There's a gradient of options and some things \"feel\" better in the database v.s. a discrete file on the file system.",
          "ts": "1654881074.160589",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CO2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There's a gradient of options and some things \"feel\" better in the database v.s. a discrete file on the file system."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a8281110-4445-4e18-afee-08e1c90cb755",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "The database excels at smaller column values, and the file system excels at many MB sized items.",
          "ts": "1654881106.468889",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "d69U",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The database excels at smaller column values, and the file system excels at many MB sized items."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "95d0ad34-b1d8-43f3-ac6b-cd0f625017e9",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "both can handle a broad intermediate range",
          "ts": "1654881120.349609",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vaj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "both can handle a broad intermediate range"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "41b15017-864d-47a0-a678-a8256d9508b0",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "usually a driving consideration is if the assets will be routed through another system using a URL based API.  eg audio or video played via a streaming API",
          "ts": "1654881190.538459",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JnkXc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "usually a driving consideration is if the assets will be routed through another system using a URL based API.  eg audio or video played via a streaming API"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "af9ac33d-0bd4-4481-ac83-cdc730cf459d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "3 is popular at sizes in the MB+ range, but not a requirement.  If you store assets outside the database then you're stuck with managing your own two phase commit problem.",
          "ts": "1654881247.111239",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WVt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "3 is popular at sizes in the MB+ range, but not a requirement.  If you store assets outside the database then you're stuck with managing your own two phase commit problem."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0d27c36e-4e3b-43db-b788-1c254640155b",
          "type": "message",
          "user": "U03J2AW2FHR",
          "text": "Thanks for your replies! Are you talking about assets which get compiled or “things the user can store in the app”? Sorry if I wasn’t all that clear up front. Coding is a foreign language in a foreign language for me so I’m not used to use the correct terminology I’m afraid. So: I wasn’t asking about assets that get compiled. The app I’m building has 2 Entities which should store (among other Attributes) Images and 1 Entity which should store  Voice Memos. I learned via google and forum entries I found that both should in theory be of type Binary Data but that one should consider storing these in FileManager instead and just link to them.",
          "ts": "1654882067.631419",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yuokV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for your replies! Are you talking about assets which get compiled or “things the user can store in the app”? Sorry if I wasn’t all that clear up front. Coding is a foreign language in a foreign language for me so I’m not used to use the correct terminology I’m afraid. So: I wasn’t asking about assets that get compiled. The app I’m building has 2 Entities which should store (among other Attributes) Images and 1 Entity which should store  Voice Memos. I learned via google and forum entries I found that both should in theory be of type Binary Data but that one should consider storing these in FileManager instead and just link to them."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b58fce35-b895-4e21-8c90-b3400a12d6b4",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt;  Are you talking about assets which get compiled or “things the user can store in the app”?\nI don’t think we’re making a distinction. Our metric is about the size of the payload, i.e. megabytes, gigabytes, etc.\n\nWe don’t particularly care how you get there (i.e. building a resource file vs. user contributed data).",
          "ts": "1654882466.329859",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "uuwhX",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\" Are you talking about assets which get compiled or \\u201cthings the user can store in the app\\u201d?\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don’t think we’re making a distinction. Our metric is about the size of the payload, i.e. megabytes, gigabytes, etc.\n\nWe don’t particularly care how you get there (i.e. building a resource file vs. user contributed data)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ff861844-5d5e-4881-b032-4006bbfb2cf3",
          "type": "message",
          "user": "U03J2AW2FHR",
          "text": "Alright, thanks for the clarification and again sorry for the confusion! With that I’ll have some new paths to dive into in the coming weeks! Many thanks!",
          "ts": "1654882665.422619",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pfPPY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Alright, thanks for the clarification and again sorry for the confusion! With that I’ll have some new paths to dive into in the coming weeks! Many thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "95888074-FAC1-42D7-B2E6-B794D2D72174",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "I store files in a separate Media entity and the blob is set to use external storage. That way it makes sync much easier. You don't need to manually manage syncing of an external set of files. Plus it eliminates file name conflicts since the file name is stored in a property of my Media entity. ",
          "ts": "1654886218.922009",
          "thread_ts": "1654880723.768159",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4w7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "store"
                    },
                    {
                      "type": "text",
                      "text": " files "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "separate"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Media"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "entity"
                    },
                    {
                      "type": "text",
                      "text": " and "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "blob"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "set"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "external"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "storage. That"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "way"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "makes"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "sync"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "much"
                    },
                    {
                      "type": "text",
                      "text": " easier"
                    },
                    {
                      "type": "text",
                      "text": ". "
                    },
                    {
                      "type": "text",
                      "text": "You don't "
                    },
                    {
                      "type": "text",
                      "text": "need"
                    },
                    {
                      "type": "text",
                      "text": " to "
                    },
                    {
                      "type": "text",
                      "text": "manually"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "manage"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "syncing"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "an"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "external"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "set"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "files. "
                    },
                    {
                      "type": "text",
                      "text": "Plus it eliminates file name conflicts since "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " file name "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "stored"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "property"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Media"
                    },
                    {
                      "type": "text",
                      "text": " entity"
                    },
                    {
                      "type": "text",
                      "text": ". "
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1UX2CQK\u003e asked\n\u0026gt; The NSPersistentHistory feature seems designed for syncing with CloudKit. Is it still an appropriate use of persistent history to work with a custom syncing solution not based on CloudKit?",
      "ts": "1654880837.419649",
      "thread_ts": "1654880837.419649",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 6,
      "latest_reply": "1654881575.797759",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        },
        {
          "name": "+1",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "6Ud9J",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1UX2CQK"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"The NSPersistentHistory feature seems designed for syncing with CloudKit. Is it still an appropriate use of persistent history to work with a custom syncing solution not based on CloudKit?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "89642ceb-542e-4870-8dbe-4ec61eb9849e",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "absolutely!",
          "ts": "1654880856.306869",
          "thread_ts": "1654880837.419649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JuO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "absolutely!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7a145ece-bd65-4945-b2e8-769e1a59b41a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Persistent history is for everyone",
          "ts": "1654880859.416699",
          "thread_ts": "1654880837.419649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VVt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Persistent history is for everyone"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a9162168-b867-4da4-bb0d-509aa743eef8",
          "type": "message",
          "user": "U03J1UX2CQK",
          "text": ":raised_hands: Thank you!",
          "ts": "1654880903.281469",
          "thread_ts": "1654880837.419649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9Ks",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "raised_hands",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " Thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c5f9f5af-6506-4c95-8d59-fc8ec24de8ee",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You can also use it to drive view refreshing between processes with remote change notifications.  No syncing.",
          "ts": "1654880906.553399",
          "thread_ts": "1654880837.419649",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "thinking_face",
              "count": 1,
              "users": [
                "U03J1UX2CQK"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TyX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can also use it to drive view refreshing between processes with remote change notifications.  No syncing."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f2013081-7403-4dff-9fcc-0662766186e1",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "Here is a bit more about Remote Change Notifications and the option to enable them for your Persistent Stores:\n\n```/* When NSPersistentStoreRemoteChangeNotificationPostOptionKey is set to YES, a NSPersistentStoreRemoteChangeNotification is posted for every\n write to the store, this includes writes that are done by other processes\n */\nCOREDATA_EXTERN NSString * const NSPersistentStoreRemoteChangeNotificationPostOptionKey API_AVAILABLE(macosx(10.15),ios(13.0),tvos(13.0),watchos(6.0));\n\n/* NSPersistentStoreRemoteChangeNotification is posted for all cross process writes to the store\n The payload is the store UUID (NSStoreUUIDKey), store URL (NSPersistentStoreURLKey), and NSPersistentHistoryToken for the transaction (if NSPersistentHistoryTrackingKey was also set)\n */\nCOREDATA_EXTERN NSString * const NSPersistentStoreRemoteChangeNotification API_AVAILABLE(macosx(10.14),ios(12.0),tvos(12.0),watchos(5.0));```",
          "ts": "1654881235.632899",
          "thread_ts": "1654880837.419649",
          "is_starred": true,
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 2,
              "users": [
                "U03J1V9TNLT",
                "U03J1UX2CQK"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "B6Ih",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Here is a bit more about Remote Change Notifications and the option to enable them for your Persistent Stores:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"\\/* When NSPersistentStoreRemoteChangeNotificationPostOptionKey is set to YES, a NSPersistentStoreRemoteChangeNotification is posted for every\\n write to the store, this includes writes that are done by other processes\\n *\\/\\nCOREDATA_EXTERN NSString * const NSPersistentStoreRemoteChangeNotificationPostOptionKey API_AVAILABLE(macosx(10.15),ios(13.0),tvos(13.0),watchos(6.0));\\n\\n\\/* NSPersistentStoreRemoteChangeNotification is posted for all cross process writes to the store\\n The payload is the store UUID (NSStoreUUIDKey), store URL (NSPersistentStoreURLKey), and NSPersistentHistoryToken for the transaction (if NSPersistentHistoryTrackingKey was also set)\\n *\\/\\nCOREDATA_EXTERN NSString * const NSPersistentStoreRemoteChangeNotification API_AVAILABLE(macosx(10.14),ios(12.0),tvos(12.0),watchos(5.0));\"}],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e163d3c9-8f7a-47d5-a411-28a0bc1b9913",
          "type": "message",
          "user": "U03J1UX2CQK",
          "text": "Neat. I've been exploring those for the purposes of disconnecting my custom sync management from existing code which deals with modifying objects, but I'll definitely keep them in mind when we start to add more external processes/extensions. Thanks!",
          "ts": "1654881575.797759",
          "thread_ts": "1654880837.419649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "R1f",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Neat. I've been exploring those for the purposes of disconnecting my custom sync management from existing code which deals with modifying objects, but I'll definitely keep them in mind when we start to add more external processes/extensions. Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JZ8P3726\u003e asked\n\u0026gt; I'm using a constraint in the data model for deduping, so I don't have to worry about whether a record already exists at the code level before creating the managed object and saving the context. So far it's working great, but I notice I now get a lot of Objective-C exceptions fired due to the constraint. Does this mean I'm doing it wrong? Should I first fetch to see if the record already exists before creating the managed object and saving? I figured that would be a performance hit but the exception makes me think I should avoid triggering this constraint at the database level.",
      "ts": "1654881122.408769",
      "thread_ts": "1654881122.408769",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654881448.204629",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "cVdR",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JZ8P3726"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'm using a constraint in the data model for deduping, so I don't have to worry about whether a record already exists at the code level before creating the managed object and saving the context. So far it's working great, but I notice I now get a lot of Objective-C exceptions fired due to the constraint. Does this mean I'm doing it wrong? Should I first fetch to see if the record already exists before creating the managed object and saving? I figured that would be a performance hit but the exception makes me think I should avoid triggering this constraint at the database level.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "87bee35f-c530-4acb-abec-e168010ef06c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Core Data uses exceptions internally for control flow.",
          "ts": "1654881137.542559",
          "thread_ts": "1654881122.408769",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Y4x",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Core Data uses exceptions internally for control flow."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a9b91dca-073a-449f-a159-b5a89f95d6ed",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "We don’t expect them to escape the context though, i.e. with an appropriate merge policy set, not `NSErrorMergePolicy`  , `NSManagedObjectContext`  will catch the exception and resolve the conflict for you.",
          "ts": "1654881193.387899",
          "thread_ts": "1654881122.408769",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3AL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We don’t expect them to escape the context though, i.e. with an appropriate merge policy set, not "
                    },
                    {
                      "type": "text",
                      "text": "NSErrorMergePolicy",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "  , "
                    },
                    {
                      "type": "text",
                      "text": "NSManagedObjectContext",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "  will catch the exception and resolve the conflict for you."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5ca3deb8-776d-4463-a68f-2a3acc994beb",
          "type": "message",
          "user": "U03JZ8P3726",
          "text": "Actually, sorry, I should have specified - I’m not seeing any crashing or anything, but when I turn on an Objective-C Exception breakpoint, it starts getting hit. Everything works fine besides the breakpoint catching",
          "ts": "1654881286.360079",
          "thread_ts": "1654881122.408769",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tcE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Actually, sorry, I should have specified - I’m not seeing any crashing or anything, but when I turn on an Objective-C Exception breakpoint, it starts getting hit. Everything works fine besides the breakpoint catching"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df36ac5c-83b3-483e-a182-465f398cb652",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "yes, those are ours for our internal flow.  You should see anything needed reported as errors out of the API entry points",
          "ts": "1654881340.864659",
          "thread_ts": "1654881122.408769",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=dG29",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "yes, those are ours for our internal flow.  You should see anything needed reported as errors out of the API entry points"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "666df0a8-c17a-4238-919e-5276f5e93a99",
          "type": "message",
          "user": "U03JZ8P3726",
          "text": ":thumbsup: sounds good, I don’t remember seeing any errors coming from the API, so it sounds like I’m good. thanks!",
          "ts": "1654881448.204629",
          "thread_ts": "1654881122.408769",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6i9z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "thumbsup",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " sounds good, I don’t remember seeing any errors coming from the API, so it sounds like I’m good. thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1UX2CQK\u003e asked\n\u0026gt; Is an NSManagedObjectID's URI guaranteed to be unique across devices (as much as one can expect from a random UUID) assuming the default NSPersistentStore implementation is used? \n\u0026gt; \n\u0026gt; I see that it currently is represented by the store ID (which is a UUID by default, documented by Apple to be globally unique), the table name, and an integer. Is this uniqueness guaranteed? Are IDs reused if an object is deleted?",
      "ts": "1654881478.336189",
      "thread_ts": "1654881478.336189",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 7,
      "latest_reply": "1654882072.668939",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Ys9d",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1UX2CQK"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is an NSManagedObjectID's URI guaranteed to be unique across devices (as much as one can expect from a random UUID) assuming the default NSPersistentStore implementation is used? \\n\\nI see that it currently is represented by the store ID (which is a UUID by default, documented by Apple to be globally unique), the table name, and an integer. Is this uniqueness guaranteed? Are IDs reused if an object is deleted?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "d37c0090-0471-4dd3-a894-d62fa65c14f5",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "They are unique but they are not consistent. i.e. a managed objectID on one device implies nothing about an object with the same notion of identity on another device.",
          "ts": "1654881513.016029",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "a1P9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "They are unique but they are not consistent. i.e. a managed objectID on one device implies nothing about an object with the same notion of identity on another device."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bd243bff-637b-4a7a-8ae0-5be62c4ac1e8",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Additionally, customers can copy a store file from one device to another, and invalidate the “global” notion of uniqueness.",
          "ts": "1654881531.686479",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KhS",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Additionally, customers can copy a store file from one device to another, and invalidate the “global” notion of uniqueness."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "94edec45-ac27-4ac9-931c-80d61b58214d",
          "type": "message",
          "user": "U03J1UX2CQK",
          "text": "Ah, I hadn't considered the copying of a store file from one device to another. That definitely complicates things... But I think it sounds like they'd still make good idempotency keys for my custom syncing solution's \"create\" operation. Once creation is sorted, the server is able to manage on its own. Thank you for your help!",
          "ts": "1654881723.167239",
          "thread_ts": "1654881478.336189",
          "edited": {
            "user": "U03J1UX2CQK",
            "ts": "1654881733.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dQ5y2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ah, I hadn't considered the copying of a store file from one device to another. That definitely complicates things... But I think it sounds like they'd still make good idempotency keys for my custom syncing solution's \"create\" operation. Once creation is sorted, the server is able to manage on its own. Thank you for your help!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cdade972-197a-40aa-bb01-787d1758f1e5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "backup / restore is a challenge, as well as any file copies.",
          "ts": "1654881912.828909",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kpIP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "backup / restore is a challenge, as well as any file copies."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "25d80008-920e-44dc-9bf1-522134d713c9",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think most syncing solution end up using a uuid in a column to simplify expectations",
          "ts": "1654881938.515399",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ITZy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think most syncing solution end up using a uuid in a column to simplify expectations"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "351278af-caf3-47e3-b5ae-4317ab2d44d9",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "we don't reuse PK after deletions",
          "ts": "1654881970.695639",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ho+Cc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "we don't reuse PK after deletions"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "89257528-140c-41fd-a59a-8d3b4dd61f46",
          "type": "message",
          "user": "U03J1UX2CQK",
          "text": "Yeah, the UUID thing is what I'm doing now. Was just sort of curious, since it might simplify some code. This is very helpful!",
          "ts": "1654882072.668939",
          "thread_ts": "1654881478.336189",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5loxN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, the UUID thing is what I'm doing now. Was just sort of curious, since it might simplify some code. This is very helpful!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JFRU5EBH\u003e asked\n\u0026gt; I'm suffered by error -134030 on saving managed object. Once this error happens, no objects are saved and it seems no way to recover other than restarting the app. It's appreciated to let me know how to recover from this state, or how to avoid this error.",
      "ts": "1654881518.123509",
      "thread_ts": "1654881518.123509",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654881634.418209",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "O/B",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JFRU5EBH"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'm suffered by error -134030 on saving managed object. Once this error happens, no objects are saved and it seems no way to recover other than restarting the app. It's appreciated to let me know how to recover from this state, or how to avoid this error.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "6cfbce60-92d0-47be-b605-af00eedd254a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "NSPersistentStoreSaveError            = 134030, // unclassified save error - something we depend on returned an error",
          "ts": "1654881535.335899",
          "thread_ts": "1654881518.123509",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QVk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentStoreSaveError            = 134030, // unclassified save error - something we depend on returned an error"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9f4a164c-3e62-4d2c-9fed-ccc8656ef436",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You should see much more detailed information in the error's userInfo dictionary and the system logs.",
          "ts": "1654881551.594479",
          "thread_ts": "1654881518.123509",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GXl",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You should see much more detailed information in the error's userInfo dictionary and the system logs."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f2e81196-42ed-4ec4-8d6b-1b885844d3d1",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I'd start with a breakpoint and introspecting the NSError object itself",
          "ts": "1654881601.608209",
          "thread_ts": "1654881518.123509",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "T77s+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I'd start with a breakpoint and introspecting the NSError object itself"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "fc947218-fb3f-43a5-99a4-e08111062594",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "you can also file a feedback report with a sysdiagnose after reproducing the error and we can take a look at the logs",
          "ts": "1654881634.418209",
          "thread_ts": "1654881518.123509",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GgUs=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "you can also file a feedback report with a sysdiagnose after reproducing the error and we can take a look at the logs"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K0TAETQ9\u003e asked\n\u0026gt; Hello everyone! Thank you for keeping this workflow enabled for us here in Europe. \n\u0026gt; In our project we started using Core Data Context alongside NSOperations. We want every remote data we fetch to be stored locally for offline usage. After a lot of reading and trial\u0026amp;error we ended up having each Operation to create their own instance of Context that inserts/updates objects based on the network response and saves them at the end. \n\u0026gt; My question is, if we want to display these new data on screen to the user and given that you are not allowed to pass objects between threads, what's the best practise in this case? To load objects from local using the main context (UI thread) after the remote fetch was successful? Or, to pass the objectIDs from that Operation's context back to main and from there to do `object(with objectID: NSManagedObjectID)`? Thank you.",
      "ts": "1654881672.285759",
      "thread_ts": "1654881672.285759",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654881829.210209",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "hyw",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K0TAETQ9"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hello everyone! Thank you for keeping this workflow enabled for us here in Europe. \\nIn our project we started using Core Data Context alongside NSOperations. We want every remote data we fetch to be stored locally for offline usage. After a lot of reading and trial\u0026error we ended up having each Operation to create their own instance of Context that inserts\\/updates objects based on the network response and saves them at the end. \\nMy question is, if we want to display these new data on screen to the user and given that you are not allowed to pass objects between threads, what's the best practise in this case? To load objects from local using the main context (UI thread) after the remote fetch was successful? Or, to pass the objectIDs from that Operation's context back to main and from there to do `object(with objectID: NSManagedObjectID)`? Thank you.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "8e9ac3b4-c4cb-48de-b33e-ff08bb3be9cf",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "NSManagedObjectContext uses its own dispatch serial queue, so you don't HAVE to use it with an NSOperation separately (that's a little redundant)",
          "ts": "1654881742.951609",
          "thread_ts": "1654881672.285759",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3kv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSManagedObjectContext uses its own dispatch serial queue, so you don't HAVE to use it with an NSOperation separately (that's a little redundant)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "29b2d0e0-ebd2-4741-be07-489f8bd38945",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "for merging the changes back, usually folks use `automaticallyMergesChangesFromParent` or `mergeChangesFromContextDidSaveNotification`",
          "ts": "1654881829.210209",
          "thread_ts": "1654881672.285759",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3gm0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "for merging the changes back, usually folks use "
                    },
                    {
                      "type": "text",
                      "text": "automaticallyMergesChangesFromParent",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " or "
                    },
                    {
                      "type": "text",
                      "text": "mergeChangesFromContextDidSaveNotification",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1UAEU4B\u003e asked\n\u0026gt; What's the recommended way to store an image in Core Data? Store a URL in an entity to a file on disk? Transformable data within the entity? An entity relationship to another entity that just stores the data, like the NSPersistentCloudKitContainer sample app uses? What are some of the tradeoffs to consider for the above methods or any other methods I'm not thinking of?",
      "ts": "1654881676.878469",
      "thread_ts": "1654881676.878469",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654881949.166199",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "AD0R",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1UAEU4B"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"What's the recommended way to store an image in Core Data? Store a URL in an entity to a file on disk? Transformable data within the entity? An entity relationship to another entity that just stores the data, like the NSPersistentCloudKitContainer sample app uses? What are some of the tradeoffs to consider for the above methods or any other methods I'm not thinking of?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "08b2c553-435b-4f84-9dc7-a6df6dba9e64",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Any of those are fine. The tradeoffs are generally measured in instruments as heap growth or time spent doing I/O.",
          "ts": "1654881727.258739",
          "thread_ts": "1654881676.878469",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1UAEU4B"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "l1nxX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Any of those are fine. The tradeoffs are generally measured in instruments as heap growth or time spent doing I/O."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e632225d-01bc-43da-8d95-92d407bb32ce",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "This context will also be relevant: \u003chttps://wwdc22.slack.com/archives/C03GSLDRB4P/p1654880723768159\u003e",
          "ts": "1654881754.075949",
          "thread_ts": "1654881676.878469",
          "attachments": [
            {
              "fallback": "[June 10th, 2022 10:05 AM] Core Data - Ask a Question: \u003c@U03J2AW2FHR\u003e asked\n\u0026gt; Hi. I've read that both Voice Memos as well as Images (Pictures) should be stored outside of CoreData (FileManager) with only saving references of these in CoreData for performance reasons. A) Is that true? B) (How) Can I still lock the whole storage of the app behind a passcode/FaceID/TouchID?",
              "id": 1,
              "author_subname": "Core Data - Ask a Question",
              "author_link": "https://wwdc22.slack.com/services/B03HGE5EJ04",
              "author_icon": "https://avatars.slack-edge.com/2022-05-29/3605901572289_b848ba723c5441c63be9_48.png",
              "text": "\u003c@U03J2AW2FHR\u003e asked\n\u0026gt; Hi. I've read that both Voice Memos as well as Images (Pictures) should be stored outside of CoreData (FileManager) with only saving references of these in CoreData for performance reasons. A) Is that true? B) (How) Can I still lock the whole storage of the app behind a passcode/FaceID/TouchID?",
              "from_url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654880723768159",
              "original_url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654880723768159",
              "mrkdwn_in": [
                "text"
              ],
              "blocks": null,
              "footer": "Thread in #coredata-lounge",
              "ts": 1654880723.768159
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Q=CW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This context will also be relevant: "
                    },
                    {
                      "type": "link",
                      "url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654880723768159",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d2e0d2b6-d646-497e-992d-9d35ccaafeab",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But generally speaking clients will choose an approach that meets their goals. We can’t make specific recommendations without a more detailed description of what you’re trying to achieve.",
          "ts": "1654881814.927409",
          "thread_ts": "1654881676.878469",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1UAEU4B"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vuJ3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But generally speaking clients will choose an approach that meets their goals. We can’t make specific recommendations without a more detailed description of what you’re trying to achieve."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bbb82bf8-ac82-488e-931a-09a64d64c0e1",
          "type": "message",
          "user": "U03J21ZD15Y",
          "text": "I've had success with \"Allows External Storage\" using the pngData from the image. Just have to be careful of the memory.",
          "ts": "1654881815.637319",
          "thread_ts": "1654881676.878469",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J2019QTV"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "EDP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I've had success with \"Allows External Storage\" using the pngData from the image. Just have to be careful of the memory."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "35dfddc1-6cc2-4c50-bb12-f7b1dc73ca1c",
          "type": "message",
          "user": "U03J1UAEU4B",
          "text": "Thank you!",
          "ts": "1654881949.166199",
          "thread_ts": "1654881676.878469",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "e1Lb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JT0GSCH2\u003e asked\n\u0026gt; I have a Book entity that has attributes for the Date it was (1) checked out from the library and its (2) due date. I’d like to fetch entities and sort them by the *percent* of remaining time. I this possible to do with derived attributes?",
      "ts": "1654881757.135839",
      "thread_ts": "1654881757.135839",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654882123.117819",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "BwIBH",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JT0GSCH2"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I have a Book entity that has attributes for the Date it was (1) checked out from the library and its (2) due date. I\\u2019d like to fetch entities and sort them by the *percent* of remaining time. I this possible to do with derived attributes?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "c296be62-7c9e-48e4-a3f7-404658b677ca",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "The current Function Expressions supported by Derived Attributes would not cover this case - but please file Feedback requesting this enhancement with a small example of the Function Expression you would use",
          "ts": "1654881851.856769",
          "thread_ts": "1654881757.135839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "stm=I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The current Function Expressions supported by Derived Attributes would not cover this case - but please file Feedback requesting this enhancement with a small example of the Function Expression you would use"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1A0CCC9F-95A3-4191-B135-346334E39C0E",
          "type": "message",
          "user": "U03JT0GSCH2",
          "text": "Thank you \u003c@U03J90D8Q0Y\u003e ! I see on \u0026lt;NSDerivedAttributeDescriptionhttps://developer.apple.com/documentation/coredata/nsderivedattributedescriptionthat|NSDerivedAttributeDescription\u0026gt;\u0026lt;NSDerivedAttributeDescriptionhttps://developer.apple.com/documentation/coredata/nsderivedattributedescriptionthat| \u0026gt;(\u003chttps://developer.apple.com/documentation/coredata/nsderivedattributedescription|https://developer.apple.com/documentation/coredata/nsderivedattributedescription\u003e) that “`time` The current time.\n`now()`” can be used. Is there no way to leverage this for my use case",
          "ts": "1654882097.169509",
          "thread_ts": "1654881757.135839",
          "edited": {
            "user": "U03JT0GSCH2",
            "ts": "1654882115.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JFD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you "
                    },
                    {
                      "type": "user",
                      "user_id": "U03J90D8Q0Y"
                    },
                    {
                      "type": "text",
                      "text": " ! I see on "
                    },
                    {
                      "type": "link",
                      "url": "NSDerivedAttributeDescriptionhttps://developer.apple.com/documentation/coredata/nsderivedattributedescriptionthat",
                      "text": "NSDerivedAttributeDescription"
                    },
                    {
                      "type": "link",
                      "url": "NSDerivedAttributeDescriptionhttps://developer.apple.com/documentation/coredata/nsderivedattributedescriptionthat",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "("
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nsderivedattributedescription",
                      "text": "https://developer.apple.com/documentation/coredata/nsderivedattributedescription"
                    },
                    {
                      "type": "text",
                      "text": ")"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that “"
                    },
                    {
                      "type": "text",
                      "text": "time",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " The current time."
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "now()",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "” can be used. Is there no way to leverage this for my use case"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a346fcfe-22a1-4431-a0fe-44f652b16cbe",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "unfortunately at the moment you'd need to update an attribute like this yourself within a custom setter or a notification like `NSManagedObjectContextWillSaveNotification`",
          "ts": "1654882123.117819",
          "thread_ts": "1654881757.135839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=VQJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "unfortunately at the moment you'd need to update an attribute like this yourself within a custom setter or a notification like "
                    },
                    {
                      "type": "text",
                      "text": "NSManagedObjectContextWillSaveNotification",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J9P3A03V\u003e asked\n\u0026gt; Apologies if this is a total newbie stupid question, But is there any reason why an NSBatchInsertRequest might fail due to reading in optionals? I'm doing my own version of reading in a JSON file and manage to populate it successfully, but am failing to get the data into CoreData",
      "ts": "1654881909.146309",
      "thread_ts": "1654881909.146309",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 22,
      "latest_reply": "1654889075.681889",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "=3R7k",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J9P3A03V"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Apologies if this is a total newbie stupid question, But is there any reason why an NSBatchInsertRequest might fail due to reading in optionals? I'm doing my own version of reading in a JSON file and manage to populate it successfully, but am failing to get the data into CoreData\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "912e2e7f-cada-4303-8c50-c2e98789bfa3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m not sure we can say. A feedback report with some steps to reproduce (maybe including your app and sample data) would probably be the right place to start.",
          "ts": "1654881934.214889",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MNtP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m not sure we can say. A feedback report with some steps to reproduce (maybe including your app and sample data) would probably be the right place to start."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "85f0d197-f67f-44f6-add8-55516f151063",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "did you model a mandatory property but then try to batch insert with a data set that is missing it ?",
          "ts": "1654882166.568409",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jDdIL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "did you model a mandatory property but then try to batch insert with a data set that is missing it ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d09813fb-1aa5-4a73-8f15-b659a4b070a1",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Nothing is set as mandatory, and with my optionals, they all have a value or nil. But in any case, it is the first read (index 0) where it fails and in the array all three fields are populated with the right types.",
          "ts": "1654882323.412059",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y0bZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Nothing is set as mandatory, and with my optionals, they all have a value or nil. But in any case, it is the first read (index 0) where it fails and in the array all three fields are populated with the right types."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2a3c3d39-9307-463d-adec-b2601b7b18dc",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "(thank you)!",
          "ts": "1654882338.709349",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vUD6G",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "(thank you)!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b11def48-8f66-49db-9400-38cd6725dd73",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "NSBatchInsertRequest is expecting an Array of Dictionaries = Array\u0026lt;[String:Any]\u0026gt; , where the keys of the Dictionary align with the Property Names of the Entity for the NSBatchInsertRequest.\n\nThe error when executing the NSBatchInsertRequest should provide more information as to what is missing or incorrect about the provided data",
          "ts": "1654882575.021979",
          "thread_ts": "1654881909.146309",
          "edited": {
            "user": "U03J90D8Q0Y",
            "ts": "1654882587.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "X0V0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSBatchInsertRequest is expecting an Array of Dictionaries = Array\u003c[String:Any]\u003e , where the keys of the Dictionary align with the Property Names of the Entity for the NSBatchInsertRequest.\n\nThe error when executing the NSBatchInsertRequest should provide more information as to what is missing or incorrect about the provided data"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8507dbbd-3b39-4794-87a3-211a2c0114fe",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "So the first read looks like this inside:",
          "ts": "1654882596.753159",
          "thread_ts": "1654881909.146309",
          "files": [
            {
              "id": "F03JS4T1Y4X",
              "created": 1654882594,
              "timestamp": 1654882594,
              "name": "image.png",
              "title": "image.png",
              "mimetype": "image/png",
              "image_exif_rotation": 0,
              "filetype": "png",
              "pretty_type": "PNG",
              "user": "U03J9P3A03V",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 154770,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03JS4T1Y4X-image.png",
              "url_private_download": "C03GSLDRB4P/F03JS4T1Y4X-image.png",
              "original_h": 380,
              "original_w": 1476,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_64.png",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_80.png",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_160.png",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_360.png",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 93,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_480.png",
              "thumb_480_w": 480,
              "thumb_480_h": 124,
              "thumb_720": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_720.png",
              "thumb_720_w": 720,
              "thumb_720_h": 185,
              "thumb_960": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_960.png",
              "thumb_960_w": 960,
              "thumb_960_h": 247,
              "thumb_1024": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03JS4T1Y4X-5e957d3314/image_1024.png",
              "thumb_1024_w": 1024,
              "thumb_1024_h": 264,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03J9P3A03V/F03JS4T1Y4X/image.png",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03JS4T1Y4X-0fe62a4a10",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sDNIp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So the first read looks like this inside:"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "024f8d5e-227a-4b86-8495-da0916b8e3c3",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "The dictionary looks like this:\n*var* dictionaryValue: [String: *Any*] {\n    [\n      “tagNum”: tagNum,\n      “eweTag”: eweTag,\n      “dateOfBirth”: dateOfBirth\n    ]\n  }",
          "ts": "1654882660.928929",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XbzFi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The dictionary looks like this:\n"
                    },
                    {
                      "type": "text",
                      "text": "var",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " dictionaryValue: [String: "
                    },
                    {
                      "type": "text",
                      "text": "Any",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "] {\n    [\n      “tagNum”: tagNum,\n      “eweTag”: eweTag,\n      “dateOfBirth”: dateOfBirth\n    ]\n  }"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a678964c-9386-4ae4-ae26-5c4bd5b9b4a9",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "And re: errors, I’m probably not reporting them very well? All I know is where it fails",
          "ts": "1654882711.098349",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "N8mJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And re: errors, I’m probably not reporting them very well? All I know is where it fails"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "76da6522-9746-4c51-a0f9-d25e4ecf9aa4",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "what Error is thrown at the .execute site?",
          "ts": "1654882765.186339",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "t=v",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "what Error is thrown at the .execute site?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "661de1eb-aea9-438f-b1fb-f08fb162ba66",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Sorry, where would I look for the .execute site?",
          "ts": "1654882985.025139",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "v+y8C",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry, where would I look for the .execute site?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f2daf35d-1fcc-4714-99f2-27d140dd7903",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "*2022-06-10 18:44:17.696666+0100 TestBedForJson[24508:15579432] [persistence] Data Import Error*",
          "ts": "1654883082.707349",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Wl=K",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "2022-06-10 18:44:17.696666+0100 TestBedForJson[24508:15579432] [persistence] Data Import Error",
                      "style": {
                        "bold": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0f251604-ef4e-41f4-8435-b954adf52b9e",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "That is the console",
          "ts": "1654883089.223819",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pKZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That is the console"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3bc7f324-962a-4f97-bd4b-a0eb6024d520",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "I created a logger type error",
          "ts": "1654883103.244959",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qXi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I created a logger type error"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a953d720-7ff4-47d7-88ac-e3236b1cf986",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Does that make sense?",
          "ts": "1654883114.390769",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "U/qbu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Does that make sense?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0156c8a7-f635-4fa6-ab55-5b11b005fb16",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "So I’m parroting most of the Earthquakes code for importing into Coredata:\n*try* *await* taskContext.perform {\n      *let* batchInsertRequest = *self*.newBatchInsertRequest(with: fmpRecordsList)\n      *if* *let* fetchResult = *try*? taskContext.execute(batchInsertRequest),\n        *let* batchInsertResult = fetchResult *as*? NSBatchInsertResult,\n        *let* success = batchInsertResult.result *as*? Bool, success {\n        *return*\n      }\n      *self*.logger.debug(“Data Import Error”)\n        *throw* ErrorsFMPImport.dataImportError\n    }\n    print(“Successfully inserted JSON into CoreData”)\n  }",
          "ts": "1654883179.988549",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "i/L",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So I’m parroting most of the Earthquakes code for importing into Coredata:\n"
                    },
                    {
                      "type": "text",
                      "text": "try",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "await",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " taskContext.perform {\n      "
                    },
                    {
                      "type": "text",
                      "text": "let",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " batchInsertRequest = "
                    },
                    {
                      "type": "text",
                      "text": "self",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ".newBatchInsertRequest(with: fmpRecordsList)\n      "
                    },
                    {
                      "type": "text",
                      "text": "if",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "let",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " fetchResult = "
                    },
                    {
                      "type": "text",
                      "text": "try",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "? taskContext.execute(batchInsertRequest),\n        "
                    },
                    {
                      "type": "text",
                      "text": "let",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " batchInsertResult = fetchResult "
                    },
                    {
                      "type": "text",
                      "text": "as",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "? NSBatchInsertResult,\n        "
                    },
                    {
                      "type": "text",
                      "text": "let",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " success = batchInsertResult.result "
                    },
                    {
                      "type": "text",
                      "text": "as",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "? Bool, success {\n        "
                    },
                    {
                      "type": "text",
                      "text": "return",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n      }\n      "
                    },
                    {
                      "type": "text",
                      "text": "self",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ".logger.debug(“Data Import Error”)\n        "
                    },
                    {
                      "type": "text",
                      "text": "throw",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " ErrorsFMPImport.dataImportError\n    }\n    print(“Successfully inserted JSON into CoreData”)\n  }"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7c15761a-56e9-42e7-9c97-0590074d87fb",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "That is only printing out your custom error",
          "ts": "1654883207.612849",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Hxv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That is only printing out your custom error"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "06778d48-5690-425a-be07-1ab328ae9a62",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "*try*? taskContext.execute(batchInsertRequest) ----\u0026gt; this is throwing an Error, you want to inspect it for the issue you are encountering",
          "ts": "1654883255.559069",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LaYP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "try",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "? taskContext.execute(batchInsertRequest) ----\u003e this is throwing an Error, you want to inspect it for the issue you are encountering"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "138d6738-bca6-4d54-9bf9-a5255920369c",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Yes, I know. But I’ve just solved it!!! It was the dictionary. So thank you so much.",
          "ts": "1654883355.352939",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "w3S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, I know. But I’ve just solved it!!! It was the dictionary. So thank you so much."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "212eaf68-821a-43cc-ae04-38152d20716a",
          "type": "message",
          "user": "U03J90D8Q0Y",
          "text": "excellent!",
          "ts": "1654883378.957909",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "heart",
              "count": 1,
              "users": [
                "U03J9P3A03V"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "myY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "excellent!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "771714f2-ab78-4c1d-889b-cbae765c5861",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "Clearly it’s good to talk!!!",
          "ts": "1654883392.763569",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "100",
              "count": 1,
              "users": [
                "U03HJA0EJ1G"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ycc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Clearly it’s good to talk!!!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "054adde5-afa3-430b-b162-69a8c3f8789c",
          "type": "message",
          "user": "U03J9P3A03V",
          "text": "And I’m only leaving this because I don’t know how to delete or unsend a message in Slack!\n======\nSorry, I think I’m confusing a display of the creation date, so let’s leave this as me = tired, you are all :heart:",
          "ts": "1654884390.731789",
          "thread_ts": "1654881909.146309",
          "edited": {
            "user": "U03J9P3A03V",
            "ts": "1654884600.000000"
          },
          "files": [
            {
              "id": "F03K40FKREH",
              "created": 0,
              "timestamp": 0,
              "name": "",
              "title": "",
              "mimetype": "",
              "image_exif_rotation": 0,
              "filetype": "",
              "pretty_type": "",
              "user": "",
              "mode": "tombstone",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 0,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03K40FKREH-",
              "url_private_download": "C03GSLDRB4P/F03K40FKREH-",
              "original_h": 0,
              "original_w": 0,
              "thumb_64": "",
              "thumb_80": "",
              "thumb_160": "",
              "thumb_360": "",
              "thumb_360_gif": "",
              "thumb_360_w": 0,
              "thumb_360_h": 0,
              "thumb_480": "",
              "thumb_480_w": 0,
              "thumb_480_h": 0,
              "thumb_720": "",
              "thumb_720_w": 0,
              "thumb_720_h": 0,
              "thumb_960": "",
              "thumb_960_w": 0,
              "thumb_960_h": 0,
              "thumb_1024": "",
              "thumb_1024_w": 0,
              "thumb_1024_h": 0,
              "permalink": "",
              "permalink_public": "",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TIB2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And I’m only leaving this because I don’t know how to delete or unsend a message in Slack!\n======\nSorry, I think I’m confusing a display of the creation date, so let’s leave this as me = tired, you are all "
                    },
                    {
                      "type": "emoji",
                      "name": "heart",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ab6a0cfa-ef95-45b9-980f-6d349aca4007",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Time is an illusion, except coffee time, which is very real",
          "ts": "1654889075.681889",
          "thread_ts": "1654881909.146309",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "rolling_on_the_floor_laughing",
              "count": 1,
              "users": [
                "U03J9P3A03V"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6FHmM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Time is an illusion, except coffee time, which is very real"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K0TAETQ9\u003e asked\n\u0026gt; Is it possible to rename an existing Entity and create a new Entity with existing Entity's old name? The two entities don't share the same attributes. Is just that we gave to that Entity a not so relevant name at the beginning. Thank you",
      "ts": "1654882011.801669",
      "thread_ts": "1654882011.801669",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654882096.775339",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "PlpJj",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K0TAETQ9"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is it possible to rename an existing Entity and create a new Entity with existing Entity's old name? The two entities don't share the same attributes. Is just that we gave to that Entity a not so relevant name at the beginning. Thank you\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "e3459fe3-4b05-4b9f-8499-6dead82e6f50",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "It would be as part of a “staged” migration:\n\n1. Delete rename the old entity\n2. Add the new one\nThis would mean that you’d need two separate model changes.",
          "ts": "1654882074.365629",
          "thread_ts": "1654882011.801669",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RaH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It would be as part of a “staged” migration:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Delete rename the old entity\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Add the new one\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nThis would mean that you’d need two separate model changes."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "59ac9b58-857a-4c53-b933-5d45a14e546a",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "I would recommend you check out the session “Evolve your Core Data schema” from WWDC ’22. It addresses this exact topic.",
          "ts": "1654882096.775339",
          "thread_ts": "1654882011.801669",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03K0TAETQ9"
              ]
            },
            {
              "name": "swift-orange",
              "count": 1,
              "users": [
                "U03K0TAETQ9"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ECi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would recommend you check out the session “Evolve your Core Data schema” from WWDC ’22. It addresses this exact topic."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JML9Q51T\u003e asked\n\u0026gt; Is there any danger to marking an attribute as Optional in the CoreData model editor, but non-optional in the generated NSManagedObject subclass?\n\u0026gt; \n\u0026gt; Related: is it ok to replace all NSSet relationships in the subclass with Set\u0026lt;Type\u0026gt; and read/write directly - instead of using the generated accessors?",
      "ts": "1654882139.945839",
      "thread_ts": "1654882139.945839",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 13,
      "latest_reply": "1654886299.475399",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "NeNt",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JML9Q51T"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there any danger to marking an attribute as Optional in the CoreData model editor, but non-optional in the generated NSManagedObject subclass?\\n\\nRelated: is it ok to replace all NSSet relationships in the subclass with Set\u003cType\u003e and read\\/write directly - instead of using the generated accessors?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "363d83d7-b9ad-4f9c-b038-031be59601bc",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Instead of non optional I’d recommend using `!` so Swift knows it can actually be `nil`  e.g. `@NSManaged var foo: String!`\n\nReplacing `NSSet?` with `Set\u0026lt;Type\u0026gt;` will not _crash_, but it will cause Swift’s eager bridging of collections to fault all the objects in the relationship, which will create spooky performance problems for relationships of any significant size.",
          "ts": "1654882227.483099",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6sE/X",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Instead of non optional I’d recommend using "
                    },
                    {
                      "type": "text",
                      "text": "!",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " so Swift knows it can actually be "
                    },
                    {
                      "type": "text",
                      "text": "nil",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "  e.g. "
                    },
                    {
                      "type": "text",
                      "text": "@NSManaged var foo: String!",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n\nReplacing "
                    },
                    {
                      "type": "text",
                      "text": "NSSet?",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " with "
                    },
                    {
                      "type": "text",
                      "text": "Set\u003cType\u003e",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " will not "
                    },
                    {
                      "type": "text",
                      "text": "crash",
                      "style": {
                        "italic": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", but it will cause Swift’s eager bridging of collections to fault all the objects in the relationship, which will create spooky performance problems for relationships of any significant size."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8ee26cd2-8012-4cb2-bfff-e5917e2259b8",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "`Set`is a value type / struct and needs ALL the relationship values up front.  So it doesn't support faulting the way NSSet can as a reference type",
          "ts": "1654882311.672119",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mEb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Set",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "is a value type / struct and needs ALL the relationship values up front.  So it doesn't support faulting the way NSSet can as a reference type"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2088b84b-639a-41a4-8435-08c3cedea118",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "Does the `NSSet?` need to stay optional - or can we use `!` and assume an empty set by default?\n\nAny recommendations for getting typed access to these relationships?",
          "ts": "1654882580.729429",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "acq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Does the "
                    },
                    {
                      "type": "text",
                      "text": "NSSet?",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " need to stay optional - or can we use "
                    },
                    {
                      "type": "text",
                      "text": "!",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and assume an empty set by default?\n\nAny recommendations for getting typed access to these relationships?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "00d0fdbe-e599-4e33-bf13-b4e620e198cd",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "IIRC the set is only `nil` if `isDeleted == true` so yeah `!` away",
          "ts": "1654882621.966849",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RM10",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "IIRC the set is only "
                    },
                    {
                      "type": "text",
                      "text": "nil",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " if "
                    },
                    {
                      "type": "text",
                      "text": "isDeleted == true",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " so yeah "
                    },
                    {
                      "type": "text",
                      "text": "!",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " away"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ebdf4af3-2d59-438f-b5ab-c901a75e639c",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "\u003c@U03HK7797D0\u003e I encounter crashes if I implicitly unwrap an attribute e.g. `@NSManaged var foo: String!` and then delete the object from a SwiftUI List - as the deletion doesn’t seem to propagate downstream. I provided more info in a separate question.",
          "ts": "1654883161.838199",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "p0Y",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " I encounter crashes if I implicitly unwrap an attribute e.g. "
                    },
                    {
                      "type": "text",
                      "text": "@NSManaged var foo: String!",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and then delete the object from a SwiftUI List - as the deletion doesn’t seem to propagate downstream. I provided more info in a separate question."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "920e3e1c-eacc-4eea-a83f-8d3be4f49b53",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "It would probably be best to delete the object by deleting it in the model and then letting Core Data propagate the changes to the `List`",
          "ts": "1654883423.459669",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "c0T",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It would probably be best to delete the object by deleting it in the model and then letting Core Data propagate the changes to the "
                    },
                    {
                      "type": "text",
                      "text": "List",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cd39ea22-f0db-4b72-a7db-e332ed8ddfc3",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "The `List` isn’t responsible for managing the state here, your model layer is. Deleting from the list prevents the model layer from doing its job",
          "ts": "1654883455.184199",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4Sk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The "
                    },
                    {
                      "type": "text",
                      "text": "List",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " isn’t responsible for managing the state here, your model layer is. Deleting from the list prevents the model layer from doing its job"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "693d3e4a-9df6-4807-ba92-558051bf26d0",
          "type": "message",
          "user": "U03J1V9TNLT",
          "text": "\u003c@U03HK7797D0\u003e Have you considered generating the ! in @NSManaged var foo: String! for us when the model contains a default value for the field?",
          "ts": "1654883740.756259",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qdHj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " Have you considered generating the ! in @NSManaged var foo: String! for us when the model contains a default value for the field?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "515b94f7-c58c-4383-acdd-73020566a06f",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "Sorry I wasn’t very clear. The swipe-to-delete action deletes the object from the MOC. My other question hasn’t been approved yet but it has easily reproducible code.",
          "ts": "1654883760.442179",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ggq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry I wasn’t very clear. The swipe-to-delete action deletes the object from the MOC. My other question hasn’t been approved yet but it has easily reproducible code."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "151b109d-a0ab-4100-a76a-f95e93206e62",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Malcolm: worth a feedback report!",
          "ts": "1654883829.921229",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "/Iq+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Malcolm: worth a feedback report!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dfd18928-1f03-4fe3-8cbc-0289f99e334d",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Collin: this seems like more of a feedback report (with a reproducing project) as well—this isn’t a common problem and probably has something to do with the specific code involved that isn’t really in scope for Slack Q\u0026amp;A",
          "ts": "1654883903.335549",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TG1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Collin: this seems like more of a feedback report (with a reproducing project) as well—this isn’t a common problem and probably has something to do with the specific code involved that isn’t really in scope for Slack Q\u0026A"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e89f281e-281a-4617-afd8-2802108e3c65",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "\u003c@U03HK7797D0\u003e I’m happy to file feedback, but I do believe this is a very common problem - from the numerous reports I’ve found online (with no solutions).",
          "ts": "1654886049.263759",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "EQ6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " I’m happy to file feedback, but I do believe this is a very common problem - from the numerous reports I’ve found online (with no solutions)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "331866b4-5501-4fd1-a14c-94c47afe9663",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "all the more reason to track it officially!",
          "ts": "1654886299.475399",
          "thread_ts": "1654882139.945839",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y3=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "all the more reason to track it officially!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1V9TNLT\u003e asked\n\u0026gt; Say NSPersistentCloudKitContainer is being used and a sync hasn't happened for a while and the sqlite is full of change records that contain column IDs. When a migration happens are all those change records containing column IDs updated too? E.g. even if a field is inserted rather than appended to the model that would make all the previous change records invalid. Is there any thing we should be careful about in this scenario?",
      "ts": "1654882151.394979",
      "thread_ts": "1654882151.394979",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654882317.136199",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        },
        {
          "name": "white_check_mark",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "7GP2",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1V9TNLT"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Say NSPersistentCloudKitContainer is being used and a sync hasn't happened for a while and the sqlite is full of change records that contain column IDs. When a migration happens are all those change records containing column IDs updated too? E.g. even if a field is inserted rather than appended to the model that would make all the previous change records invalid. Is there any thing we should be careful about in this scenario?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "000282ed-47d7-4a27-85c7-28bbfab5147c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "NSPersistentCloudKitContainer tracks mutations across migrations. Migrations don’t implicitly change the history of a store, but they do invalidate some pending work.\n\nFor example, if you changed an object, say the `name` attribute, and then performed a migration that deleted the `name` attribute, there would be no work to do.",
          "ts": "1654882249.825429",
          "thread_ts": "1654882151.394979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yqp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer tracks mutations across migrations. Migrations don’t implicitly change the history of a store, but they do invalidate some pending work.\n\nFor example, if you changed an object, say the "
                    },
                    {
                      "type": "text",
                      "text": "name",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " attribute, and then performed a migration that deleted the "
                    },
                    {
                      "type": "text",
                      "text": "name",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " attribute, there would be no work to do."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a1393cf2-bb3c-4dcb-a0e0-186b80d30cbf",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Adding an attribute doesn’t have that affect. All of the preceding changes are still valid and will be in the history tracking tables. In that case NSPersistentCloudKitContainer would still have work to do to export those changes.",
          "ts": "1654882317.136199",
          "thread_ts": "1654882151.394979",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xMBQ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Adding an attribute doesn’t have that affect. All of the preceding changes are still valid and will be in the history tracking tables. In that case NSPersistentCloudKitContainer would still have work to do to export those changes."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JHD6Q60H\u003e asked\n\u0026gt; I'd like to have a clear separation between my core data stack (NSManagedObjects) and my View layer, therefore I'd like to map my NSManagedObjects to structs along the way and still have faulting in place as well as the possibility to animate changes in my collection views. Diffable data sources accomplish that by only binding the ObjectIDs to the collection view so that the faults do not fire. Can you give me an advice how to accomplish that separation? The only thing I think that might work is to set a batch size for my fetch requests, but that feels a little odd since in a perfect world I feel like the fetch request should not know that it needs to have a batch size because its items have to be shown in a collection view.",
      "ts": "1654882450.295419",
      "thread_ts": "1654882450.295419",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 8,
      "latest_reply": "1654892564.453559",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "a/oeP",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JHD6Q60H"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'd like to have a clear separation between my core data stack (NSManagedObjects) and my View layer, therefore I'd like to map my NSManagedObjects to structs along the way and still have faulting in place as well as the possibility to animate changes in my collection views. Diffable data sources accomplish that by only binding the ObjectIDs to the collection view so that the faults do not fire. Can you give me an advice how to accomplish that separation? The only thing I think that might work is to set a batch size for my fetch requests, but that feels a little odd since in a perfect world I feel like the fetch request should not know that it needs to have a batch size because its items have to be shown in a collection view.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "58d13039-5e70-4d30-ad46-baccb6c06560",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You need to be careful when doing this to model the same features in the layers you're building that you'll use from Core Data, most especially faulting",
          "ts": "1654882507.472989",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0ob2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You need to be careful when doing this to model the same features in the layers you're building that you'll use from Core Data, most especially faulting"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e16ae6de-34ad-41b4-81c8-c080fc985744",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "making duplicates of your data in structs is fine at a small scale, but not practical at larger scales.  This is especially true of large assets types, which really deep in their souls want to be reference types",
          "ts": "1654882571.440509",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "W2v",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "making duplicates of your data in structs is fine at a small scale, but not practical at larger scales.  This is especially true of large assets types, which really deep in their souls want to be reference types"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cccec798-56a0-4265-b9ce-a4f8650e1b07",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Layer across faulting is a difficult challenge.  I think most folks who do this use composition of either an objectID or a MO and forward calls to it instead of eagerly copying the data",
          "ts": "1654882629.392039",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3LOV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Layer across faulting is a difficult challenge.  I think most folks who do this use composition of either an objectID or a MO and forward calls to it instead of eagerly copying the data"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "600de217-a4a7-41f4-824f-77fb4bad30c8",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "to manage bridging across a diffable data source, I think you're best approach would likely be to layer across at a higher level, the fetched results controller, instead of each MO",
          "ts": "1654882732.871909",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WLx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "to manage bridging across a diffable data source, I think you're best approach would likely be to layer across at a higher level, the fetched results controller, instead of each MO"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "10c5facf-a158-43c5-bea6-f776ec4fa619",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "then you could be mapping the identities of the objects of notifications the FRC is making and keep the FRC and all its work isolated.",
          "ts": "1654882772.281399",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nrkb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "then you could be mapping the identities of the objects of notifications the FRC is making and keep the FRC and all its work isolated."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "99e516b8-8031-416d-8c72-78accf37ec4a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "\u003c@U03HK7797D0\u003e may have some other thoughts",
          "ts": "1654882843.658979",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "fDUC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " may have some other thoughts"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0a786b52-ce94-4fa5-a26f-d998ee03c043",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "It’s easier to express something like this in SwiftUI (drycoded):\n\n```@FetchRequest(…) var modelObjs: FetchedResults\u0026lt;Entity\u0026gt;\nvar viewModel: LazyMapCollection\u0026lt;EntityVM\u0026gt; { modelObjs.lazy.map { EntityVM($0) } }```\nbut there’s a lot of potential gotchas around accidentally defeating the laziness of `viewModel` (by using it in `ForEach` or `List` for example). If you know your list will have a limited size then the laziness isn’t necessary, but for something scaling beyond hundreds of cells you’d be able to measure problems pretty quickly.",
          "ts": "1654883341.157729",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "EUvUD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s easier to express something like this in SwiftUI (drycoded):\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"@FetchRequest(\\u2026) var modelObjs: FetchedResults\u003cEntity\u003e\\nvar viewModel: LazyMapCollection\u003cEntityVM\u003e { modelObjs.lazy.map { EntityVM($0) } }\"}],\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nbut there’s a lot of potential gotchas around accidentally defeating the laziness of "
                    },
                    {
                      "type": "text",
                      "text": "viewModel",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " (by using it in "
                    },
                    {
                      "type": "text",
                      "text": "ForEach",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " or "
                    },
                    {
                      "type": "text",
                      "text": "List",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " for example). If you know your list will have a limited size then the laziness isn’t necessary, but for something scaling beyond hundreds of cells you’d be able to measure problems pretty quickly."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "C42B8AAB-AD21-4C1C-B503-A6247E0F84E5",
          "type": "message",
          "user": "U03JHD6Q60H",
          "text": "Forgot to say that I am also using a FRC in my view model (what probably a @FetchRequest is also using under the hood?) but wasn't sure if I can use a lazy map collection without the faults firing since the diffing of a List or a DiffableDataSource probably needs to have access to all of the objects to do it's thing?",
          "ts": "1654892564.453559",
          "thread_ts": "1654882450.295419",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hvPCR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "F"
                    },
                    {
                      "type": "text",
                      "text": "orgot"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "say"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "am"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "also"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "using"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "FRC"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my view model (what"
                    },
                    {
                      "type": "text",
                      "text": " probably "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "also"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "using"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "under"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "hood?)"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "but"
                    },
                    {
                      "type": "text",
                      "text": " wasn't "
                    },
                    {
                      "type": "text",
                      "text": "sure"
                    },
                    {
                      "type": "text",
                      "text": " if "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "can"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "lazy"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "map"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "collection"
                    },
                    {
                      "type": "text",
                      "text": " without "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " faults "
                    },
                    {
                      "type": "text",
                      "text": "firing"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "since"
                    },
                    {
                      "type": "text",
                      "text": " the "
                    },
                    {
                      "type": "text",
                      "text": "diffing"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "List"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "DiffableDataSource"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "probably"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "needs"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " access "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "all"
                    },
                    {
                      "type": "text",
                      "text": " of "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "objects"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "do"
                    },
                    {
                      "type": "text",
                      "text": " it's "
                    },
                    {
                      "type": "text",
                      "text": "thing?"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVF46TEJ\u003e asked\n\u0026gt; In my CoreData model, I have a “name” field that’s nil by default. Users can choose to set a name or leave it blank. I’d like to offer a “sort by name” option in my List, but the nil names are all sorted to the beginning of the list and I’d like to put them last — is there any way to do this with FetchRequest? Smarter predicates, computer property, groups, anything?",
      "ts": "1654882613.823369",
      "thread_ts": "1654882613.823369",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 15,
      "latest_reply": "1654884343.439359",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        },
        {
          "name": "raised_hands",
          "count": 1,
          "users": [
            "U03HVES3A4E"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "9pgph",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVF46TEJ"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"In my CoreData model, I have a \\u201cname\\u201d field that\\u2019s nil by default. Users can choose to set a name or leave it blank. I\\u2019d like to offer a \\u201csort by name\\u201d option in my List, but the nil names are all sorted to the beginning of the list and I\\u2019d like to put them last \\u2014 is there any way to do this with FetchRequest? Smarter predicates, computer property, groups, anything?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "9494a42c-c02d-4273-be78-d8fab5c43e6f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "`NSSortDescriptor` supports the notion of ascending or descending: \u003chttps://developer.apple.com/documentation/foundation/nssortdescriptor/1408931-ascending?language=objc\u003e",
          "ts": "1654882631.394329",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "F/8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSSortDescriptor",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " supports the notion of ascending or descending: "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/foundation/nssortdescriptor/1408931-ascending?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8ad688a8-66c2-46bb-8693-c6479f9b4ec1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But for more controlled tuning you would probably invent a custom column with a more specific notion of your sort order.",
          "ts": "1654882663.495229",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MC=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But for more controlled tuning you would probably invent a custom column with a more specific notion of your sort order."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "03aecd8f-a1d0-460e-9b07-9ca392c6354d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "i.e. if you wanted ascending sort but with nil last you could populate this column with `Z`for all `name == nil`",
          "ts": "1654882694.095049",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zz8G",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "i.e. if you wanted ascending sort but with nil last you could populate this column with "
                    },
                    {
                      "type": "text",
                      "text": "Z",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "for all "
                    },
                    {
                      "type": "text",
                      "text": "name == nil",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ff389abe-f9e0-44a9-88cd-bd4e797f35e0",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Reversing the sort will also reverse-lex-sort the names. I thought we had something built in for “nils first” vs “nils last”? Did I imagine that \u003c@U03HJA0EJ1G\u003e?",
          "ts": "1654882716.342389",
          "thread_ts": "1654882613.823369",
          "edited": {
            "user": "U03HK7797D0",
            "ts": "1654882759.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DXD9I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Reversing the sort will also reverse-lex-sort the names. I thought we had something built in for “nils first” vs “nils last”? Did I imagine that "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": "?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "54005490-90b7-46bf-a88e-d11fe0f034fb",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "they should file a feedback request for this",
          "ts": "1654882960.553159",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hOYUR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "they should file a feedback request for this"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "F1658FBB-2337-4B7C-9A4C-7E24C8792452",
          "type": "message",
          "user": "U03HVF46TEJ",
          "text": "Yes, a new column would work — but it can't be transient right? Like I need a new property with data saved into it, synced across devices, etc. because sorting doesn't allow transient properties iirc",
          "ts": "1654883004.065859",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8kc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "new"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "column"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "would"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "work"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "—"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "but"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " can't "
                    },
                    {
                      "type": "text",
                      "text": "be"
                    },
                    {
                      "type": "text",
                      "text": " transient "
                    },
                    {
                      "type": "text",
                      "text": "right?"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Like"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "need"
                    },
                    {
                      "type": "text",
                      "text": " a "
                    },
                    {
                      "type": "text",
                      "text": "new"
                    },
                    {
                      "type": "text",
                      "text": " property "
                    },
                    {
                      "type": "text",
                      "text": "with"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "data"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "saved"
                    },
                    {
                      "type": "text",
                      "text": " into "
                    },
                    {
                      "type": "text",
                      "text": "it,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "synced"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "across"
                    },
                    {
                      "type": "text",
                      "text": " devices"
                    },
                    {
                      "type": "text",
                      "text": ","
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "etc."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "because"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "sorting"
                    },
                    {
                      "type": "text",
                      "text": " doesn't "
                    },
                    {
                      "type": "text",
                      "text": "allow"
                    },
                    {
                      "type": "text",
                      "text": " transient properties "
                    },
                    {
                      "type": "text",
                      "text": "iirc"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "79924536-722f-45a4-a156-a24847585a73",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Right, transient properties aren’t persisted.",
          "ts": "1654883352.027519",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "k6pu2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Right, transient properties aren’t persisted."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "A2A58D2D-CA8C-46B2-A7CB-F47783BE65D3",
          "type": "message",
          "user": "U03HVF46TEJ",
          "text": "And can't be used to sort, right?",
          "ts": "1654883519.211759",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "BGQh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And"
                    },
                    {
                      "type": "text",
                      "text": " can't "
                    },
                    {
                      "type": "text",
                      "text": "be"
                    },
                    {
                      "type": "text",
                      "text": " used to "
                    },
                    {
                      "type": "text",
                      "text": "sort,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "right?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c9ece2f1-fd87-43b0-844c-abaac9c3055b",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "They can in memory. `NSSortDescriptor` can take a block.",
          "ts": "1654883567.641299",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Bx6s",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "They can in memory. "
                    },
                    {
                      "type": "text",
                      "text": "NSSortDescriptor",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " can take a block."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "43ad5887-1c30-4934-b3c6-52a1ddce7740",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Makes the query do an in-memory sort though, if the data is well constrained it may as well be modeled and then SQLite can use an appropriate index",
          "ts": "1654883708.199569",
          "thread_ts": "1654882613.823369",
          "edited": {
            "user": "U03HK7797D0",
            "ts": "1654883756.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6a5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Makes the query do an in-memory sort though, if the data is well constrained it may as well be modeled and then SQLite can use an appropriate index"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5CD4B9AC-5AFF-41F8-9223-1F54764EB2B1",
          "type": "message",
          "user": "U03HVF46TEJ",
          "text": "Isn't `NSSortDescriptor(keyPath:ascending:comparator:)` not allowed for CoreData? Or not allowed for FetchResults/NsFetchResultsController? I recall it not working.",
          "ts": "1654884091.722759",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZNXe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Isn't"
                    },
                    {
                      "type": "text",
                      "text": " ",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "N",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "SSortDescriptor(keyPath:ascending:comparator:)",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "not"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "allowed"
                    },
                    {
                      "type": "text",
                      "text": " for "
                    },
                    {
                      "type": "text",
                      "text": "CoreData?"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "not"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "allowed"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "for"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "FetchResults/NsFetchResultsController?"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "recall"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " n"
                    },
                    {
                      "type": "text",
                      "text": "ot"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "working."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "34dff443-c010-4e32-9903-aabb6a3e0b05",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No we don’t support the comparator version, but you can apply it to the fetched results array in memory.",
          "ts": "1654884176.360889",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sCfR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No we don’t support the comparator version, but you can apply it to the fetched results array in memory."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "93094d10-213b-47ce-8cb8-9b9b72433536",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Hence Nick’s suggestion to use a computed/transient property to translate `nil` to something that will sort last when used with a normal keypath sort descriptor :sunglasses:",
          "ts": "1654884240.087989",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QKFIG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hence Nick’s suggestion to use a computed/transient property to translate "
                    },
                    {
                      "type": "text",
                      "text": "nil",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to something that will sort last when used with a normal keypath sort descriptor "
                    },
                    {
                      "type": "emoji",
                      "name": "sunglasses",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "67324ae0-39e8-4eaa-9a22-798c40ab9ee4",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "`sortedArrayUsingComparator:` works just fine on the array returned by `fetch()`.",
          "ts": "1654884244.588079",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "c4Y",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "sortedArrayUsingComparator:",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " works just fine on the array returned by "
                    },
                    {
                      "type": "text",
                      "text": "fetch()",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2FACEEEB-60B5-42AB-B68F-A2A840D87D0C",
          "type": "message",
          "user": "U03HVF46TEJ",
          "text": "Ah I see. That seems like a… risky approach with a NSFetchedResultsController and table view but I could see it working fine in SwiftUI. Thanks!",
          "ts": "1654884343.439359",
          "thread_ts": "1654882613.823369",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nLx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ah"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "see."
                    },
                    {
                      "type": "text",
                      "text": " That "
                    },
                    {
                      "type": "text",
                      "text": "seems"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "like"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a…"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "risky"
                    },
                    {
                      "type": "text",
                      "text": " approach "
                    },
                    {
                      "type": "text",
                      "text": "with"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a NSFetchedResultsController"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "table"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "view"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "but"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "could"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "see"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "working"
                    },
                    {
                      "type": "text",
                      "text": " fine "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " SwiftUI"
                    },
                    {
                      "type": "text",
                      "text": ". Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMCT187R\u003e asked\n\u0026gt; The Synchronizing a local store to the cloud sample project created a separate entity ImageData with a data attribute which is optional binary data that allows external storage, and the Attachment entity has an imageData relationship, in order to store images. In my app I achieved this using a different approach - I simply added an attribute inside only entity (again optional binary data which allows external storage). I was wondering why the sample code did this, and what would be the differences you could expect between these different setups (specifically for using Core Data + CloudKit with NSPersistentCloudKitContainer if relevant)? Thanks!",
      "ts": "1654882756.522319",
      "thread_ts": "1654882756.522319",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654883654.787859",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "=/n",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMCT187R"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"The Synchronizing a local store to the cloud sample project created a separate entity ImageData with a data attribute which is optional binary data that allows external storage, and the Attachment entity has an imageData relationship, in order to store images. In my app I achieved this using a different approach - I simply added an attribute inside only entity (again optional binary data which allows external storage). I was wondering why the sample code did this, and what would be the differences you could expect between these different setups (specifically for using Core Data + CloudKit with NSPersistentCloudKitContainer if relevant)? Thanks!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "f8511316-6ed8-442f-9858-3e1deae0c656",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "There are a few reasons:\n\n1. Storing the image in the row causes it to fault in to memory alongside the rest of the object payload. This can be controlled in fetch requests using `propertiesToFetch`. But `save` will always need to fault the whole object, so large saves can be problematic above a certain scale.\n2. Storing the large image across a relationship can help improve sync quality. i.e. if you change an unrelated field, the entire record has to be downloaded from CloudKit for that field. So your say `title`change on a `Post` results in a several megabyte download\n3. `allowsExternalStorage` moves the image data out of the database row above a certain size (around 700kb). This dramatically improves performance for SQLite.",
          "ts": "1654882973.453769",
          "thread_ts": "1654882756.522319",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "z8yC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "There are a few reasons:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_list",
                  "Raw": "{\"type\":\"rich_text_list\",\"elements\":[{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Storing the image in the row causes it to fault in to memory alongside the rest of the object payload. This can be controlled in fetch requests using \"},{\"type\":\"text\",\"text\":\"propertiesToFetch\",\"style\":{\"code\":true}},{\"type\":\"text\",\"text\":\". But \"},{\"type\":\"text\",\"text\":\"save\",\"style\":{\"code\":true}},{\"type\":\"text\",\"text\":\" will always need to fault the whole object, so large saves can be problematic above a certain scale.\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"Storing the large image across a relationship can help improve sync quality. i.e. if you change an unrelated field, the entire record has to be downloaded from CloudKit for that field. So your say \"},{\"type\":\"text\",\"text\":\"title\",\"style\":{\"code\":true}},{\"type\":\"text\",\"text\":\"change on a \"},{\"type\":\"text\",\"text\":\"Post\",\"style\":{\"code\":true}},{\"type\":\"text\",\"text\":\" results in a several megabyte download\"}]},{\"type\":\"rich_text_section\",\"elements\":[{\"type\":\"text\",\"text\":\"allowsExternalStorage\",\"style\":{\"code\":true}},{\"type\":\"text\",\"text\":\" moves the image data out of the database row above a certain size (around 700kb). This dramatically improves performance for SQLite.\"}]}],\"style\":\"ordered\",\"indent\":0,\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "973bc290-fa90-407e-a029-95dc43788b92",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "As a vague and general rule, large assets work better across a to-one relationship.  This lets you load metadata about the asset (eg the rest of the object) without committing to loading the full asset payload",
          "ts": "1654883078.270069",
          "thread_ts": "1654882756.522319",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qVD7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "As a vague and general rule, large assets work better across a to-one relationship.  This lets you load metadata about the asset (eg the rest of the object) without committing to loading the full asset payload"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2042661a-c657-4c21-915f-9931d8366660",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "large assets also tend to not change nearly as frequently as their metadata / friends",
          "ts": "1654883101.299539",
          "thread_ts": "1654882756.522319",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y0j7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "large assets also tend to not change nearly as frequently as their metadata / friends"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "162f840e-87cc-4e9d-a4ae-fc0902964f25",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Neat thanks! Sounds like I screwed up modeling my data :joy:",
          "ts": "1654883157.594709",
          "thread_ts": "1654882756.522319",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZEy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Neat thanks! Sounds like I screwed up modeling my data "
                    },
                    {
                      "type": "emoji",
                      "name": "joy",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b674aca4-6616-401f-83a3-9dce96a208fc",
          "type": "message",
          "user": "U03J1UAEU4B",
          "text": "I also found this explanation super helpful, thank you!",
          "ts": "1654883654.787859",
          "thread_ts": "1654882756.522319",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bu2u",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I also found this explanation super helpful, thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; I have a Notes entity with a ‘noteDate’ attribute (of type Date) that tracks when a note was saved, using the timestamp. I want to now group all the notes by their actual ‘date’ (e.g. 06-10-2022), so that Charts can show a timeline with how many notes were saved each day. I just need a ‘count’ for each date. What’s the best way to do this?",
      "ts": "1654883026.254039",
      "thread_ts": "1654883026.254039",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 11,
      "latest_reply": "1654885082.095949",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "BvGP",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I have a Notes entity with a \\u2018noteDate\\u2019 attribute (of type Date) that tracks when a note was saved, using the timestamp. I want to now group all the notes by their actual \\u2018date\\u2019 (e.g. 06-10-2022), so that Charts can show a timeline with how many notes were saved each day. I just need a \\u2018count\\u2019 for each date. What\\u2019s the best way to do this?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "1c321139-4a7e-4efd-9059-cafa5105d826",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "there are a bunch of ways to approach this.  I think I'd be tempted to store the date as a separate item from the timestamp, and then you could do something like a fetchRequest with a groupBy",
          "ts": "1654883977.037339",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZpCdt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "there are a bunch of ways to approach this.  I think I'd be tempted to store the date as a separate item from the timestamp, and then you could do something like a fetchRequest with a groupBy"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c3d02364-e144-424b-98af-86b461609ce3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That kind of depends on your scale.",
          "ts": "1654883984.086839",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kLbhV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That kind of depends on your scale."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "19c6ec0b-b5e6-4984-9ad3-a6150a69ef33",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "For small dataset this can be done in memory with a fetch request by decomposing the date in to an `NSDateComponents` object. But at large scale you will want to inflate columns that you can target with a `group by`.",
          "ts": "1654883989.892949",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7XnU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For small dataset this can be done in memory with a fetch request by decomposing the date in to an "
                    },
                    {
                      "type": "text",
                      "text": "NSDateComponents",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " object. But at large scale you will want to inflate columns that you can target with a "
                    },
                    {
                      "type": "text",
                      "text": "group by",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6a6a5af-e80d-4545-9c7e-ea24e059672f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u003chttps://developer.apple.com/documentation/coredata/nsfetchrequest/1506191-propertiestogroupby?language=objc\u003e",
          "ts": "1654883994.417909",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pJdw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nsfetchrequest/1506191-propertiestogroupby?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3faa6433-5fd1-49cc-9d0d-bf5f312495d7",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you have a sample dataset, and perhaps a unit test, we can help you tune the fetch request via a feedback report.",
          "ts": "1654884001.564769",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "t+Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you have a sample dataset, and perhaps a unit test, we can help you tune the fetch request via a feedback report."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "76ec3614-fd1d-43aa-8d46-3a651d23ca1a",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks. If I create a 'transient' property to decompose the date into NSDateComponents, can I use that in 'propertiesToGroupBy'?",
          "ts": "1654884136.823609",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mBp=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks. If I create a 'transient' property to decompose the date into NSDateComponents, can I use that in 'propertiesToGroupBy'?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "76d45a6a-3583-460e-9a97-ac369a57a828",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I don’t think so. `propertiesToGroupBy` wants to do its work in the SQL phase of the fetch.",
          "ts": "1654884298.872359",
          "thread_ts": "1654883026.254039",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654884327.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JfMC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don’t think so. "
                    },
                    {
                      "type": "text",
                      "text": "propertiesToGroupBy",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " wants to do its work in the SQL phase of the fetch."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2b84cf7e-0b92-4b56-9810-33395843715e",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Hmm. The challenge is that for existing users, the date component isn't stored. And if we want to offer options to group by date, week, month or year, we'd have to store all those separately?",
          "ts": "1654884495.473289",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ID6xm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hmm. The challenge is that for existing users, the date component isn't stored. And if we want to offer options to group by date, week, month or year, we'd have to store all those separately?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "84816f12-8bb4-4d4c-865c-88544ff8aef6",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "I guess if it's just likely to be 100s of notes, it's going to be efficient to just fetch them and group them by date components",
          "ts": "1654884652.626629",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "X2k",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I guess if it's just likely to be 100s of notes, it's going to be efficient to just fetch them and group them by date components"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "72ed04da-7df7-41bf-952d-85d4bd8a777a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Sure but why wouldn’t you just do a lightweight migration to add the new column(s) and then populate them as part of a one-time upgrade job?",
          "ts": "1654884722.791199",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "h9G",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sure but why wouldn’t you just do a lightweight migration to add the new column(s) and then populate them as part of a one-time upgrade job?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "813b1543-6434-48a9-ab4e-3d5b715707cd",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Yep, that's probably a good idea. I just have to figure out the details of one-time upgrades with my custom sync engine, so that's more work for me! :smiling_face_with_tear:",
          "ts": "1654885082.095949",
          "thread_ts": "1654883026.254039",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9F3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yep, that's probably a good idea. I just have to figure out the details of one-time upgrades with my custom sync engine, so that's more work for me! "
                    },
                    {
                      "type": "emoji",
                      "name": "smiling_face_with_tear",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JRPWSDJ4\u003e asked\n\u0026gt; I've been working with coreData on my first app... but I didn't hook it up to CloudKit yet. I'm not interested in the user sharing data to others but I do want syncing between devices. Do I need CloudKit to do this? Or is there another way? And where would I go to research this?  Thanks :)",
      "ts": "1654884290.462669",
      "thread_ts": "1654884290.462669",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 5,
      "latest_reply": "1654894837.025159",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "Ijcz",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JRPWSDJ4"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I've been working with coreData on my first app... but I didn't hook it up to CloudKit yet. I'm not interested in the user sharing data to others but I do want syncing between devices. Do I need CloudKit to do this? Or is there another way? And where would I go to research this?  Thanks :)\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "29cb6cfb-2b4d-466e-9d9d-c4c9c0aa90e2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Our basic integration with CloudKit is around their private database, eg syncing between the users own devices.  You don't have to use sharing.",
          "ts": "1654884331.369319",
          "thread_ts": "1654884290.462669",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XGP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Our basic integration with CloudKit is around their private database, eg syncing between the users own devices.  You don't have to use sharing."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a7ec3518-6942-476d-967c-21d3615cd969",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You don't have to use CK either, and can adopt your own syncing solution, probably driving it off persistent history if you like.  but CloudKit is the turn key solution we offer",
          "ts": "1654884360.630229",
          "thread_ts": "1654884290.462669",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yJ/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You don't have to use CK either, and can adopt your own syncing solution, probably driving it off persistent history if you like.  but CloudKit is the turn key solution we offer"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d8218fa9-d6d0-47d1-afe9-3058269b0485",
          "type": "message",
          "user": "U03JRPWSDJ4",
          "text": "Makes sense. CloudKit sounds like the way to go (over manual). Just wanted to confirm as everyone was talking shareplay etc. :slightly_smiling_face:",
          "ts": "1654884596.625449",
          "thread_ts": "1654884290.462669",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "heavy_plus_sign",
              "count": 1,
              "users": [
                "U03J4EJ0CVA"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "69J",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Makes sense. CloudKit sounds like the way to go (over manual). Just wanted to confirm as everyone was talking shareplay etc. "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a81874f7-f664-4e5a-97e6-df69d5bc7dd6",
          "type": "message",
          "user": "U03JRQ62JQY",
          "text": "\u003c@U03JRPWSDJ4\u003e I found that `NSPersistentCloudKitContainer` works really well for exactly what you are asking for. Instead of diving too deep into everything that CloudKit has to offer, this solution works out of the box and doesn’t require too much setup from your end or worrying about data and sync conflicts and what not. I highly recommend you check out the article from the developer documentation here:\n\n*\u003chttps://developer.apple.com/documentation/coredata/mirroring_a_core_data_store_with_cloudkit/setting_up_core_data_with_cloudkit|Setting Up Core Data with CloudKit\u003e*",
          "ts": "1654891991.465729",
          "thread_ts": "1654884290.462669",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UvWP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03JRPWSDJ4"
                    },
                    {
                      "type": "text",
                      "text": " I found that "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " works really well for exactly what you are asking for. Instead of diving too deep into everything that CloudKit has to offer, this solution works out of the box and doesn’t require too much setup from your end or worrying about data and sync conflicts and what not. I highly recommend you check out the article from the developer documentation here:\n\n"
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/mirroring_a_core_data_store_with_cloudkit/setting_up_core_data_with_cloudkit",
                      "text": "Setting Up Core Data with CloudKit",
                      "style": {
                        "bold": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bb260eea-6da7-4416-922d-69592d115166",
          "type": "message",
          "user": "U03JRPWSDJ4",
          "text": "Perfect. Adding that to my TODO right now :slightly_smiling_face:",
          "ts": "1654894837.025159",
          "thread_ts": "1654884290.462669",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JRQ62JQY"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "09p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Perfect. Adding that to my TODO right now "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J4D1FEP6\u003e asked\n\u0026gt; Migration decomposition is an interesting idea. What are the performance implications of having multiple lightweight migrations vs. doing a manual migration? \n\u0026gt; \n\u0026gt; (Clearly, it avoids a developer taking on the complexity of learning how to do a heavyweight migration, but apart from that...)",
      "ts": "1654884380.318179",
      "thread_ts": "1654884380.318179",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 3,
      "latest_reply": "1654884469.654669",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "yjNB",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J4D1FEP6"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Migration decomposition is an interesting idea. What are the performance implications of having multiple lightweight migrations vs. doing a manual migration? \\n\\n(Clearly, it avoids a developer taking on the complexity of learning how to do a heavyweight migration, but apart from that...)\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "4a3da828-5b33-4761-a0c5-5a9c2fd90af2",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That depends more on the specific migrations you’re performing than their decomposition in to phases.",
          "ts": "1654884420.567869",
          "thread_ts": "1654884380.318179",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tKpEK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That depends more on the specific migrations you’re performing than their decomposition in to phases."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "702cc393-061c-4a0a-94e8-50cdeac18294",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "unless you have a small data set, I'd tell you to simply never do a heavyweight migration.  It requires loading the entire data set into memory, which obviously doesn't work well on embedded devices.",
          "ts": "1654884432.577389",
          "thread_ts": "1654884380.318179",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2tMXV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "unless you have a small data set, I'd tell you to simply never do a heavyweight migration.  It requires loading the entire data set into memory, which obviously doesn't work well on embedded devices."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7e6ca821-4f41-46dc-8142-d529a696ede5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Lightweight migrations are built around functions like ALTER TABLE to the maximal extent possible, and composing them is still pretty efficient",
          "ts": "1654884469.654669",
          "thread_ts": "1654884380.318179",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XC5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Lightweight migrations are built around functions like ALTER TABLE to the maximal extent possible, and composing them is still pretty efficient"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1UAEU4B\u003e asked\n\u0026gt; I've watched the WWDC videos on NSPersistentCloudKitContainer over the last few years but haven't dug in deeply myself yet. One question - my Core Data model is somewhat relationship heavy (7 entities with relationships between many of them). I don't have sync yet but am considering adding it. Does NSPersistentCloudKitContainer handle that level of relationships well? Are there considerations I should think about when considering adding syncing? The sample app only had 3 entities with relatively straightforward relationships.",
      "ts": "1654884526.997629",
      "thread_ts": "1654884526.997629",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654884694.671439",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "HbcQ",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1UAEU4B"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I've watched the WWDC videos on NSPersistentCloudKitContainer over the last few years but haven't dug in deeply myself yet. One question - my Core Data model is somewhat relationship heavy (7 entities with relationships between many of them). I don't have sync yet but am considering adding it. Does NSPersistentCloudKitContainer handle that level of relationships well? Are there considerations I should think about when considering adding syncing? The sample app only had 3 entities with relatively straightforward relationships.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "5a5a185d-6930-4f27-916a-1031d596e973",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "NSPersistentCloudKitContainer doesn’t mind complicated graphs.",
          "ts": "1654884565.971979",
          "thread_ts": "1654884526.997629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "KE+o3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer doesn’t mind complicated graphs."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "55ecd1e1-a2b4-48c6-bbf0-ceccf78cd631",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But you should explore how it will sync with the data generator approach I talked about this year and file bugs for things that don’t meet your expectations.",
          "ts": "1654884594.850419",
          "thread_ts": "1654884526.997629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2+J",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But you should explore how it will sync with the data generator approach I talked about this year and file bugs for things that don’t meet your expectations."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0152e783-d032-4ddc-b353-026f06530d0d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u003chttps://developer.apple.com/videos/play/wwdc2022/10119/\u003e",
          "ts": "1654884619.643969",
          "thread_ts": "1654884526.997629",
          "attachments": [
            {
              "fallback": "Apple Developer: Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "id": 1,
              "title": "Optimize your use of Core Data and CloudKit - WWDC22 - Videos - Apple Developer",
              "title_link": "https://developer.apple.com/videos/play/wwdc2022/10119/",
              "text": "Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation...",
              "image_url": "https://devimages-cdn.apple.com/wwdc-services/images/124/6615/6615_wide_250x141_2x.jpg",
              "service_name": "Apple Developer",
              "service_icon": "https://developer.apple.com/favicon.ico",
              "from_url": "https://developer.apple.com/videos/play/wwdc2022/10119/",
              "original_url": "https://developer.apple.com/videos/play/wwdc2022/10119/",
              "blocks": null
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "O5yTM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/videos/play/wwdc2022/10119/",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e7bc5069-5e84-4909-a0ef-320925cbcb5b",
          "type": "message",
          "user": "U03J1UAEU4B",
          "text": "Thanks - I will do that!",
          "ts": "1654884694.671439",
          "thread_ts": "1654884526.997629",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ebh8O",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks - I will do that!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J1V9TNLT\u003e asked\n\u0026gt; What happens if 2 apps running at same time are using the same  NSPersistentCloudKitContainer with a store file in an app group and both try and sync?",
      "ts": "1654884554.188989",
      "thread_ts": "1654884554.188989",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654892206.935979",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        },
        {
          "name": "white_check_mark",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "8hK",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J1V9TNLT"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"What happens if 2 apps running at same time are using the same  NSPersistentCloudKitContainer with a store file in an app group and both try and sync?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "b6a16734-11fc-4a4d-bc42-f7f7ac230f7f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "generally just one process in the associated app group should be responsible for the syncing (eg the app) and the others (eg widget) should respond to remote change notifications and persistent history to view imported changes",
          "ts": "1654884611.594729",
          "thread_ts": "1654884554.188989",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "BDfsf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "generally just one process in the associated app group should be responsible for the syncing (eg the app) and the others (eg widget) should respond to remote change notifications and persistent history to view imported changes"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3c8a79a8-90f4-42eb-9e55-751898634f0b",
          "type": "message",
          "user": "U03J1V9TNLT",
          "text": "For anyone else interested there is more info in this thread: \u003chttps://wwdc22.slack.com/archives/C03GSLDRB4P/p1654885880293989?thread_ts=1654885781.398129\u0026amp;cid=C03GSLDRB4P\u003e",
          "ts": "1654892206.935979",
          "thread_ts": "1654884554.188989",
          "attachments": [
            {
              "fallback": "[June 10th, 2022 11:31 AM] -6041514063707945538: Additionally, multi-process sync is not supported with NSPersistentCloudKitContainer. It creates a lot of competing work on the system. But again… widgets don’t live long enough for that to happen.",
              "id": 1,
              "author_id": "U03HMJ2P5MJ",
              "author_name": "Nick - Core Data Gillett",
              "author_subname": "Nick - Core Data Gillett",
              "author_link": "https://wwdc22.slack.com/team/U03HMJ2P5MJ",
              "author_icon": "https://avatars.slack-edge.com/2022-06-02/3638136754000_adac6da7408d9dd1b4ec_48.png",
              "text": "Additionally, multi-process sync is not supported with NSPersistentCloudKitContainer. It creates a lot of competing work on the system. But again… widgets don’t live long enough for that to happen.",
              "from_url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654885880293989?thread_ts=1654885781.398129\u0026amp;cid=C03GSLDRB4P",
              "original_url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654885880293989?thread_ts=1654885781.398129\u0026amp;cid=C03GSLDRB4P",
              "mrkdwn_in": [
                "text"
              ],
              "blocks": null,
              "footer": "From a thread in #coredata-lounge",
              "ts": 1654885880.293989
            }
          ],
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lGMh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For anyone else interested there is more info in this thread: "
                    },
                    {
                      "type": "link",
                      "url": "https://wwdc22.slack.com/archives/C03GSLDRB4P/p1654885880293989?thread_ts=1654885781.398129\u0026cid=C03GSLDRB4P",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J20KFJG3\u003e asked\n\u0026gt; SwiftUI \u0026amp; Core Data: how can we pass FetchedResults\u0026lt;T\u0026gt; for Previews?",
      "ts": "1654884597.094749",
      "thread_ts": "1654884597.094749",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654884703.605609",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "3g9/",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J20KFJG3"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"SwiftUI \u0026 Core Data: how can we pass FetchedResults\u003cT\u003e for Previews?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "850ea780-50d7-49c7-838b-94328267fa48",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Probably need to add an intermediate view that manifests a fetch request, something like:\n\n```struct ContentPreView: View {\n    @FetchRequest(…) var foo: FetchedResults\u0026lt;T\u0026gt;\n    \n    var body: some View {\n        ContentView(foo)\n    }\n}\n\nstruct ContentView_Previews: PreviewProvider {\n    static var previews: some View {\n        ContentPreView().environment(\\.managedObjectContext, PersistenceController.preview.container.viewContext)\n    }\n}```\n",
          "ts": "1654884623.910619",
          "thread_ts": "1654884597.094749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LXzcs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Probably need to add an intermediate view that manifests a fetch request, something like:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"struct ContentPreView: View {\\n    @FetchRequest(\\u2026) var foo: FetchedResults\u003cT\u003e\\n    \\n    var body: some View {\\n        ContentView(foo)\\n    }\\n}\\n\\nstruct ContentView_Previews: PreviewProvider {\\n    static var previews: some View {\\n        ContentPreView().environment(\\\\.managedObjectContext, PersistenceController.preview.container.viewContext)\\n    }\\n}\"}],\"border\":0}"
                },
                {
                  "type": "rich_text_section",
                  "elements": []
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "F8F2CF13-3245-40F5-8761-EC7B5BE230F2",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "All right thanks. This is what I was thinking about.",
          "ts": "1654884703.605609",
          "thread_ts": "1654884597.094749",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jPp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "All"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "right"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "thanks."
                    },
                    {
                      "type": "text",
                      "text": " T"
                    },
                    {
                      "type": "text",
                      "text": "his"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "what"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "was"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "thinking"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "about."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVCK66P8\u003e asked\n\u0026gt; Hello CoreData Team, I missed the last Q\u0026amp;A. Really want to know how to store [Color] array into Transformable? Thank you :)\n\u0026gt; \n\u0026gt; Sample: [AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), \u0026lt;CGColor 0x2813e8e40\u0026gt; [\u0026lt;CGColorSpace 0x2813dd920\u0026gt; (kCGColorSpaceICCBased; kCGColorSpaceModelRGB; sRGB IEC61966-2.1)] ( 1 0.8 0 1 ), AccentColorProvider()]",
      "ts": "1654884696.251239",
      "thread_ts": "1654884696.251239",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 29,
      "latest_reply": "1654885746.316809",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "5iYq",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVCK66P8"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hello CoreData Team, I missed the last Q\u0026A. Really want to know how to store [Color] array into Transformable? Thank you :)\\n\\nSample: [AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), AccentColorProvider(), \u003cCGColor 0x2813e8e40\u003e [\u003cCGColorSpace 0x2813dd920\u003e (kCGColorSpaceICCBased; kCGColorSpaceModelRGB; sRGB IEC61966-2.1)] ( 1 0.8 0 1 ), AccentColorProvider()]\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "f13b48e6-d6f6-456a-9f23-038eee16810f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You can create your own custom NSValueTransformer and register it for use with a Transformable attribute type",
          "ts": "1654884725.362619",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "star-struck",
              "count": 1,
              "users": [
                "U03HVCK66P8"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MqZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can create your own custom NSValueTransformer and register it for use with a Transformable attribute type"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1d92d05f-81da-4bf8-accd-1134faefa4f4",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Thanks \u003c@U03HJA0EJ1G\u003e",
          "ts": "1654884744.983899",
          "thread_ts": "1654884696.251239",
          "edited": {
            "user": "U03HVCK66P8",
            "ts": "1654884767.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UzM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "28244137-d054-444b-843f-9b0313a0ad6e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that would probably be best.  In theory you could probably bridge [Color] into NSArray\u0026lt;Color\u0026gt; and allow NSKeyedArchiving to do its work too",
          "ts": "1654884779.286949",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HVCK66P8"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UV7Gp",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that would probably be best.  In theory you could probably bridge [Color] into NSArray\u003cColor\u003e and allow NSKeyedArchiving to do its work too"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7cc4d633-928f-42de-ab16-705ab70914ad",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Is it work with CloudKit too?",
          "ts": "1654884789.301789",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MtKL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Is it work with CloudKit too?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "be768388-3069-429d-9202-2b42c24db988",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "For CloudKit you would want a relationship.",
          "ts": "1654884827.392659",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wgO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For CloudKit you would want a relationship."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "97717f90-678e-46a1-91d9-18e2d11dc698",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "The transformable won’t merge well for competing contributions from multiple devices.",
          "ts": "1654884847.036229",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "ok_hand",
              "count": 1,
              "users": [
                "U03HVCK66P8"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2ZPH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The transformable won’t merge well for competing contributions from multiple devices."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "35854fd8-f6a4-40c7-b7bb-ab9e7c75b48c",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Ok I see.",
          "ts": "1654884880.794869",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "UY88I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok I see."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e1680d28-426c-4178-bf2d-ac22830d5654",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "depends on the semantics ?  If they want value semantics like [Color] in Swift, then they don't want merging of individual elements",
          "ts": "1654884883.421229",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xHcZJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "depends on the semantics ?  If they want value semantics like [Color] in Swift, then they don't want merging of individual elements"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2f394cfb-6f9d-406f-829c-a271ce480e3d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "also would depend on the scale.  A large array turns into a large blob column",
          "ts": "1654884906.158429",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "ok_hand",
              "count": 1,
              "users": [
                "U03HVCK66P8"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TSfW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "also would depend on the scale.  A large array turns into a large blob column"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a5dd2fc5-7bc4-452b-82d1-2a2ac84e2f3f",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "If I used `newItem.colors = colorsArray *as* NSArray` It will crash.",
          "ts": "1654884972.015819",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "daYH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If I used "
                    },
                    {
                      "type": "text",
                      "text": "newItem.colors = colorsArray ",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "as",
                      "style": {
                        "bold": true,
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " NSArray",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " It will crash."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d2f60109-24d5-47a8-a96c-3124e0e66126",
          "type": "message",
          "user": "U03HVCK66P8",
          "ts": "1654885005.427039",
          "thread_ts": "1654884696.251239",
          "files": [
            {
              "id": "F03K9AYHV6G",
              "created": 1654885003,
              "timestamp": 1654885003,
              "name": "CleanShot 2022-06-11 at 02.16.36@2x.png",
              "title": "CleanShot 2022-06-11 at 02.16.36@2x.png",
              "mimetype": "image/png",
              "image_exif_rotation": 0,
              "filetype": "png",
              "pretty_type": "PNG",
              "user": "U03HVCK66P8",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 46094,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03K9AYHV6G-CleanShot 2022-06-11 at 02.16.36@2x.png",
              "url_private_download": "C03GSLDRB4P/F03K9AYHV6G-CleanShot 2022-06-11 at 02.16.36@2x.png",
              "original_h": 288,
              "original_w": 554,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K9AYHV6G-1e66545cc6/cleanshot_2022-06-11_at_02.16.36_2x_64.png",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K9AYHV6G-1e66545cc6/cleanshot_2022-06-11_at_02.16.36_2x_80.png",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K9AYHV6G-1e66545cc6/cleanshot_2022-06-11_at_02.16.36_2x_160.png",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K9AYHV6G-1e66545cc6/cleanshot_2022-06-11_at_02.16.36_2x_360.png",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 187,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K9AYHV6G-1e66545cc6/cleanshot_2022-06-11_at_02.16.36_2x_480.png",
              "thumb_480_w": 480,
              "thumb_480_h": 250,
              "thumb_720": "",
              "thumb_720_w": 0,
              "thumb_720_h": 0,
              "thumb_960": "",
              "thumb_960_w": 0,
              "thumb_960_h": 0,
              "thumb_1024": "",
              "thumb_1024_w": 0,
              "thumb_1024_h": 0,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03HVCK66P8/F03K9AYHV6G/cleanshot_2022-06-11_at_02.16.36_2x.png",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03K9AYHV6G-73ef857106",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": null
        },
        {
          "client_msg_id": "2f458d88-3ce6-4fd7-9c1b-2507b5b729c9",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Can I just use the ‘Class Definition’ to make it work?",
          "ts": "1654885042.214189",
          "thread_ts": "1654884696.251239",
          "edited": {
            "user": "U03HVCK66P8",
            "ts": "1654885049.000000"
          },
          "files": [
            {
              "id": "F03K6URB61G",
              "created": 1654885018,
              "timestamp": 1654885018,
              "name": "CleanShot 2022-06-11 at 02.16.51@2x.png",
              "title": "CleanShot 2022-06-11 at 02.16.51@2x.png",
              "mimetype": "image/png",
              "image_exif_rotation": 0,
              "filetype": "png",
              "pretty_type": "PNG",
              "user": "U03HVCK66P8",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 29126,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03K6URB61G-CleanShot 2022-06-11 at 02.16.51@2x.png",
              "url_private_download": "C03GSLDRB4P/F03K6URB61G-CleanShot 2022-06-11 at 02.16.51@2x.png",
              "original_h": 264,
              "original_w": 506,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K6URB61G-ed4fc8c7e1/cleanshot_2022-06-11_at_02.16.51_2x_64.png",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K6URB61G-ed4fc8c7e1/cleanshot_2022-06-11_at_02.16.51_2x_80.png",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K6URB61G-ed4fc8c7e1/cleanshot_2022-06-11_at_02.16.51_2x_160.png",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K6URB61G-ed4fc8c7e1/cleanshot_2022-06-11_at_02.16.51_2x_360.png",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 188,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K6URB61G-ed4fc8c7e1/cleanshot_2022-06-11_at_02.16.51_2x_480.png",
              "thumb_480_w": 480,
              "thumb_480_h": 250,
              "thumb_720": "",
              "thumb_720_w": 0,
              "thumb_720_h": 0,
              "thumb_960": "",
              "thumb_960_w": 0,
              "thumb_960_h": 0,
              "thumb_1024": "",
              "thumb_1024_w": 0,
              "thumb_1024_h": 0,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03HVCK66P8/F03K6URB61G/cleanshot_2022-06-11_at_02.16.51_2x.png",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03K6URB61G-3e575374f8",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Kw8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Can I just use the ‘Class Definition’ to make it work?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "18f807c4-b79e-43b3-abe3-84c981de3d1a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I don’t think the custom class box expects generics?",
          "ts": "1654885070.340129",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "smiling_face_with_tear",
              "count": 1,
              "users": [
                "U03HVCK66P8"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "D6c",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don’t think the custom class box expects generics?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7739d8c5-f1e7-40d0-8c1e-84b71dbf28de",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Yes. So, what should I input for the Custom Class?:thinking_face:",
          "ts": "1654885151.917429",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PQC=j",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes. So, what should I input for the Custom Class?"
                    },
                    {
                      "type": "emoji",
                      "name": "thinking_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3b6e4f34-5b43-4517-8bab-fb3a52db5e65",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "`NSArray` is probably fine.",
          "ts": "1654885260.902819",
          "thread_ts": "1654884696.251239",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654885272.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5X5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSArray",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is probably fine."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3636fde7-4e8f-4ecc-a389-82e9c6191304",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "If I used [Color], it will not crash, but appear error\n```Unresolved error Error Domain=NSCocoaErrorDomain Code=134060 \"A Core Data error occurred.\", [:]```",
          "ts": "1654885279.864659",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "I3X",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If I used [Color], it will not crash, but appear error\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"Unresolved error Error Domain=NSCocoaErrorDomain Code=134060 \\\"A Core Data error occurred.\\\", [:]\"}],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f7a4a73b-f3c6-435d-b41c-d6022add8705",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Ok let me try NSArray",
          "ts": "1654885287.333859",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ckzw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok let me try NSArray"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ca75ec24-db69-49d8-89df-cba24312e498",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "```Still error, Unresolved error Error Domain=NSCocoaErrorDomain Code=134060 \"A Core Data error occurred.\", [:]```",
          "ts": "1654885359.576049",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o=G",
              "elements": [
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"Still error, Unresolved error Error Domain=NSCocoaErrorDomain Code=134060 \\\"A Core Data error occurred.\\\", [:]\"}],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0fcd02c1-2070-4cd3-9722-fe931d9ebdd9",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "\u003c@U03HMJ2P5MJ\u003e is the transformable ‘natively’ support NSArray?",
          "ts": "1654885395.193199",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lTu3H",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HMJ2P5MJ"
                    },
                    {
                      "type": "text",
                      "text": " is the transformable ‘natively’ support NSArray?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3fb81da1-5327-45c5-a5b2-88b17f2896e1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Indeed. The custom value class is just an annotation for the model to try to tell your generated class what the attribute’s actual type is.",
          "ts": "1654885447.924019",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "saQe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Indeed. The custom value class is just an annotation for the model to try to tell your generated class what the attribute’s actual type is."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bd957ca3-2dac-4ccb-8e94-52933ff96ed6",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s not clear to me when your actual error is here, but I suspect it’s not the model but something you have done in code.",
          "ts": "1654885472.081869",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dkmAC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s not clear to me when your actual error is here, but I suspect it’s not the model but something you have done in code."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "80199daa-3937-4ae9-b7d5-4bdc5f7607ff",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you like, you can file a feedback report with your app attached and we can help investigate.",
          "ts": "1654885483.136599",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "oyPAS",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you like, you can file a feedback report with your app attached and we can help investigate."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a80da9d2-fd82-4d7a-86aa-eb7054e67163",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "No problem. Thanks for your help :slightly_smiling_face:",
          "ts": "1654885496.491209",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DOic",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No problem. Thanks for your help "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "715fb5b0-1943-4451-8747-8cfaa2c4fdff",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Our sample app uses a value transformer for Color, but not an array of them. \u003chttps://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud?language=objc\u003e",
          "ts": "1654885525.050079",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pRXq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Our sample app uses a value transformer for Color, but not an array of them. "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4fb45c6c-12c7-427c-98be-83f454fe5a46",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Actually I used the sample template from Apple. (CoreData + CloudKit) SwiftUI one. And only NSArray cannot be saved. That’s why I ask here :smiling_face_with_tear:",
          "ts": "1654885608.557789",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MBa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Actually I used the sample template from Apple. (CoreData + CloudKit) SwiftUI one. And only NSArray cannot be saved. That’s why I ask here "
                    },
                    {
                      "type": "emoji",
                      "name": "smiling_face_with_tear",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "339c190b-b4bb-42ce-8309-5f524936bfeb",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Other things like string, UUID, image, is storing okay",
          "ts": "1654885645.870439",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0QITG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Other things like string, UUID, image, is storing okay"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "27a77d0c-a112-492f-91a0-db88fac4e59d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m not familiar with that sample. But generally speaking for custom classes you need a custom value transformer to declare their conformance to secure coding.",
          "ts": "1654885719.377369",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Mddrm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m not familiar with that sample. But generally speaking for custom classes you need a custom value transformer to declare their conformance to secure coding."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "caaae0be-d2d2-4084-85e7-c16cbb7326f1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That’s the type of issue we can’t really spot without a more detailed description of the error you’re encountering.",
          "ts": "1654885744.213599",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HIpn",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s the type of issue we can’t really spot without a more detailed description of the error you’re encountering."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e2290218-2888-4f4e-98dd-69ca8d27b9e8",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "I see. Anyway thank you :slightly_smiling_face:",
          "ts": "1654885746.316809",
          "thread_ts": "1654884696.251239",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sE5g",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I see. Anyway thank you "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMCT187R\u003e asked\n\u0026gt; Is there a way to disable NSPersistentCloudKitContainer from automatically syncing? If you want a widget to only read from the database as opposed to it trying to perform sync as well.",
      "ts": "1654884869.942419",
      "thread_ts": "1654884869.942419",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 1,
      "latest_reply": "1654884890.497019",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "IF4h=",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMCT187R"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a way to disable NSPersistentCloudKitContainer from automatically syncing? If you want a widget to only read from the database as opposed to it trying to perform sync as well.\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "78280ad7-95c3-47dd-b699-af6c69199847",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Your widget should load the store without an instance of NSPersistentCloudKitContainerOptions set on the store description.",
          "ts": "1654884890.497019",
          "thread_ts": "1654884869.942419",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HMCT187R"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GG2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Your widget should load the store without an instance of NSPersistentCloudKitContainerOptions set on the store description."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JP7XR46Q\u003e asked\n\u0026gt; Any plan to add FTS support to Core Data in the near future?",
      "ts": "1654884954.410289",
      "thread_ts": "1654884954.410289",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 19,
      "latest_reply": "1654892172.387299",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "jZkl",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JP7XR46Q"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Any plan to add FTS support to Core Data in the near future?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "735b4945-dcd1-4ecd-8755-015d2d32e6e5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You can use `NSCoreDataCoreSpotlightDelegate` to get full text indexing of your data, and use the CoreSpotlight APIs to search it.  This allows lets customers use the spotlight search bar at the home screen even when the app isn't running",
          "ts": "1654885040.733579",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LVly",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can use "
                    },
                    {
                      "type": "text",
                      "text": "NSCoreDataCoreSpotlightDelegate",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to get full text indexing of your data, and use the CoreSpotlight APIs to search it.  This allows lets customers use the spotlight search bar at the home screen even when the app isn't running"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "45ef6c21-aab0-49af-81be-163d36ff1735",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "Check out the Tags sample code.",
          "ts": "1654885078.716919",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JtJJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Check out the Tags sample code."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dae6c87d-2ad6-499d-be0b-db924c0859a8",
          "type": "message",
          "user": "U03JP7XR46Q",
          "text": "\u003c@U03HFC8U0J1\u003e where can I find the sample code?",
          "ts": "1654885971.044499",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+Qz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HFC8U0J1"
                    },
                    {
                      "type": "text",
                      "text": " where can I find the sample code?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "631506fb-595d-4c1f-83d3-96a468954a52",
          "type": "message",
          "user": "U03HFC8U0J1",
          "text": "\u003chttps://developer.apple.com/documentation/coredata/nspersistentstorecoordinator/showcase_app_data_in_spotlight?language=objc\u003e",
          "ts": "1654886248.925349",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "smiley",
              "count": 1,
              "users": [
                "U03JP7XR46Q"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "BW7Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nspersistentstorecoordinator/showcase_app_data_in_spotlight?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "feb8df45-7d21-4fb8-9f33-e238b74437c1",
          "type": "message",
          "user": "U03JP7XR46Q",
          "text": "Thank you guys \u003c@U03HFC8U0J1\u003e\u003c@U03HJA0EJ1G\u003e! Look like I can dump the SQLite created for this sole purpose.",
          "ts": "1654886808.005509",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JENQA0TB"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Zki=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thank you guys "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HFC8U0J1"
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": "! Look like I can dump the SQLite created for this sole purpose."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0E3E5AD8-1BAE-40F2-9A0B-5F65EC8EDCD8",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Me too! I maintain a separate SQLite database just for FTS. \n\nI'm assuming that it would also handle properly languages such as Chinese, Japanese, Korean, and Arabic?",
          "ts": "1654887079.937359",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tLqA/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Me"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "too!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "maintain"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " separate "
                    },
                    {
                      "type": "text",
                      "text": "SQLite"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "database"
                    },
                    {
                      "type": "text",
                      "text": " just "
                    },
                    {
                      "type": "text",
                      "text": "for"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "FTS. "
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "\nI'm "
                    },
                    {
                      "type": "text",
                      "text": "assuming"
                    },
                    {
                      "type": "text",
                      "text": " that "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " would "
                    },
                    {
                      "type": "text",
                      "text": "also"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "handle"
                    },
                    {
                      "type": "text",
                      "text": " properly languages "
                    },
                    {
                      "type": "text",
                      "text": "such"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "as"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Chinese,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Japanese,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Korean,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " Arabic"
                    },
                    {
                      "type": "text",
                      "text": "?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bf8167c8-6cf2-4c72-9832-8c13c243be4c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I *believe* so ?  The CoreSpotlight documentation should discuss internationalization support",
          "ts": "1654888769.477359",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Z/GoG",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I "
                    },
                    {
                      "type": "text",
                      "text": "believe",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " so ?  The CoreSpotlight documentation should discuss internationalization support"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c38fd7d8-aaa6-441f-a76a-33938878c267",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the corespotlight APIs are asynchronous so your interaction with fetching results in your app will be a bit different than FTS",
          "ts": "1654888829.301809",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cjLyH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the corespotlight APIs are asynchronous so your interaction with fetching results in your app will be a bit different than FTS"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ee8c70b3-0d57-4d52-951f-5ebc298588c2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I wouldn't like rm -rf everything before testing it meets your product requirements",
          "ts": "1654888851.454049",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "q6R",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I wouldn't like rm -rf everything before testing it meets your product requirements"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4f5a1266-b9cd-46eb-96aa-3ca8bb67c33a",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "The way I use FTS is I fetch a bunch of record IDs (UUIDs) based on the results of the match query, then I use those record IDs in my NSFetchRequest to fetch from my main data store. I’m hoping I can do the same with Spotlight.",
          "ts": "1654889274.301149",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wGbq",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The way I use FTS is I fetch a bunch of record IDs (UUIDs) based on the results of the match query, then I use those record IDs in my NSFetchRequest to fetch from my main data store. I’m hoping I can do the same with Spotlight."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0e21e725-6c68-463d-8d27-255b9f983e0c",
          "type": "message",
          "user": "U03JP7XR46Q",
          "text": "\u003c@U03HJA0EJ1G\u003e thank you for the reminder. Async request is fine. My concern is the performance, since it's not dedicated to specific app.",
          "ts": "1654889466.430409",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rr7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": " thank you for the reminder. Async request is fine. My concern is the performance, since it's not dedicated to specific app."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5f8172a0-21d2-4a2e-88d3-5cf85c029d1c",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "That’s a good question. And what happens if you delete the database in the Finder that has all its data indexed in Spotlight? I might have hundreds of thousands of terms and phrases to index in my app.",
          "ts": "1654890481.355239",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "q8058",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s a good question. And what happens if you delete the database in the Finder that has all its data indexed in Spotlight? I might have hundreds of thousands of terms and phrases to index in my app."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f277ba2d-1c03-4e98-ba82-09936e605d63",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Can the Spotlight index be stored along side your Core Data store? I keep mine in a package bundle as it’s a document based app.",
          "ts": "1654890516.734669",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rpyB",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Can the Spotlight index be stored along side your Core Data store? I keep mine in a package bundle as it’s a document based app."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "da226399-e26f-4f9a-9cd4-5e8475d9c143",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "That’s what I do with my current FTS sqlite index file. Since it’s inside the package bundle, if they delete the bundle, then the index is deleted along with it. Nothing hanging around in the system.",
          "ts": "1654890952.809049",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VUC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s what I do with my current FTS sqlite index file. Since it’s inside the package bundle, if they delete the bundle, then the index is deleted along with it. Nothing hanging around in the system."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "086f0d8d-9c86-4476-8100-f20a53eab2be",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "you can override these:",
          "ts": "1654891074.254489",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XfF/K",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "you can override these:"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "41776416-959d-4e3e-a28c-c2cd4e7ffbe1",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "`/* CoreSpotlight domain identifer; default is the store's identifier */`\n`- (NSString *)domainIdentifier;`\n\n`/* CoreSpotlight index name; default nil */`\n`- (*nullable* NSString *)indexName;`",
          "ts": "1654891077.478169",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "EQv=p",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "/* CoreSpotlight domain identifer; default is the store's identifier */",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "- (NSString *)domainIdentifier;",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n\n"
                    },
                    {
                      "type": "text",
                      "text": "/* CoreSpotlight index name; default nil */",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "- (",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "nullable",
                      "style": {
                        "bold": true,
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " NSString *)indexName;",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "451c7458-16bc-4aa5-b259-a1645b22c424",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "to change the CSSearchableIndex associated with the NSPersistentStore",
          "ts": "1654891097.314369",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nX2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "to change the CSSearchableIndex associated with the NSPersistentStore"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3b4e99a2-4122-42dd-aced-517353f7d444",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I *think* you'd need to tell spotlight you want to delete them, as opposed to say finder doing it with the package bundle",
          "ts": "1654891134.730919",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "V20",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I "
                    },
                    {
                      "type": "text",
                      "text": "think",
                      "style": {
                        "bold": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " you'd need to tell spotlight you want to delete them, as opposed to say finder doing it with the package bundle"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a33d78c8-6fe0-4298-a5c9-97f47fc4b889",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Ah. But that would be out of my control outside the app, so I just wanted to make sure that situation was handled. I’m guessing then the only way to properly delete from Spotlight would be to keep around another database that keeps track of a list of package bundles and if one is missing on the system when my app launches, then to tell Spotlight to delete the corresponding index where ever it keeps them. Does that sound right? Too bad I can’t bundle the index inside the package.",
          "ts": "1654892172.387299",
          "thread_ts": "1654884954.410289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o6b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ah. But that would be out of my control outside the app, so I just wanted to make sure that situation was handled. I’m guessing then the only way to properly delete from Spotlight would be to keep around another database that keeps track of a list of package bundles and if one is missing on the system when my app launches, then to tell Spotlight to delete the corresponding index where ever it keeps them. Does that sound right? Too bad I can’t bundle the index inside the package."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J20KFJG3\u003e asked\n\u0026gt; Hey Patrick, thanks for the Q\u0026amp;A.\n\u0026gt; \n\u0026gt; We hear a lot of bad things about parent and children entity (Core Data creates a unique table with all the attributes from all the children entities in this one table).\n\u0026gt; \n\u0026gt; Could you clarify when it's ok to use parent/children entities and when it's recommended to avoid them? What tips can we use to help us choose?\n\u0026gt; \n\u0026gt; For example, if I have an generic expense, and a fuel expense (with specific attributes to track the volume purchased, etc): should I create parent/children, on instead use relationship between an Expense entity and a FuelMetadataEntity (or other more specific metadata per expense category for exemple)?",
      "ts": "1654885135.860289",
      "thread_ts": "1654885135.860289",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 11,
      "latest_reply": "1654892147.274609",
      "reactions": [
        {
          "name": "eyes",
          "count": 1,
          "users": [
            "U03J1V9TNLT"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "yHXA",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J20KFJG3"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Hey Patrick, thanks for the Q\u0026A.\\n\\nWe hear a lot of bad things about parent and children entity (Core Data creates a unique table with all the attributes from all the children entities in this one table).\\n\\nCould you clarify when it's ok to use parent\\/children entities and when it's recommended to avoid them? What tips can we use to help us choose?\\n\\nFor example, if I have an generic expense, and a fuel expense (with specific attributes to track the volume purchased, etc): should I create parent\\/children, on instead use relationship between an Expense entity and a FuelMetadataEntity (or other more specific metadata per expense category for exemple)?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "9081e93f-7e70-42bb-96ae-37106c9402b2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Entity Inheritance is a powerful tool.",
          "ts": "1654885181.222129",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Rgid",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Entity Inheritance is a powerful tool."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "af2912ce-7535-4c81-be8e-aa325316af47",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We do use a single table for the inheritance hierarchy",
          "ts": "1654885197.573409",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7iX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We do use a single table for the inheritance hierarchy"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e9066dc5-dbfc-49f0-a5d0-5494e1ef65c1",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "In general, I would say that data model inheritance hierarchies are much much flatter than class inheritance hierarchies",
          "ts": "1654885230.216619",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TX6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In general, I would say that data model inheritance hierarchies are much much flatter than class inheritance hierarchies"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "51d4b3c6-5090-43b1-9642-5b9432a73717",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "And you shouldn't use entity inheritance to \"model\" a protocol",
          "ts": "1654885242.560799",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=n8x",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "And you shouldn't use entity inheritance to \"model\" a protocol"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "98aa9dd9-da6b-40f4-9788-938737245b41",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "like \"all my entities have a uuid, therefore, I'll make one uber root entity that just has a uuid\"",
          "ts": "1654885263.783459",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "boc5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "like \"all my entities have a uuid, therefore, I'll make one uber root entity that just has a uuid\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4949d876-bf4a-4676-a7ea-1d4283e4d7f2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "that is sad.  That should be expressed as an actual protocol in Swift or ObjC",
          "ts": "1654885281.278629",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zf4a",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "that is sad.  That should be expressed as an actual protocol in Swift or ObjC"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ad1b7fce-358f-4d3f-b400-831f21e54d91",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "on your MO subtype",
          "ts": "1654885286.517449",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0rga",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "on your MO subtype"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "78dcbbf2-ebc5-46cd-8494-293b2dcd24b7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the basic rule of thumb would be \"do I ever want a single fetch to pull back both ?\"",
          "ts": "1654885317.795959",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "cZ0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the basic rule of thumb would be \"do I ever want a single fetch to pull back both ?\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1f89b1ec-691f-4492-b044-7d253614d17b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "So you might model an Animal entity with Cat and Dog, because sometimes you want all Animals in a single fetch, and sometimes you don't",
          "ts": "1654885356.927979",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yFjA+",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So you might model an Animal entity with Cat and Dog, because sometimes you want all Animals in a single fetch, and sometimes you don't"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c4e3607-4893-437b-8dae-7f511be035aa",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "But you probably wouldn't model ExpenseReport and UserAccount as the same inheritance hierarchy because they are very different types and they don't belong together (generally)",
          "ts": "1654885411.925149",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RhHD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But you probably wouldn't model ExpenseReport and UserAccount as the same inheritance hierarchy because they are very different types and they don't belong together (generally)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "71F1187C-1526-4C53-B745-1A02F09F2D75",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "Thanks \u003c@U03HJA0EJ1G\u003e for this thread! Really helpful. I did not have the intention to model my schema on generic attributes such as id or createdAt etc. But your tip on the single fetch makes a lot of sense.",
          "ts": "1654892147.274609",
          "thread_ts": "1654885135.860289",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0NBCe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": " for"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "this"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "thread!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Really"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "helpful."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "did"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "not"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "have"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " intention "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "model"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "my"
                    },
                    {
                      "type": "text",
                      "text": " sc"
                    },
                    {
                      "type": "text",
                      "text": "hema"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "on"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "generic"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "attributes"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "such"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "as"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "id"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "createdAt"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "etc."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "But"
                    },
                    {
                      "type": "text",
                      "text": " your "
                    },
                    {
                      "type": "text",
                      "text": "tip"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "on"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "single"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "fetch"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "makes"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "lot"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "sense."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JRPFE82C\u003e asked\n\u0026gt; We're doing advanced migration using a mapping model and custom policies. Is it recommended to add support for migrating both ways, both upgrade and downgrade versions? Or is that considered unnecessary?",
      "ts": "1654885512.461649",
      "thread_ts": "1654885512.461649",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 7,
      "latest_reply": "1654885955.337219",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "eswE",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JRPFE82C"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"We're doing advanced migration using a mapping model and custom policies. Is it recommended to add support for migrating both ways, both upgrade and downgrade versions? Or is that considered unnecessary?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "cd66f071-50a3-4dac-bf83-210985a1b2c1",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I generally try to dissuade people from supporting downgrades",
          "ts": "1654885536.799959",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "N/yW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I generally try to dissuade people from supporting downgrades"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "11d9d3de-1653-4572-9460-3d06df927fad",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "this is \"forward binary compatibility\" when an older version of an app needs to know about the future",
          "ts": "1654885554.657619",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OzV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "this is \"forward binary compatibility\" when an older version of an app needs to know about the future"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6dba9c1-f3ec-47b8-88fe-75269c655d8e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "but predicting the future is hard, and by definition, your older app has never been tested with features and code you haven't created yet",
          "ts": "1654885577.104599",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "iD71",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but predicting the future is hard, and by definition, your older app has never been tested with features and code you haven't created yet"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3a3a7ca3-8998-4e12-86ac-7d5dfa5144f7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "it's usually a huge resource investment to handle foward binary compatibility and Just Not Worth It, even for very large teams",
          "ts": "1654885602.996529",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Yf7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "it's usually a huge resource investment to handle foward binary compatibility and Just Not Worth It, even for very large teams"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e6f7ca84-b3ce-4670-a2e7-47e847dc63c6",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "some typical problems include maintaining data the older version doesn't know exists, inserting new records but missing that new data, failing to maintain implicit dependencies or derivations on updates in the old app to that newer data ...",
          "ts": "1654885687.321069",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8gfP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "some typical problems include maintaining data the older version doesn't know exists, inserting new records but missing that new data, failing to maintain implicit dependencies or derivations on updates in the old app to that newer data ..."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "29b03a0b-c244-4fb4-a5e1-96d8b334858c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "it's basically pandora's box",
          "ts": "1654885695.066009",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OcoLe",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "it's basically pandora's box"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "E2CC4507-CF01-42D0-86D8-615C6335AE92",
          "type": "message",
          "user": "U03JRPFE82C",
          "text": "Thanks for the extensive response \u003c@U03HJA0EJ1G\u003e. Really appreciate it. I'll skip downgrade support for now and see where that takes us. Thanks! :man-bowing:",
          "ts": "1654885955.337219",
          "thread_ts": "1654885512.461649",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7w5CY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks"
                    },
                    {
                      "type": "text",
                      "text": " for "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " extensive "
                    },
                    {
                      "type": "text",
                      "text": "response"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": ". Really"
                    },
                    {
                      "type": "text",
                      "text": " appreciate "
                    },
                    {
                      "type": "text",
                      "text": "it."
                    },
                    {
                      "type": "text",
                      "text": " I'll "
                    },
                    {
                      "type": "text",
                      "text": "skip"
                    },
                    {
                      "type": "text",
                      "text": " downgrade support for now "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "see"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "where"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "takes"
                    },
                    {
                      "type": "text",
                      "text": " us"
                    },
                    {
                      "type": "text",
                      "text": ". "
                    },
                    {
                      "type": "text",
                      "text": "Thanks"
                    },
                    {
                      "type": "text",
                      "text": "!"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "emoji",
                      "name": "man-bowing",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMCT187R\u003e asked\n\u0026gt; I seem to have gotten mixed answers in regards to how to add a widget to an app that uses NSPersistentCloudKitContainer. If you move the database to app groups so app and widget can access it, there's two approaches I thought you could use to try to keep it up-to-date: reload the widget when the app updates the db and/or let the widget try to update itself for example by letting sync occur when the getTimeline function is executing. But a message here implied the widget should not allow syncing otherwise it'll conflict with the app sync. Can you provide clarifying direction on how you should approach implementing a widget that needs data from NSPersistentCloudKitContainer? Thanks!",
      "ts": "1654885781.398129",
      "thread_ts": "1654885781.398129",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 9,
      "latest_reply": "1654885901.611329",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "LYn6",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMCT187R"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I seem to have gotten mixed answers in regards to how to add a widget to an app that uses NSPersistentCloudKitContainer. If you move the database to app groups so app and widget can access it, there's two approaches I thought you could use to try to keep it up-to-date: reload the widget when the app updates the db and\\/or let the widget try to update itself for example by letting sync occur when the getTimeline function is executing. But a message here implied the widget should not allow syncing otherwise it'll conflict with the app sync. Can you provide clarifying direction on how you should approach implementing a widget that needs data from NSPersistentCloudKitContainer? Thanks!\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "f60b451b-7e45-4555-ac88-d2d90133dbd7",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I don’t think those answers are really in conflict.",
          "ts": "1654885793.636019",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7gy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don’t think those answers are really in conflict."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8e667fe7-a6f0-405d-83f4-cbce3ba4c9fa",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You are free to allow your widget to set up an NSPersistentCloudKitContainer and attempt to sync.",
          "ts": "1654885805.146029",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mMJF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You are free to allow your widget to set up an NSPersistentCloudKitContainer and attempt to sync."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f048655f-68a9-45c3-8895-741cd1f778a6",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But practically speaking it never will.",
          "ts": "1654885808.993319",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZS7fI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But practically speaking it never will."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "48f1830f-caba-4d6d-b850-31f3af37aeec",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Widgets don’t live long enough, or get enough processing time for the container to finish setting up.",
          "ts": "1654885821.374869",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "267u",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Widgets don’t live long enough, or get enough processing time for the container to finish setting up."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "dfd98547-1f83-4889-b435-75aa4864ab4a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "So removing the options and letting the app handle sync is our recommended path.",
          "ts": "1654885835.883949",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0lmoi",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So removing the options and letting the app handle sync is our recommended path."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1d0d79f0-6dfc-4133-8ffa-456085ddf182",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Great thank you for the clarification :ok_hand:",
          "ts": "1654885858.999149",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6cs9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Great thank you for the clarification "
                    },
                    {
                      "type": "emoji",
                      "name": "ok_hand",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "49e3f7e0-7fb8-4960-8fe0-fbc5a5c994a3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Additionally, multi-process sync is not supported with NSPersistentCloudKitContainer. It creates a lot of competing work on the system. But again… widgets don’t live long enough for that to happen.",
          "ts": "1654885880.293989",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2wTYy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Additionally, multi-process sync is not supported with NSPersistentCloudKitContainer. It creates a lot of competing work on the system. But again… widgets don’t live long enough for that to happen."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c23d37a1-020f-4614-a88b-1357405a34c2",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Super good to know thanks!",
          "ts": "1654885898.980569",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "tada",
              "count": 1,
              "users": [
                "U03J1V9TNLT"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+3pK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Super good to know thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a869830f-1f8a-416a-a488-c57fd27e4458",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "So the letter-of-the-law is that the app process gets the `NSPersistentCloudKitContainerOptions`, the widget does not.",
          "ts": "1654885901.611329",
          "thread_ts": "1654885781.398129",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HMCT187R"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RqoFs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So the letter-of-the-law is that the app process gets the "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainerOptions",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", the widget does not."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J20KFJG3\u003e asked\n\u0026gt; Is there a Code Sample showcasing editing items in a child context in SwiftUI? How would you do that? I came up with a solution where I condition a sheet on an optional item containing the object to edit and the child context, past in the environment).",
      "ts": "1654885895.340299",
      "thread_ts": "1654885895.340299",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 14,
      "latest_reply": "1654913965.679009",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "6D/",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J20KFJG3"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is there a Code Sample showcasing editing items in a child context in SwiftUI? How would you do that? I came up with a solution where I condition a sheet on an optional item containing the object to edit and the child context, past in the environment).\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "1c694fce-241f-4015-891a-86262f4076de",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I would file a feedback report, if you attach your app we can help provide more targeted advice for how you would hook this up.",
          "ts": "1654885917.919339",
          "thread_ts": "1654885895.340299",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654885982.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RfY3",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would file a feedback report, if you attach your app we can help provide more targeted advice for how you would hook this up."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b0215ee1-3833-4a28-b50d-aceea6d49a91",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I don't think we have an example, but yes you'd pass the context you want in the environment.",
          "ts": "1654885931.603309",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ULrQs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don't think we have an example, but yes you'd pass the context you want in the environment."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "54f06fce-2306-4ec5-a7c1-3993fc7c024b",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "In Swift UI there’s generally an open question of whether or not your model would work with the child context, or the view.",
          "ts": "1654886023.569139",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dcdRd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In Swift UI there’s generally an open question of whether or not your model would work with the child context, or the view."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9406daee-e4e2-4b16-a036-8bf51a560f01",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "Here is what I currently do in my app, inspired by code samples provided by Apple with Struct / State.",
          "ts": "1654886415.462649",
          "thread_ts": "1654885895.340299",
          "files": [
            {
              "id": "F03K457TWAZ",
              "created": 1654886379,
              "timestamp": 1654886379,
              "name": "Screenshot 2022-06-10 at 20.39.33.png",
              "title": "Screenshot 2022-06-10 at 20.39.33.png",
              "mimetype": "image/png",
              "image_exif_rotation": 0,
              "filetype": "png",
              "pretty_type": "PNG",
              "user": "U03J20KFJG3",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 496757,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03K457TWAZ-Screenshot 2022-06-10 at 20.39.33.png",
              "url_private_download": "C03GSLDRB4P/F03K457TWAZ-Screenshot 2022-06-10 at 20.39.33.png",
              "original_h": 1828,
              "original_w": 2018,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_64.png",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_80.png",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_160.png",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_360.png",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 326,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_480.png",
              "thumb_480_w": 480,
              "thumb_480_h": 435,
              "thumb_720": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_720.png",
              "thumb_720_w": 720,
              "thumb_720_h": 652,
              "thumb_960": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_960.png",
              "thumb_960_w": 960,
              "thumb_960_h": 870,
              "thumb_1024": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03K457TWAZ-9e3bf00304/screenshot_2022-06-10_at_20.39.33_1024.png",
              "thumb_1024_w": 1024,
              "thumb_1024_h": 928,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03J20KFJG3/F03K457TWAZ/screenshot_2022-06-10_at_20.39.33.png",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03K457TWAZ-dde3fcf208",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Hsa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Here is what I currently do in my app, inspired by code samples provided by Apple with Struct / State."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1a972678-382b-46e5-b36c-813d99789b47",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "Same View to create or edit, the configuration provides the childContext and the new object/object to edit. When the State is updated, the sheet appears and the childContext passed in the environment.",
          "ts": "1654886487.981569",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MJ3N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Same View to create or edit, the configuration provides the childContext and the new object/object to edit. When the State is updated, the sheet appears and the childContext passed in the environment."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cfce647c-b9c2-4961-b216-25e0adfb5103",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "\u003c@U03HMJ2P5MJ\u003e not sure about your last comment:\n\u0026gt; In Swift UI there’s generally an open question of whether or not your model would work with the child context, or the view.\nAny feedback on the approach I'm using? \u003c@U03HJA0EJ1G\u003e Thanks!",
          "ts": "1654887086.031369",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DOfSL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HMJ2P5MJ"
                    },
                    {
                      "type": "text",
                      "text": " not sure about your last comment:\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"In Swift UI there\\u2019s generally an open question of whether or not your model would work with the child context, or the view.\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nAny feedback on the approach I'm using? "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": " Thanks!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "47f08821-8661-4079-83e8-3be3c8b2206c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Your `EditorConfiguration` is essentially a view model. It’s not clear to me what the point of child context is here. Why do you need a whole separate managed object context for editing a single object?",
          "ts": "1654887849.773729",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jMr",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Your "
                    },
                    {
                      "type": "text",
                      "text": "EditorConfiguration",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is essentially a view model. It’s not clear to me what the point of child context is here. Why do you need a whole separate managed object context for editing a single object?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "E2BC7854-AA6B-4AC8-8F43-7DA837AB60B9",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "What alternative would you use? I thought create ViewContext was cheap. I want to allow the user to save or cancel changes on the new/edited object. I don't want to edit the object in the main ViewContext",
          "ts": "1654888191.369319",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "uSL=Q",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "What"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "alternative"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "would"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "you"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "use? I"
                    },
                    {
                      "type": "text",
                      "text": " thought "
                    },
                    {
                      "type": "text",
                      "text": "create"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "ViewContext"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "was"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "cheap."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "want"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "allow"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "user"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "save"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "cancel"
                    },
                    {
                      "type": "text",
                      "text": " changes "
                    },
                    {
                      "type": "text",
                      "text": "on"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "new/edited"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "object."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I don't want"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "edit"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "object"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " main "
                    },
                    {
                      "type": "text",
                      "text": "ViewContext"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4bf18ad4-143e-4fd9-94a1-7410d653bbd6",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If you want the sub view / child / detail inspector to make changes to the object without effecting the main view, and allow the user to commit / cancel those all together then yes a child NSManagedObjectContext is appropriate",
          "ts": "1654888325.379879",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "QFFcJ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you want the sub view / child / detail inspector to make changes to the object without effecting the main view, and allow the user to commit / cancel those all together then yes a child NSManagedObjectContext is appropriate"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bc46a223-91b9-45fc-acf7-bb152b681c60",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "I think typically the parent view pushes the context in the environment for the child view to consume.  Either as a new context, or explicitly the parent context for the child to root a new MOC off of.",
          "ts": "1654888379.538149",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "r7IAU",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think typically the parent view pushes the context in the environment for the child view to consume.  Either as a new context, or explicitly the parent context for the child to root a new MOC off of."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0E5E5B98-B76F-4D97-A44D-B0E14E11E3D1",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "\u003c@U03HJA0EJ1G\u003e thanks. Not sure I understand your last sentence “Either as a new context, or explicitly the parent context for the child to root a new MOc off of”. What would that mean in SwiftUI? I pass the main ViewContext to the SubView/editor init (instead of using the environment) and create the child from the init? I fear this would be reset if the view is redrawn, contrary to the approach I described above (Struct in a State).",
          "ts": "1654888630.687269",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2Rw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": " thanks."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Not"
                    },
                    {
                      "type": "text",
                      "text": " sure I "
                    },
                    {
                      "type": "text",
                      "text": "understand"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "your"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "last"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "sentence"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "“Either"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "as"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "new"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "context,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "or"
                    },
                    {
                      "type": "text",
                      "text": " explicitly "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "parent"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "context"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "for"
                    },
                    {
                      "type": "text",
                      "text": " the "
                    },
                    {
                      "type": "text",
                      "text": "child"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "root"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "new"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "MOc"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "off"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of”."
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "What"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "would"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "that"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "mean"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "SwiftUI? I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "pass"
                    },
                    {
                      "type": "text",
                      "text": " the "
                    },
                    {
                      "type": "text",
                      "text": "main"
                    },
                    {
                      "type": "text",
                      "text": " ViewContext "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " SubView"
                    },
                    {
                      "type": "text",
                      "text": "/editor"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "init"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "(instead"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "of"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "using"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "environment)"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "create"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "child"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "from"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "init?"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "fear"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "this"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "would"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "be"
                    },
                    {
                      "type": "text",
                      "text": " reset "
                    },
                    {
                      "type": "text",
                      "text": "if"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "view"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "is"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "redrawn,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "contrary"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "to"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " approach I "
                    },
                    {
                      "type": "text",
                      "text": "described"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "above"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "("
                    },
                    {
                      "type": "text",
                      "text": "Struct "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " a State"
                    },
                    {
                      "type": "text",
                      "text": ")."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1943EAF2-EAA0-4E4B-B7D4-F103E872134C",
          "type": "message",
          "user": "U03J20KFJG3",
          "text": "I could still use a State in the SubView for both the object and the context, but if I use FetchRequest, it won't work because the context in the environment will not be the correct one.",
          "ts": "1654889023.813509",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ny/b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "could"
                    },
                    {
                      "type": "text",
                      "text": " still "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "a"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "State"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "SubView"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "for"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "both"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "object"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "and"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "context,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "but"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "if"
                    },
                    {
                      "type": "text",
                      "text": " I "
                    },
                    {
                      "type": "text",
                      "text": "use"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "FetchRequest,"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "it"
                    },
                    {
                      "type": "text",
                      "text": " won't "
                    },
                    {
                      "type": "text",
                      "text": "work"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "because"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "context"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "in"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "environment"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "will"
                    },
                    {
                      "type": "text",
                      "text": " not "
                    },
                    {
                      "type": "text",
                      "text": "be"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "the"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "correct"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "one."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4a60da65-bb81-4c68-8c54-bf77b5567766",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "\u003c@U03HK7797D0\u003e ^",
          "ts": "1654889118.370629",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Vr/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " ^"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5397920b-8a16-4c6a-b6c0-e06e3c594dad",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Why won’t it work? The child context has the same view of the store as its parent, plus whatever the child context has dirtied",
          "ts": "1654913965.679009",
          "thread_ts": "1654885895.340299",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "j7VMc",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Why won’t it work? The child context has the same view of the store as its parent, plus whatever the child context has dirtied"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HVCK66P8\u003e asked\n\u0026gt; Is it possible know the last sync time of CoreData+CloudKit? Any chance we can 'force fetch' the data from iCloud DB?",
      "ts": "1654886059.928799",
      "thread_ts": "1654886059.928799",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654886319.984609",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "oK8w",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HVCK66P8"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Is it possible know the last sync time of CoreData+CloudKit? Any chance we can 'force fetch' the data from iCloud DB?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "c055661d-31d8-4746-bcaa-f330e6c4059c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "`NSPersistentCloudKitContainerEvent` describes this. \u003chttps://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainerevent?language=objc\u003e",
          "ts": "1654886083.898869",
          "thread_ts": "1654886059.928799",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "gqWSt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainerEvent",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " describes this. "
                    },
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainerevent?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e0bea5d7-e407-4b06-b429-af7cdd91b2e7",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "No, there is no way to force `NSPersistentCloudKitContainer` to sync.",
          "ts": "1654886098.653089",
          "thread_ts": "1654886059.928799",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03K7L2F51P"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "AiK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "No, there is no way to force "
                    },
                    {
                      "type": "text",
                      "text": "NSPersistentCloudKitContainer",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to sync."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "89c687d5-24e6-42a2-a891-64c810fb0639",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": "Okay",
          "ts": "1654886284.785849",
          "thread_ts": "1654886059.928799",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8eKEE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Okay"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "67c7530d-dbff-4c41-bf76-0c24687cac44",
          "type": "message",
          "user": "U03HVCK66P8",
          "text": ":pray:",
          "ts": "1654886319.984609",
          "thread_ts": "1654886059.928799",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yP9",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "emoji",
                      "name": "pray",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; I have a few warnings in my build logs like these: \n\u0026gt; \"FileAttachments.fileProperties is using a nil or insecure value transformer. Please switch to NSSecureUnarchiveFromDataTransformerName or a custom NSValueTransformer subclass of NSSecureUnarchiveFromDataTransformer [2]\"\n\u0026gt; \n\u0026gt; \n\u0026gt; What's the best way to update this? Just change the transformer name in model editor to 'NSSecureUnarchiveFromDataTransformer'? Does it affect existing data saved in that attribute, or force a lightweight migration?",
      "ts": "1654886141.529659",
      "thread_ts": "1654886141.529659",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 11,
      "latest_reply": "1654887682.428109",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "QnSjz",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I have a few warnings in my build logs like these: \\n\\\"FileAttachments.fileProperties is using a nil or insecure value transformer. Please switch to NSSecureUnarchiveFromDataTransformerName or a custom NSValueTransformer subclass of NSSecureUnarchiveFromDataTransformer [2]\\\"\\n\\n\\nWhat's the best way to update this? Just change the transformer name in model editor to 'NSSecureUnarchiveFromDataTransformer'? Does it affect existing data saved in that attribute, or force a lightweight migration?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "9af9bb89-5448-46a1-8a57-5bccc91b5dfd",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; Just change the transformer name in model editor to ‘NSSecureUnarchiveFromDataTransformer’?\nMaybe. All the data you’re transforming needs to support secure coding.",
          "ts": "1654886167.008359",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Vgymf",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Just change the transformer name in model editor to \\u2018NSSecureUnarchiveFromDataTransformer\\u2019?\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Maybe. All the data you’re transforming needs to support secure coding."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e42ce00e-70de-434a-8aee-818ea31616db",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Typically `NSSecureUnarchiveFromDataTransformer` is enough, but if you have custom value classes in your archived blobs you will need a custom value transformer that supplies the correct `allowedTopLevelClasses` and your value classes will need to conform to secure coding.",
          "ts": "1654886232.710499",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "PXWs",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Typically "
                    },
                    {
                      "type": "text",
                      "text": "NSSecureUnarchiveFromDataTransformer",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is enough, but if you have custom value classes in your archived blobs you will need a custom value transformer that supplies the correct "
                    },
                    {
                      "type": "text",
                      "text": "allowedTopLevelClasses",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and your value classes will need to conform to secure coding."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4c5f97e3-fa2f-44d8-9075-ecca68cf0de7",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks. In one of the cases, I store 'attributedString' in a transformable attribute. The only problem is, due to an old bug, sometimes a NSValue can be saved there in the store instead. I tried creating a custom transformer that can handle this, but I would get an error \"\"[error] fault: exception raised during multi-threaded fetch \u0026lt;shared NSSecureUnarchiveFromData transformer\u0026gt; threw while decoding a value. ({NSUnderlyingError = \"Error Domain=NSCocoaErrorDomain Code=4864 \\\"value for key 'NS.objects' was of unexpected class 'NSValue (0x7fff86bb08d0)\"",
          "ts": "1654886563.359519",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LpNTX",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks. In one of the cases, I store 'attributedString' in a transformable attribute. The only problem is, due to an old bug, sometimes a NSValue can be saved there in the store instead. I tried creating a custom transformer that can handle this, but I would get an error \"\"[error] fault: exception raised during multi-threaded fetch \u003cshared NSSecureUnarchiveFromData transformer\u003e threw while decoding a value. ({NSUnderlyingError = \"Error Domain=NSCocoaErrorDomain Code=4864 \\\"value for key 'NS.objects' was of unexpected class 'NSValue (0x7fff86bb08d0)\""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "88492d44-e7a3-4cc9-8296-8d75a577ebc3",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "This is the transformer I was using",
          "ts": "1654886578.793489",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ftLP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is the transformer I was using"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bc1ab524-4191-4ca7-ad04-50d5f241708f",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "`@objc(AttributedStringDictionaryTransformer)`\n`final class AttributedStringDictionaryTransformer: NSSecureUnarchiveFromDataTransformer {`\n\n  `//static let name = NSValueTransformerName(rawValue: String(describing: CustomClass.self))`\n\n  `override static var allowedTopLevelClasses: [AnyClass] {`\n    `return super.allowedTopLevelClasses + [NSValue.self, NSAttributedString.self]`\n  `}`\n`}`",
          "ts": "1654886583.851499",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "z=Z",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "@objc(AttributedStringDictionaryTransformer)",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "final class AttributedStringDictionaryTransformer: NSSecureUnarchiveFromDataTransformer {",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n\n"
                    },
                    {
                      "type": "text",
                      "text": "  //static let name = NSValueTransformerName(rawValue: String(describing: CustomClass.self))",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n\n"
                    },
                    {
                      "type": "text",
                      "text": "  override static var allowedTopLevelClasses: [AnyClass] {",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "    return super.allowedTopLevelClasses + [NSValue.self, NSAttributedString.self]",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "  }",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "}",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "fb2d315e-2e11-441c-bcc1-c90799e4063d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That’s worth a feedback report. I suspect what you’re actually seeing is that the top level object is not `NSValue`, but in fact one of the attributes on your string is an `NSValue` and you haven’t modeled that part of the decoding.",
          "ts": "1654886814.563799",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "TBpDE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s worth a feedback report. I suspect what you’re actually seeing is that the top level object is not "
                    },
                    {
                      "type": "text",
                      "text": "NSValue",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", but in fact one of the attributes on your string is an "
                    },
                    {
                      "type": "text",
                      "text": "NSValue",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and you haven’t modeled that part of the decoding."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8aea56a8-93b7-4209-9096-63822281326b",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m also not entirely sure that `NSAttributedString` conforms to secure coding.",
          "ts": "1654886901.108629",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "IXB5S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m also not entirely sure that "
                    },
                    {
                      "type": "text",
                      "text": "NSAttributedString",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " conforms to secure coding."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "96e7f103-0a79-4fa5-a6e6-326be75b6637",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks. How do I confirm this?",
          "ts": "1654887182.668689",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OyTP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks. How do I confirm this?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "91bad1ac-d15a-4a82-bb45-d3c08f635c46",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "A simple unit test with a representative attribute string should reproduce it.",
          "ts": "1654887659.712849",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jygz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "A simple unit test with a representative attribute string should reproduce it."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "64c4cc4e-eb20-4e45-9f53-2e0cccc776b9",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You can just pass it though your value transformer by calling `transformedValue` / `reverseTransformedValue` directly",
          "ts": "1654887676.765729",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eX/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can just pass it though your value transformer by calling "
                    },
                    {
                      "type": "text",
                      "text": "transformedValue",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " / "
                    },
                    {
                      "type": "text",
                      "text": "reverseTransformedValue",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " directly"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c144d4a-ea99-4abd-a760-a561b5f79a20",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If it blows up you found the issue",
          "ts": "1654887682.428109",
          "thread_ts": "1654886141.529659",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+kVjt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If it blows up you found the issue"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03KC4LFL64\u003e asked\n\u0026gt; Will NSManagedObjectID be sendable?  What is the recommended way to move object IDs from an NSAsyncronousFetchResult to surface the results into swift concurrency?",
      "ts": "1654886587.434439",
      "thread_ts": "1654886587.434439",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 2,
      "latest_reply": "1654886633.994039",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "2h6Je",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03KC4LFL64"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Will NSManagedObjectID be sendable?  What is the recommended way to move object IDs from an NSAsyncronousFetchResult to surface the results into swift concurrency?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "c42197d3-92a5-47e6-9dae-6faff9c5a238",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "please file a feedback report.  NSManagedObjectID should be sendable",
          "ts": "1654886606.963249",
          "thread_ts": "1654886587.434439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o7pI",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "please file a feedback report.  NSManagedObjectID should be sendable"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3E993B93-2D64-43AB-84E0-E18AA49AAFD3",
          "type": "message",
          "user": "U03KC4LFL64",
          "text": "Perfect.  Thank you!",
          "ts": "1654886633.994039",
          "thread_ts": "1654886587.434439",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "wNxg",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Perfect."
                    },
                    {
                      "type": "text",
                      "text": "  "
                    },
                    {
                      "type": "text",
                      "text": "Thank"
                    },
                    {
                      "type": "text",
                      "text": " you"
                    },
                    {
                      "type": "text",
                      "text": "!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JK9ZRJJJ\u003e asked\n\u0026gt; In my Core Data model I have an abstract entity and I use NSFetchedResultsController to display its children entities data in a UITableview. I want to group the table view rows in sections according to the concrete entity types. What would be the best approach to achieve that, please?",
      "ts": "1654886600.620719",
      "thread_ts": "1654886600.620719",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 6,
      "latest_reply": "1654887296.054849",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "arK",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JK9ZRJJJ"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"In my Core Data model I have an abstract entity and I use NSFetchedResultsController to display its children entities data in a UITableview. I want to group the table view rows in sections according to the concrete entity types. What would be the best approach to achieve that, please?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "4e278004-835f-4a1d-9087-da96864f30c0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I think the best would be to use a type column in your abstract entity",
          "ts": "1654886643.413989",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tl=D",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I think the best would be to use a type column in your abstract entity"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "71b98a71-e46a-4853-93a7-ffcdbc1375f2",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "That way you can target it with `sectionNameKeyPath` from the FRC.",
          "ts": "1654886653.761419",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Pom",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That way you can target it with "
                    },
                    {
                      "type": "text",
                      "text": "sectionNameKeyPath",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " from the FRC."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "01c633bd-e257-4664-95ff-370f7f55ea8a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You could automatically set it to the entity name, or to a more human friendly string so that you don’t also need to map it to a display value.",
          "ts": "1654886687.581409",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "b83",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You could automatically set it to the entity name, or to a more human friendly string so that you don’t also need to map it to a display value."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1175d1bb-9b7c-4dc2-87f0-169abcec7595",
          "type": "message",
          "user": "U03JK9ZRJJJ",
          "text": "That’s a good approach Nick, and that’s actually the first solution that I had in mind. But I was wondering if I could set the sectionNameKeyPath using something like a computed property or a transient property to avoid storing repeated data in the database. Thanks a lot for your answer!",
          "ts": "1654886953.458729",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "AMogT",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s a good approach Nick, and that’s actually the first solution that I had in mind. But I was wondering if I could set the sectionNameKeyPath using something like a computed property or a transient property to avoid storing repeated data in the database. Thanks a lot for your answer!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9433a205-463c-4a7b-9ffe-2716cec8c796",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I don’t think you can target `self.entity.name` with a derived attribute but that’s worth a feedback report.",
          "ts": "1654887023.078929",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "nMk+D",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I don’t think you can target "
                    },
                    {
                      "type": "text",
                      "text": "self.entity.name",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " with a derived attribute but that’s worth a feedback report."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "344af40a-c0c2-4ab0-8c93-8d00148d1419",
          "type": "message",
          "user": "U03JK9ZRJJJ",
          "text": "Yeah, I tried but I was not able to set the sectionNameKeyPath based on the entity name. That’s a good point, I’ll create a feedback report and put the details of what I’ve tried so far.",
          "ts": "1654887296.054849",
          "thread_ts": "1654886600.620719",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "63N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, I tried but I was not able to set the sectionNameKeyPath based on the entity name. That’s a good point, I’ll create a feedback report and put the details of what I’ve tried so far."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J4EJ0CVA\u003e asked\n\u0026gt; I want to add Core Data/CloudKit data persistence to my app. Currently my app only uses local on device @AppStorage. Looking for best approach to bring in @FetchRequest functionality for my views, and tie my model data into Core Data and CloudKit. ",
      "ts": "1654886631.995609",
      "thread_ts": "1654886631.995609",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 9,
      "latest_reply": "1654887025.837169",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "0WKM",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J4EJ0CVA"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I want to add Core Data\\/CloudKit data persistence to my app. Currently my app only uses local on device @AppStorage. Looking for best approach to bring in @FetchRequest functionality for my views, and tie my model data into Core Data and CloudKit. \"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "870586C7-8022-45B0-A8A7-8DD59D71B9DE",
          "type": "message",
          "user": "U03J4EJ0CVA",
          "text": "In my app currently (without Core Data) my content view has an instance of my view model (separate file) accessed using an Environment Object. I use local @AppStorage persistence:\n\n",
          "ts": "1654886695.780279",
          "thread_ts": "1654886631.995609",
          "files": [
            {
              "id": "F03KWRK25L0",
              "created": 1654886688,
              "timestamp": 1654886688,
              "name": "Image from iOS.jpg",
              "title": "Image from iOS",
              "mimetype": "image/jpeg",
              "image_exif_rotation": 0,
              "filetype": "jpg",
              "pretty_type": "JPEG",
              "user": "U03J4EJ0CVA",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 174705,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03KWRK25L0-Image from iOS.jpg",
              "url_private_download": "C03GSLDRB4P/F03KWRK25L0-Image from iOS.jpg",
              "original_h": 1170,
              "original_w": 2250,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_64.jpg",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_80.jpg",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_160.jpg",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_360.jpg",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 187,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_480.jpg",
              "thumb_480_w": 480,
              "thumb_480_h": 250,
              "thumb_720": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_720.jpg",
              "thumb_720_w": 720,
              "thumb_720_h": 374,
              "thumb_960": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_960.jpg",
              "thumb_960_w": 960,
              "thumb_960_h": 499,
              "thumb_1024": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRK25L0-37cfbcb732/image_from_ios_1024.jpg",
              "thumb_1024_w": 1024,
              "thumb_1024_h": 532,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03J4EJ0CVA/F03KWRK25L0/image_from_ios.jpg",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03KWRK25L0-3bc5cefce9",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "sGE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In my app currently (without Core Data) my content view has an instance of my view model (separate file) accessed using an Environment Object. I use local @AppStorage persistence:"
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ef1ad022-fdea-49ce-8f08-f08a8477f442",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Arguably the best way to get started is to experiment with a new Core Data + SwiftUI App in Xcode—the project template includes a basic Core Data stack and `@FetchRequest` for you to play with",
          "ts": "1654886702.046409",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "aBpr",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Arguably the best way to get started is to experiment with a new Core Data + SwiftUI App in Xcode—the project template includes a basic Core Data stack and "
                    },
                    {
                      "type": "text",
                      "text": "@FetchRequest",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " for you to play with"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "592A20C5-5780-4AB0-9F9C-E96848E095E9",
          "type": "message",
          "user": "U03J4EJ0CVA",
          "text": "In my lab this week, i got suggestions that I can modify my app structure to incorporate Core Data + CloudKit. Would the following structure work?:\n\n",
          "ts": "1654886732.868989",
          "thread_ts": "1654886631.995609",
          "files": [
            {
              "id": "F03KWRNBBQQ",
              "created": 1654886729,
              "timestamp": 1654886729,
              "name": "Image from iOS.jpg",
              "title": "Image from iOS",
              "mimetype": "image/jpeg",
              "image_exif_rotation": 0,
              "filetype": "jpg",
              "pretty_type": "JPEG",
              "user": "U03J4EJ0CVA",
              "mode": "hosted",
              "editable": false,
              "is_external": false,
              "external_type": "",
              "size": 232948,
              "url": "",
              "url_download": "",
              "url_private": "C03GSLDRB4P/F03KWRNBBQQ-Image from iOS.jpg",
              "url_private_download": "C03GSLDRB4P/F03KWRNBBQQ-Image from iOS.jpg",
              "original_h": 1170,
              "original_w": 2242,
              "thumb_64": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_64.jpg",
              "thumb_80": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_80.jpg",
              "thumb_160": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_160.jpg",
              "thumb_360": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_360.jpg",
              "thumb_360_gif": "",
              "thumb_360_w": 360,
              "thumb_360_h": 188,
              "thumb_480": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_480.jpg",
              "thumb_480_w": 480,
              "thumb_480_h": 250,
              "thumb_720": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_720.jpg",
              "thumb_720_w": 720,
              "thumb_720_h": 376,
              "thumb_960": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_960.jpg",
              "thumb_960_w": 960,
              "thumb_960_h": 501,
              "thumb_1024": "https://files.slack.com/files-tmb/T01PTBJ95PS-F03KWRNBBQQ-9d9de9b094/image_from_ios_1024.jpg",
              "thumb_1024_w": 1024,
              "thumb_1024_h": 534,
              "permalink": "https://appleevents.enterprise.slack.com/files/U03J4EJ0CVA/F03KWRNBBQQ/image_from_ios.jpg",
              "permalink_public": "https://slack-files.com/T01PTBJ95PS-F03KWRNBBQQ-ee52d8e9a6",
              "edit_link": "",
              "preview": "",
              "preview_highlight": "",
              "lines": 0,
              "lines_more": 0,
              "is_public": false,
              "public_url_shared": false,
              "channels": null,
              "groups": null,
              "ims": null,
              "initial_comment": {},
              "comments_count": 0,
              "num_stars": 0,
              "is_starred": false,
              "shares": {
                "public": null,
                "private": null
              }
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pMyH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In my lab this week, i got suggestions that I can modify my app structure to incorporate Core Data + CloudKit. Would the following structure work?:"
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    },
                    {
                      "type": "text",
                      "text": "\n"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2ca13fcc-65ea-49fe-a003-dd963a5f938a",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Then you can also copy-pasta the goop in the new project’s Persistence.swift into your project",
          "ts": "1654886767.255719",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "knu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Then you can also copy-pasta the goop in the new project’s Persistence.swift into your project"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6148B202-A38A-441A-AB87-CE995A25D205",
          "type": "message",
          "user": "U03J4EJ0CVA",
          "text": "Thanks Scott. I think I was in the lab with you yesterday and you were very helpful. I created the above graphics to show what I think I understood I could do based on our discussion. Any comments on my graphics above would be great. Thanks again! ",
          "ts": "1654886785.299269",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0CNcW",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks"
                    },
                    {
                      "type": "text",
                      "text": " "
                    },
                    {
                      "type": "text",
                      "text": "Scott. "
                    },
                    {
                      "type": "text",
                      "text": "I think I was in the lab with you yesterday and you were very helpful. I created the above graphics to show what I think I understood I could do based on our discussion. Any comments on my graphics above would be great. Thanks again! "
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cdf68846-fce2-4c9e-933c-0daebbe578e1",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Yeah! I recognize this model",
          "ts": "1654886815.400819",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03J4EJ0CVA"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ldzu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah! I recognize this model"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "579A3237-FEBA-4B22-9EA9-C4033A8C53CA",
          "type": "message",
          "user": "U03J4EJ0CVA",
          "text": "Does the second picture seem to represent what we talked about?",
          "ts": "1654886858.975519",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "y2I",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Does the second picture seem to represent what we talked about?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b56e28c6-165b-4b60-8e82-256e8966756b",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "Yeah, the only thing really missing here is that your default data still isn’t modeled. The ViewModel in the image’s bottom right quadrant is doing model work where `systems` should probably just be a fetch that grabs the Systems from Core Data (which in turn should be seeded in Persistence.swift when opening the store—if store contains no systems then add the base set of systems)",
          "ts": "1654886952.659419",
          "thread_ts": "1654886631.995609",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VFko",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, the only thing really missing here is that your default data still isn’t modeled. The ViewModel in the image’s bottom right quadrant is doing model work where "
                    },
                    {
                      "type": "text",
                      "text": "systems",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " should probably just be a fetch that grabs the Systems from Core Data (which in turn should be seeded in Persistence.swift when opening the store—if store contains no systems then add the base set of systems)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "EF878419-5C13-4575-9DB8-9C88A446C225",
          "type": "message",
          "user": "U03J4EJ0CVA",
          "text": "Ok. Yeah I do remember us talking about seeding the data. I just didn’t update the graphic well enough. This is a good reminder thanks again:gratitude-thank-you:",
          "ts": "1654887025.837169",
          "thread_ts": "1654886631.995609",
          "edited": {
            "user": "U03J4EJ0CVA",
            "ts": "1654887084.000000"
          },
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "gratitude-thank-you",
              "count": 1,
              "users": [
                "U03J4EJ0CVA"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "doj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok. Yeah I do remember us talking about "
                    },
                    {
                      "type": "text",
                      "text": "s"
                    },
                    {
                      "type": "text",
                      "text": "eeding the data. I just didn’t update the graphic well enough. This is a good reminder thanks again:gratitude-thank-you:"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JEL0155X\u003e asked\n\u0026gt; Does the demo app provide examples for how to use an UndoManager with our persistent container?",
      "ts": "1654886870.001969",
      "thread_ts": "1654886870.001969",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 9,
      "latest_reply": "1654888914.787389",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "uXMm",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JEL0155X"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Does the demo app provide examples for how to use an UndoManager with our persistent container?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "8f13fe9b-0e51-4c03-8724-4e9f10102d85",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We don't have an example, but you can tell the viewContext on your container you want to use an undo manager, and you can set it to the same one your views \u0026amp; controllers are using",
          "ts": "1654886912.643839",
          "thread_ts": "1654886870.001969",
          "edited": {
            "user": "U03HJA0EJ1G",
            "ts": "1654886925.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4dLiu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We don't have an example, but you can tell the viewContext on your container you want to use an undo manager, and you can set it to the same one your views \u0026 controllers are using"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0b4ec2e1-c9b1-4f5d-954f-bd8f4d96b1d4",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "we don't track undo by default, but it's an option on NSManagedObjectContext",
          "ts": "1654886941.155569",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Mn0i",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "we don't track undo by default, but it's an option on NSManagedObjectContext"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "df7b5944-e7f3-4e0a-868b-f959d5988684",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "So basically, I would create an undo manager, register some undo functionality and then assign it to the context's optional `undoManager`?",
          "ts": "1654887007.124519",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CIm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So basically, I would create an undo manager, register some undo functionality and then assign it to the context's optional "
                    },
                    {
                      "type": "text",
                      "text": "undoManager",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "1ba6635f-d4cf-4483-ba12-766a538b28f8",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Would I have to make changes in some child context to allow undo/redo before saving the context/merging it back to the parent?",
          "ts": "1654887208.325139",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CnO3B",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Would I have to make changes in some child context to allow undo/redo before saving the context/merging it back to the parent?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e3e1aac2-3908-4d5b-9944-321cf04b89dc",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "NSManagedObjectContext registers its own undo actions if you set the manager",
          "ts": "1654888648.164639",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5z8YE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSManagedObjectContext registers its own undo actions if you set the manager"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3e294d80-a694-4deb-adf1-dade3d5cf368",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "a child context would have a separate undo manager if you want that view to have a separate undo stack",
          "ts": "1654888676.437649",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hMdx1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "a child context would have a separate undo manager if you want that view to have a separate undo stack"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7f58bbc7-2b1e-4e77-b5ee-c695b486bf4e",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Something like `context.undoManager = UndoManager()` is sufficient because the context will register actions?",
          "ts": "1654888842.323589",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xQnN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Something like "
                    },
                    {
                      "type": "text",
                      "text": "context.undoManager = UndoManager()",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is sufficient because the context will register actions?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f0bd0379-f45c-4138-870b-85ae543e4aca",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "yes",
          "ts": "1654888899.630779",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Akg3S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "yes"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c0f9d552-969a-4e87-a29d-71c4fa1039be",
          "type": "message",
          "user": "U03JEL0155X",
          "text": "Well that's convenient! :slightly_smiling_face:",
          "ts": "1654888914.787389",
          "thread_ts": "1654886870.001969",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03JELGNZA5"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DEm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Well that's convenient! "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JX7U3H4K\u003e asked\n\u0026gt; I'm going to migrate my app from Realm to CoreData.\n\u0026gt; \n\u0026gt; But currently I'm using the following technique: I have the separate Thread (singleton object) created for Realm Writing operations (I mean exactly Thread, to keep the same thread_id under the hood; not an OperationQueue).\n\u0026gt; \n\u0026gt; So, can I keep this technique for CoreData activities too, or it might not work properly this way?",
      "ts": "1654887025.500499",
      "thread_ts": "1654887025.500499",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 6,
      "latest_reply": "1654889415.140509",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "+nEZ",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JX7U3H4K"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I'm going to migrate my app from Realm to CoreData.\\n\\nBut currently I'm using the following technique: I have the separate Thread (singleton object) created for Realm Writing operations (I mean exactly Thread, to keep the same thread_id under the hood; not an OperationQueue).\\n\\nSo, can I keep this technique for CoreData activities too, or it might not work properly this way?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "d300fd6e-d881-4738-9aac-9c2a83d11200",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "You don't need to be so constrained with NSManagedObjectContext.  Each NSManagedObjectContext is (informally) an actor styled object with its own dispatch queue.",
          "ts": "1654887080.292769",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ay2BN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You don't need to be so constrained with NSManagedObjectContext.  Each NSManagedObjectContext is (informally) an actor styled object with its own dispatch queue."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "904573af-49ee-4cc6-a54f-427ce4a5bc7a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the NSPersistentStoreCoordinator manages a small database connection pool to facilitate concurrent operations",
          "ts": "1654887112.103049",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "S1ka",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the NSPersistentStoreCoordinator manages a small database connection pool to facilitate concurrent operations"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "de64056e-e24b-4d42-8d54-a86f99354f2a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "if you have some special application ordering logic that depends on serialization, I suppose CAN keep the same pattern",
          "ts": "1654887143.175009",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "lTz0N",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if you have some special application ordering logic that depends on serialization, I suppose CAN keep the same pattern"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "94d8d8a6-e857-4655-aeb7-6db65bbed576",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "but more commonly, folks just have at it, with a separate MOC for large background operations",
          "ts": "1654887168.342749",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "aN1S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but more commonly, folks just have at it, with a separate MOC for large background operations"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cd1aa1d3-2f1d-42c9-8cb2-397a50fe1f7e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "the `viewContext` is special and tied to the main thread.  You can perform writes here, but you obviously want to minimize those to user changes and not any kind of importing or background tasks which should all be done asynchronously with separate MOC",
          "ts": "1654887222.808299",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "white_check_mark",
              "count": 1,
              "users": [
                "U03JX7U3H4K"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "CLjk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the "
                    },
                    {
                      "type": "text",
                      "text": "viewContext",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is special and tied to the main thread.  You can perform writes here, but you obviously want to minimize those to user changes and not any kind of importing or background tasks which should all be done asynchronously with separate MOC"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a1cec16e-f56b-4e13-8e5d-3b27013378a8",
          "type": "message",
          "user": "U03JX7U3H4K",
          "text": "\u003c@U03HJA0EJ1G\u003e\nThanks for your answer!\n\nYeah I really see CoreData is enough smart system to handle multiple threads and contexts :slightly_smiling_face:\n\nMy original question was born just for spending less time for the codebase modification, and to keep the current logic as much as possible but change only the storage engine itself\n\n\u0026gt; if you have some special application ordering logic that depends on serialization, I suppose CAN keep the same pattern\nSo if I got you right, I can try keep my current pattern at least for the nearest refactoring sprint\n\nThanks again!",
          "ts": "1654889415.140509",
          "thread_ts": "1654887025.500499",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "fl/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "user",
                      "user_id": "U03HJA0EJ1G"
                    },
                    {
                      "type": "text",
                      "text": "\nThanks for your answer!\n\nYeah I really see CoreData is enough smart system to handle multiple threads and contexts "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": "\n\nMy original question was born just for spending less time for the codebase modification, and to keep the current logic as much as possible but change only the storage engine itself\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"if you have some special application ordering logic that depends on serialization, I suppose CAN keep the same pattern\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "\nSo if I got you right, I can try keep my current pattern at least for the nearest refactoring sprint\n\nThanks again!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMCT187R\u003e asked\n\u0026gt; Follow-up on a previous q: \"the others [processes] (eg widget) should respond to remote change notifications and persistent history to view imported changes.\" I believe widgets don't receive remote change notifications, to clarify, should the app be the one that responds to this notification and trigger the widget to reload (and since it's accessing the same database on disk, it will already have the updates applied right to show the changed data)?",
      "ts": "1654887081.023449",
      "thread_ts": "1654887081.023449",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 10,
      "latest_reply": "1654887587.621469",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "4ONo",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMCT187R"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Follow-up on a previous q: \\\"the others [processes] (eg widget) should respond to remote change notifications and persistent history to view imported changes.\\\" I believe widgets don't receive remote change notifications, to clarify, should the app be the one that responds to this notification and trigger the widget to reload (and since it's accessing the same database on disk, it will already have the updates applied right to show the changed data)?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "d4cbb01c-0bcb-4aac-9776-690285210fa3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "why can’t widgets get remote change notifications?",
          "ts": "1654887090.520429",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Vwo",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "why can’t widgets get remote change notifications?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9dff7ed8-69f5-4241-962c-7452798fa4ac",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Their code is not executing except when the entries have been exhausted and it needs a new timeline, once new entries are retrieved it is suspended again.",
          "ts": "1654887203.582819",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Ck9nV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Their code is not executing except when the entries have been exhausted and it needs a new timeline, once new entries are retrieved it is suspended again."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c70e68f2-5526-461f-aa59-9b1cf91e8219",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Ie your widget may not run or execute any code for a period such as a week (depends how many entities you provide)",
          "ts": "1654887271.352759",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "96e",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ie your widget may not run or execute any code for a period such as a week (depends how many entities you provide)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5cb09286-1ccb-4d49-aa93-f085249a8106",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I’m not sure what that means, but the widget process will get remote change notifications if the store has the option set.",
          "ts": "1654887286.629109",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "g62/M",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I’m not sure what that means, but the widget process will get remote change notifications if the store has the option set."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "20460d47-c6e8-4f1a-bbaf-afe4fcfc3dff",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "How or when it can respond to those is a widget lifecycle issue and not something we can really control.",
          "ts": "1654887304.927639",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "+RN",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "How or when it can respond to those is a widget lifecycle issue and not something we can really control."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "28f049d1-e030-4fe7-8bae-93eb900f4a27",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "They are non-launching though",
          "ts": "1654887315.292049",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4Je",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "They are non-launching though"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8cfc1637-26b8-4ada-96b4-67827d418eb8",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "So if the widget is not currently active it wont’ receive them. It sounds like you’re saying you can spawn your widget from the app?",
          "ts": "1654887338.088709",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0T4L",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "So if the widget is not currently active it wont’ receive them. It sounds like you’re saying you can spawn your widget from the app?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4c05dfdb-19bf-4228-9482-71bb585daa45",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "In that case a fetch request would pick up any missed data.",
          "ts": "1654887346.603299",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Gm/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In that case a fetch request would pick up any missed data."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8ac1a61a-2941-4556-94a5-8e58f88ca01e",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "It’s not clear to me what else you’re trying to do?",
          "ts": "1654887357.378769",
          "thread_ts": "1654887081.023449",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jhR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It’s not clear to me what else you’re trying to do?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d3705a85-5a38-405b-81a1-fde02ae24240",
          "type": "message",
          "user": "U03HMCT187R",
          "text": "Widgets are weird :sweat_smile: iOS basically just runs the code to get an array of entries then stops executing, then when it runs out (maybe a week later) it’ll asks for more, I’m not even sure the same process persists. But yes the app can tell iOS to reload the widget at any time, at which point it will start it up to get a new timeline of entries.",
          "ts": "1654887587.621469",
          "thread_ts": "1654887081.023449",
          "edited": {
            "user": "U03HMCT187R",
            "ts": "1654887630.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o5Eo",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Widgets are weird "
                    },
                    {
                      "type": "emoji",
                      "name": "sweat_smile",
                      "skin_tone": 0
                    },
                    {
                      "type": "text",
                      "text": " iOS basically just runs the code to get an array of entries then stops executing, then when it runs out (maybe a week later) it’ll asks for more, I’m not even sure the same process persists. But yes the app can tell iOS to reload the widget at any time, at which point it will start it up to get a new timeline of entries."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JENQA0TB\u003e asked\n\u0026gt; What's the best way to store dates in Core Data so that time zones can be maintained. A dictionary? A date field with a separate time zone field? Trying to avoid the situation where someone enters dates into the database then changes time zones and all the dates are now off by X Hours. ",
      "ts": "1654887358.958749",
      "thread_ts": "1654887358.958749",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 11,
      "latest_reply": "1654888585.358299",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "vfAU",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JENQA0TB"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"What's the best way to store dates in Core Data so that time zones can be maintained. A dictionary? A date field with a separate time zone field? Trying to avoid the situation where someone enters dates into the database then changes time zones and all the dates are now off by X Hours. \"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "a9863f87-adee-4038-811d-0573654351c5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "time is a matter of perspective.  human perspective",
          "ts": "1654887376.061709",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03JK9ZRJJJ"
              ]
            },
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03JK9ZRJJJ"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "gTSR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "time is a matter of perspective.  human perspective"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "71653853-9d1a-4a49-8749-7136d21056ee",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "We recommend storing the time as a timestamp, and focusing on the human representation of that time as a view problem, not a database problem",
          "ts": "1654887410.663829",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qce5=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We recommend storing the time as a timestamp, and focusing on the human representation of that time as a view problem, not a database problem"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "47ab90c0-dfc2-4440-a682-b4834166faa2",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "time zone is effectively a derivation based on the current user's locale",
          "ts": "1654887435.721679",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5DFn",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "time zone is effectively a derivation based on the current user's locale"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "24d79fef-3200-4f87-8ba7-cb2c13069219",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "and worse, the user might want to view other time zones",
          "ts": "1654887458.989859",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WPKt5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "and worse, the user might want to view other time zones"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e127dc67-3ed2-4a85-b93e-07354d19ab1e",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "for example, I'm planning a summer vacation ... elsewhere.",
          "ts": "1654887471.048789",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "LMse4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "for example, I'm planning a summer vacation ... elsewhere."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "840eef8c-9ae3-4758-8a59-a2d7c2f8f938",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "but my calendar shows me all my reservations in my current locale's time zone",
          "ts": "1654887486.218969",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tHf7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "but my calendar shows me all my reservations in my current locale's time zone"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "417fcb2a-7225-486d-9a36-7d9217c8aa9b",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "which is just weird, but ... what's a poor calendar to do ?",
          "ts": "1654887498.718849",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zx/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "which is just weird, but ... what's a poor calendar to do ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c6705cf6-7cee-4a6d-9821-b3ea17d5ff9f",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "if you have to store the time zone, I would definitely do it separately and treat it as \"disposable\" data.  When the user changes locales ,you can delete it all and recompute it from the timestamp as source of truth",
          "ts": "1654887575.136189",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OEmM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "if you have to store the time zone, I would definitely do it separately and treat it as \"disposable\" data.  When the user changes locales ,you can delete it all and recompute it from the timestamp as source of truth"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2616edde-3918-4fc8-9930-0749b09b9b74",
          "type": "message",
          "user": "U03JENQA0TB",
          "text": "Excellent. Thanks for the suggestions. Sometimes the time zones span across days (ie when travelling) and my customers get all confused and say “I had this entry for Saturday, but it’s now showing up on Sunday”.",
          "ts": "1654888386.472299",
          "thread_ts": "1654887358.958749",
          "edited": {
            "user": "U03JENQA0TB",
            "ts": "1654888411.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Q=KRH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Excellent. Thanks for the suggestions. Sometimes the time zones span across days (ie when travelling) and my customers get all confused and say “I had this entry for Saturday, but it’s now showing up on Sunday”."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ad4edf32-3e32-4d57-96ce-c543605369c7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "yeah, the data didn't change, the user's locale and expectations did",
          "ts": "1654888554.759259",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dJDXC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "yeah, the data didn't change, the user's locale and expectations did"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "371f052b-9626-4064-a021-66fa75d2c1f0",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "as a practical matter, you might need to cache persistently a denormalized copy of the time zone in the row for filtering or sorting",
          "ts": "1654888585.358299",
          "thread_ts": "1654887358.958749",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "jf8dC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "as a practical matter, you might need to cache persistently a denormalized copy of the time zone in the row for filtering or sorting"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HZ2VBE21\u003e asked\n\u0026gt; What's the best way to make a copy of your SQLite file into a single file for backup purposes, while the app is still in use?",
      "ts": "1654887504.062979",
      "thread_ts": "1654887504.062979",
      "is_starred": true,
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 9,
      "latest_reply": "1654913683.486329",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "x6hO0",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HZ2VBE21"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"What's the best way to make a copy of your SQLite file into a single file for backup purposes, while the app is still in use?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "f7b7f9ba-f120-4233-86a0-96f0ed8e84f9",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "\u003chttps://developer.apple.com/documentation/coredata/nspersistentstorecoordinator/3747536-replacepersistentstore|replacePersistentStore(at:destinationOptions:withPersistentStoreFrom:sourceOptions:type:)\u003e",
          "ts": "1654887526.278419",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "zUMb6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/nspersistentstorecoordinator/3747536-replacepersistentstore",
                      "text": "replacePersistentStore(at:destinationOptions:withPersistentStoreFrom:sourceOptions:type:)"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "63501e1a-a44b-48e6-a53d-ded1b552e96b",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "despite the name (replace) the destination doesn’t need to exist. once complete if you really need a single-file database you can use `sqlite3_wal_checkpoint` to roll the wal into the db",
          "ts": "1654887560.806309",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xz3w4",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "despite the name (replace) the destination doesn’t need to exist. once complete if you really need a single-file database you can use "
                    },
                    {
                      "type": "text",
                      "text": "sqlite3_wal_checkpoint",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to roll the wal into the db"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "eb6a105a-ced5-4ab1-9b86-e1a0416e74c8",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "note that you’re out of warranty with this, the database won’t include things like external data references or SQLite user-defined functions maintained by Core Data or anything like that",
          "ts": "1654887619.715799",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eCA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "note that you’re out of warranty with this, the database won’t include things like external data references or SQLite user-defined functions maintained by Core Data or anything like that"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "511e9911-f2a6-47e4-bc6b-5a2889b5e2a3",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "the real point here, which I can’t stress enough, is to use Core Data/SQLite API to interact with the database—FileManager and filesystem operations don’t respect the database’s locks and can leave you with widespread corruption if your timing is unlucky enough.",
          "ts": "1654887886.936169",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "rRO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "the real point here, which I can’t stress enough, is to use Core Data/SQLite API to interact with the database—FileManager and filesystem operations don’t respect the database’s locks and can leave you with widespread corruption if your timing is unlucky enough."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ab9f8b8a-65df-41f3-8245-6b0bf522c122",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Are you saying that the 'replacePersistentStore' API doesn't respect database locks etc, and can lead to corruption? Or do you mean that accessing the files directly (without this API) would lead to problems?",
          "ts": "1654887993.914829",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "MGZgd",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Are you saying that the 'replacePersistentStore' API doesn't respect database locks etc, and can lead to corruption? Or do you mean that accessing the files directly (without this API) would lead to problems?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b2bc821d-3e73-4664-a422-8112b6ff1c08",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "I just want to do this safely, so that we have a backup of the data at any point (even if app is in use in the foreground, the background etc).",
          "ts": "1654888094.202549",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "8JxtY",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I just want to do this safely, so that we have a backup of the data at any point (even if app is in use in the foreground, the background etc)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b09932ce-3ba0-43e1-afd7-3f3e5cc206c9",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "The latter. Core Data and SQLite’s APIs are safe by design and you should use them :slightly_smiling_face:",
          "ts": "1654888416.537229",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HZ2VBE21"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Z1V8",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The latter. Core Data and SQLite’s APIs are safe by design and you should use them "
                    },
                    {
                      "type": "emoji",
                      "name": "slightly_smiling_face",
                      "skin_tone": 0
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c36d70fc-785d-4ff4-8bc2-b1f8ff809550",
          "type": "message",
          "user": "U03HZ2VBE21",
          "text": "Thanks. One final question about this: is the 'replace' API better to make a copy, or  'migratePersistentStore'? Are they mostly the same (except I guess migrate removes the store from the coordinator as well)?",
          "ts": "1654888585.643879",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4ve/6",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks. One final question about this: is the 'replace' API better to make a copy, or  'migratePersistentStore'? Are they mostly the same (except I guess migrate removes the store from the coordinator as well)?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6eb82a66-0c23-493f-b784-129b633dae61",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "`migratePersistentStore(…)` is designed for when you want to change the store, if you’re just looking to make a copy you’re better off with `replace…`",
          "ts": "1654913683.486329",
          "thread_ts": "1654887504.062979",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mmu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "migratePersistentStore(…)",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is designed for when you want to change the store, if you’re just looking to make a copy you’re better off with "
                    },
                    {
                      "type": "text",
                      "text": "replace…",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HMBP2FD5\u003e asked\n\u0026gt; Ben T mentioned earlier that heavy migrations load the entire dataset into memory. But maybe I'm misunderstanding. The heavy migration code pattern seems to lend itself to efficiently handling one entity and even one attribute at a time. Am I understanding that correctly that a multi-gigabyte dataset would be loaded into memory for a heavy migration?  Or where are best practices to handle heavy migrations with large datasets that simply can't fit in memory?",
      "ts": "1654887684.408739",
      "thread_ts": "1654887684.408739",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 7,
      "latest_reply": "1654888373.476809",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "a4j",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HMBP2FD5"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Ben T mentioned earlier that heavy migrations load the entire dataset into memory. But maybe I'm misunderstanding. The heavy migration code pattern seems to lend itself to efficiently handling one entity and even one attribute at a time. Am I understanding that correctly that a multi-gigabyte dataset would be loaded into memory for a heavy migration?  Or where are best practices to handle heavy migrations with large datasets that simply can't fit in memory?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "00388683-89ed-4c5f-96fe-e4a9a6d67a09",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "It's extremely difficult to migrate one entity at a time in different transactions without risking breaking relationships.",
          "ts": "1654887721.936239",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "point_up::skin-tone-2",
              "count": 1,
              "users": [
                "U03HK7797D0"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xyG+D",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It's extremely difficult to migrate one entity at a time in different transactions without risking breaking relationships."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "32c172ef-9097-4ce7-a10f-239af408ce9d",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "At the end of the day, heavyweight migration can't offer the same performance and reliability as a single database transaction.  It should be self evident that looping over every row to apply a custom in memory transformation just can't scale as well as ALTER TABLE",
          "ts": "1654887827.925409",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "35F",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "At the end of the day, heavyweight migration can't offer the same performance and reliability as a single database transaction.  It should be self evident that looping over every row to apply a custom in memory transformation just can't scale as well as ALTER TABLE"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c16e86b8-0aeb-4c64-86a5-1e751ce0a291",
          "type": "message",
          "user": "U03HMBP2FD5",
          "text": "That makes complete sense that a heavyweight migration is less performant and that it can only be done while not be used. I’m gathering here that it is discouraged not simply for its complexity and inefficiency, but also because it is not reliable and it requires the entire dataset loaded in memory. This is still really helpful to learn--thank you!",
          "ts": "1654888143.234439",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "qsNHA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That makes complete sense that a heavyweight migration is less performant and that it can only be done while not be used. I’m gathering here that it is discouraged not simply for its complexity and inefficiency, but also because it is not reliable and it requires the entire dataset loaded in memory. This is still really helpful to learn--thank you!"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "006f74db-3f9f-4bf4-b20a-42e625042864",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "it's just as reliable, but it achieves that by loading everything into memory",
          "ts": "1654888181.939019",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xf60",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "it's just as reliable, but it achieves that by loading everything into memory"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8ae5ca30-8b79-4513-92a5-fe2f899f400a",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "NOT loading everything into memory would require splitting up the transactions which would introduce reliability challenges so we don't",
          "ts": "1654888213.192739",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "=yDcm",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NOT loading everything into memory would require splitting up the transactions which would introduce reliability challenges so we don't"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f69c0c02-af06-468b-99fb-2e4403aa614e",
          "type": "message",
          "user": "U03HMBP2FD5",
          "text": "okay that’s useful. I’ll shift to a multi-step lightweight migrations in the future",
          "ts": "1654888237.821379",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "NsUy",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "okay that’s useful. I’ll shift to a multi-step lightweight migrations in the future"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a98db298-ea7d-4b87-a1a6-9e6227b5cc89",
          "type": "message",
          "user": "U03HMBP2FD5",
          "text": "Ben, you’ve been prolific in this lounge this week--we really appreciate your sharing your insights",
          "ts": "1654888373.476809",
          "thread_ts": "1654887684.408739",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WTh",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ben, you’ve been prolific in this lounge this week--we really appreciate your sharing your insights"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JML9Q51T\u003e asked\n\u0026gt; If order matters for a to-many relationship (where we'd normally use Array in Swift), is it preferable to mark the arrangement as Ordered in the core data editor (thus getting NSOrderedSet), or keep using NSSet and add an `index` attribute manually?",
      "ts": "1654888261.585679",
      "thread_ts": "1654888261.585679",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 1,
      "latest_reply": "1654888333.486949",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "9oA",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JML9Q51T"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"If order matters for a to-many relationship (where we'd normally use Array in Swift), is it preferable to mark the arrangement as Ordered in the core data editor (thus getting NSOrderedSet), or keep using NSSet and add an `index` attribute manually?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "c6beafb5-95d5-46e8-9307-ea9493b1c9d6",
          "type": "message",
          "user": "U03HK7797D0",
          "text": "It Depends™? For most things you’re probably going to want to sort by a property anyway (in which case relationship ordering isn’t helping you much) but there are some cases where ordered relationships make sense, like if you want a user-defined sort order for a playlist",
          "ts": "1654888333.486949",
          "thread_ts": "1654888261.585679",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "x6nH",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "It Depends™? For most things you’re probably going to want to sort by a property anyway (in which case relationship ordering isn’t helping you much) but there are some cases where ordered relationships make sense, like if you want a user-defined sort order for a playlist"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03K7L2F51P\u003e asked\n\u0026gt; In my production app, changes don't sync between devices while both are running the app. I must quit and relaunch the app on one device for the change from the other device to appear. I've verified that the app *does* have APS environment in the entitlements, and the remote-notifications background mode in the capabilities.\n\u0026gt; \n\u0026gt; Any suggestions of what else I should look at?\n\u0026gt; FB10144431",
      "ts": "1654888638.610459",
      "thread_ts": "1654888638.610459",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 15,
      "latest_reply": "1654889492.407559",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "IQm+g",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03K7L2F51P"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"In my production app, changes don't sync between devices while both are running the app. I must quit and relaunch the app on one device for the change from the other device to appear. I've verified that the app *does* have APS environment in the entitlements, and the remote-notifications background mode in the capabilities.\\n\\nAny suggestions of what else I should look at?\\nFB10144431\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "bb764d36-018a-4136-9a4a-4830d70d430b",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Your application is using the development APS environment.",
          "ts": "1654888651.366389",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OtO",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Your application is using the development APS environment."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "987b0d38-a2be-4985-90a4-e9d4e9d000a9",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I would try using Production and see if that helps",
          "ts": "1654888664.677729",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "P03=o",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would try using Production and see if that helps"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "bedb2b3c-29a1-47e3-b52d-28a4efeb8f0a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "neither of your devices are getting push notifications.",
          "ts": "1654888670.859479",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "2xOMk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "neither of your devices are getting push notifications."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f799761d-0d3e-4f84-881e-df16a6a31ed1",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u003chttps://developer.apple.com/documentation/bundleresources/entitlements/aps-environment?language=objc\u003e",
          "ts": "1654888683.669859",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "INK",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/bundleresources/entitlements/aps-environment?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b2bc1f88-30ca-489e-ac25-d8f81b699e77",
          "type": "message",
          "user": "U03K7L2F51P",
          "text": "I did change the APS environment value to `production` and then installed on two devices, same problem",
          "ts": "1654888926.498039",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "WYHR",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I did change the APS environment value to "
                    },
                    {
                      "type": "text",
                      "text": "production",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " and then installed on two devices, same problem"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5f3ee1b4-4ebc-436e-93ad-b44c94a7e4c6",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Do you have a set of fresh sysdiagnoses with that change?",
          "ts": "1654889007.553879",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "hIBL",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Do you have a set of fresh sysdiagnoses with that change?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "678f9fbb-597f-4644-835c-9cae45c30499",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "In the ones you uploaded to the feedback it’s still set to development.",
          "ts": "1654889021.687509",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "m0nQx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "In the ones you uploaded to the feedback it’s still set to development."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "5d42fca2-6370-4881-bdae-9f7ae861eba4",
          "type": "message",
          "user": "U03K7L2F51P",
          "text": "I thought those were the correct ones. Sorry about that. I'll see if I can generate new ones.\nAside from the APS environment value, is there anything else you'd recommend I look at?",
          "ts": "1654889108.123199",
          "thread_ts": "1654888638.610459",
          "edited": {
            "user": "U03K7L2F51P",
            "ts": "1654889144.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "o9W4J",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I thought those were the correct ones. Sorry about that. I'll see if I can generate new ones.\nAside from the APS environment value, is there anything else you'd recommend I look at?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "42f3ac00-0c47-423b-9d7f-a0665378d224",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "These are the logs that tell us what environment your app is entitled for:\n\n``````",
          "ts": "1654889143.774719",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZHt",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "These are the logs that tell us what environment your app is entitled for:\n\n"
                    }
                  ]
                },
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a627255a-4f01-4efd-9525-92054ce45aab",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "```2022-06-09 17:34:23.029452-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Running in an app and choosing app strategy\n2022-06-09 17:34:23.029837-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:CK] APS environment entitlement is development\n2022-06-09 17:34:23.029842-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Using push environment development\n2022-06-09 17:34:23.030280-0600 0xd08      Info        0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Init notification listener \u0026lt;CKNotificationListener: 0x281d356d0; strategy=1, environment=development\u0026gt;```",
          "ts": "1654889146.861029",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03K7L2F51P"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ZLr7q",
              "elements": [
                {
                  "Type": "rich_text_preformatted",
                  "Raw": "{\"type\":\"rich_text_preformatted\",\"elements\":[{\"type\":\"text\",\"text\":\"2022-06-09 17:34:23.029452-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Running in an app and choosing app strategy\\n2022-06-09 17:34:23.029837-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:CK] APS environment entitlement is development\\n2022-06-09 17:34:23.029842-0600 0xd08      Debug       0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Using push environment development\\n2022-06-09 17:34:23.030280-0600 0xd08      Info        0x0                  259    0    Vacation Planner: (CloudKit) [com.apple.cloudkit:NotificationListener] Init notification listener \u003cCKNotificationListener: 0x281d356d0; strategy=1, environment=development\u003e\"}],\"border\":0}"
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "db9ac96d-df03-4cbf-a086-4852252d47a4",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If you believe you set the entitlement correctly, but still see that the notification listener is working the development environment, you can attach your app for us to take a look.",
          "ts": "1654889173.730259",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "bsH1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If you believe you set the entitlement correctly, but still see that the notification listener is working the development environment, you can attach your app for us to take a look."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ade66789-a74d-4550-ac22-00a4227c7a0f",
          "type": "message",
          "user": "U03K7L2F51P",
          "text": "Attach the app to the Feedback? And how exactly would I attach it?",
          "ts": "1654889229.949729",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "RO9g",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Attach the app to the Feedback? And how exactly would I attach it?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c1d7d975-94d9-4b96-85ce-bf968419efe3",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Yeah, I usually right click on the app’s directory, i.e. the parent directory of your xcode project, and click Compress. Then attach the generated zip file to the feedback report.",
          "ts": "1654889385.750079",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Mlm/",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah, I usually right click on the app’s directory, i.e. the parent directory of your xcode project, and click Compress. Then attach the generated zip file to the feedback report."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f2724cf1-406f-4c56-ba24-c679aff6c42c",
          "type": "message",
          "user": "U03K7L2F51P",
          "text": "Ok, good to know. Thanks.",
          "ts": "1654889414.725449",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "DMm/U",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok, good to know. Thanks."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9f77077a-e6b0-4218-a01b-e80221f105b8",
          "type": "message",
          "user": "U03K7L2F51P",
          "text": "I won't be able to upload those new sysdiagnoses today, so I'll just plan on continuing this all through my Feedback report. Thanks for your help \u003c@U03HMJ2P5MJ\u003e!",
          "ts": "1654889492.407559",
          "thread_ts": "1654888638.610459",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1",
              "count": 1,
              "users": [
                "U03HMJ2P5MJ"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "dxf",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I won't be able to upload those new sysdiagnoses today, so I'll just plan on continuing this all through my Feedback report. Thanks for your help "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HMJ2P5MJ"
                    },
                    {
                      "type": "text",
                      "text": "!"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "03226f5c-8ac0-4f8f-a279-b650d829088d",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Hi everyone.  Thanks for all your questions.  We tried to leave no one behind.  We are wrapping up, but can probably handle a couple more.",
      "ts": "1654889312.629669",
      "team": "T031SG5MZ7U",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "8rgI",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Hi everyone.  Thanks for all your questions.  We tried to leave no one behind.  We are wrapping up, but can probably handle a couple more."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03JML9Q51T\u003e asked\n\u0026gt; Suggestions for enumerating to-many children in a type safe way? e.g.:\n\u0026gt; ```\n\u0026gt;  @NSManaged public var children: NSOrderedSet!\n\u0026gt; ForEach(item.children) { /* need typed Child here */  }\n\u0026gt; ```",
      "ts": "1654889419.681209",
      "thread_ts": "1654889419.681209",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 18,
      "latest_reply": "1654890909.181099",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "GxE9",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03JML9Q51T"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Suggestions for enumerating to-many children in a type safe way? e.g.:\\n```\\n @NSManaged public var children: NSOrderedSet!\\nForEach(item.children) { \\/* need typed Child here *\\/  }\\n```\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "54a77961-bc35-4983-a87f-9cee6b817059",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "NSOrderedSet takes a generic.  Is NSOrderedSet\u0026lt;Child\u0026gt; not working ?",
          "ts": "1654889460.798149",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "w3/R",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "NSOrderedSet takes a generic.  Is NSOrderedSet\u003cChild\u003e not working ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c7c4decd-7819-4b59-8cb4-e8ef37132828",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "or are you asking about the type safety for an inheritance hierarchy where child might be one of many types ?",
          "ts": "1654889484.133209",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VCw",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "or are you asking about the type safety for an inheritance hierarchy where child might be one of many types ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "25ba7663-537b-4ac7-a817-b8cf07ab30ee",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Swift generics aren't super pleased with covariance",
          "ts": "1654889496.732969",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7wgC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Swift generics aren't super pleased with covariance"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "e83e18b1-0440-4f18-9541-692db982f9dd",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "I was unaware of `NSOrderedSet` generics. Can we change the generated attributes to this: `@NSManaged public var children: NSOrderedSet\u0026lt;Child\u0026gt;` ?",
          "ts": "1654889549.587379",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9=KC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I was unaware of "
                    },
                    {
                      "type": "text",
                      "text": "NSOrderedSet",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " generics. Can we change the generated attributes to this: "
                    },
                    {
                      "type": "text",
                      "text": "@NSManaged public var children: NSOrderedSet\u003cChild\u003e",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " ?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "78311183-d63b-48f4-9337-fd45b8cd35ae",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Please file a feedback report.  You should be able to cast it",
          "ts": "1654889592.190819",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "GgEV0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Please file a feedback report.  You should be able to cast it"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "baeffef6-345d-474c-94f5-a572525a0bac",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "Sorry, but casting to a `NSOrderedSet\u0026lt;Child\u0026gt;` is not working: `\"Cannot specialize non-generic type 'NSOrderedSet'\"`",
          "ts": "1654889727.905469",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5cu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Sorry, but casting to a "
                    },
                    {
                      "type": "text",
                      "text": "NSOrderedSet\u003cChild\u003e",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " is not working: "
                    },
                    {
                      "type": "text",
                      "text": "\"Cannot specialize non-generic type 'NSOrderedSet'\"",
                      "style": {
                        "code": true
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "908f120a-3784-427c-930e-2115f89df8ba",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Neat.",
          "ts": "1654889782.093609",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "6dmR2",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Neat."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "312bf901-f8a5-4d45-84ac-6a8537b106ea",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "file a bug report.  It supports generics in ObjC but apparently not Swift",
          "ts": "1654889811.096919",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "0tId",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "file a bug report.  It supports generics in ObjC but apparently not Swift"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "2643d056-1942-4aec-9995-c4fbeb568875",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "I see lots of people use a computed var to cast `NSSet` to `Set\u0026lt;Child\u0026gt;` for easier typed access. Do we lose out on any `NSSet` faulting benefits by doing that? \u003c@U03HK7797D0\u003e mentioned earlier that `Set` eagerly loads all values.",
          "ts": "1654889976.015779",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "eyKaa",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I see lots of people use a computed var to cast "
                    },
                    {
                      "type": "text",
                      "text": "NSSet",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " to "
                    },
                    {
                      "type": "text",
                      "text": "Set\u003cChild\u003e",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " for easier typed access. Do we lose out on any "
                    },
                    {
                      "type": "text",
                      "text": "NSSet",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " faulting benefits by doing that? "
                    },
                    {
                      "type": "user",
                      "user_id": "U03HK7797D0"
                    },
                    {
                      "type": "text",
                      "text": " mentioned earlier that "
                    },
                    {
                      "type": "text",
                      "text": "Set",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": " eagerly loads all values."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6d8f8a75-fccf-4e7a-8ad3-d48932b070c5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Yes, casting from a reference type to a value type will defeat faulting",
          "ts": "1654890684.234449",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "AN=",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yes, casting from a reference type to a value type will defeat faulting"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "672383e4-427c-48c5-87b2-4c8bf8c65860",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "If the relationships are small (eg the number of elements, not the size of each element) then it may be okay",
          "ts": "1654890725.086759",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "iwKT",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If the relationships are small (eg the number of elements, not the size of each element) then it may be okay"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "785706e2-bb89-40b6-a36e-89d6e640a17c",
          "type": "message",
          "user": "U03JML9Q51T",
          "text": "Does an alternative exist for Swift?",
          "ts": "1654890753.856689",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "7cC",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Does an alternative exist for Swift?"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "40ad282c-60ce-49f0-a09a-55d0b3c62fd7",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "faulting occurs at several layers, so just because we have to preload the identities of all the related objects, doesn't mean we fetch the MO elements themselves",
          "ts": "1654890777.758469",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "IglIv",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "faulting occurs at several layers, so just because we have to preload the identities of all the related objects, doesn't mean we fetch the MO elements themselves"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "70cda895-43a0-4299-98c3-634b0ca2c5fe",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Swift doesn't like futures, so no.",
          "ts": "1654890790.687479",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yp9GA",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Swift doesn't like futures, so no."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "415a65b8-9309-43a9-832b-a9ec05bdba2c",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "Set and Array are specifically intended as value types",
          "ts": "1654890821.524969",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "YawD0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Set and Array are specifically intended as value types"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8f471a80-b98f-4044-bbfd-538cb7ec6cba",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "a Future is a reference type",
          "ts": "1654890828.880059",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "XlM",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "a Future is a reference type"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "645cd60d-c42c-4aa5-9b4a-4fbc67068a10",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "To manage this with a desire for Set\u0026lt;Child\u0026gt; you could be more careful with using setFetchBatchSize",
          "ts": "1654890867.387069",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "i0V",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "To manage this with a desire for Set\u003cChild\u003e you could be more careful with using setFetchBatchSize"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "6d52f5f4-1c28-4f3d-9778-72b5155aacc5",
          "type": "message",
          "user": "U03HJA0EJ1G",
          "text": "we slice and dice the object graph in several ways, so if you want to preload all the related objects, you'd need to take a little more care with the batch sizes to offset that",
          "ts": "1654890909.181099",
          "thread_ts": "1654889419.681209",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "4m3x",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "we slice and dice the object graph in several ways, so if you want to preload all the related objects, you'd need to take a little more care with the batch sizes to offset that"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03J4D1FEP6\u003e asked\n\u0026gt; My app is using NSPersistentCloudKitContainer. I want to ensure that my mental model is reasonably in sync with what actually occurs. \n\u0026gt; \n\u0026gt; A) When a new device is set up, and syncs the data from the CloudKit, is it more akin to synching in the current state of the objects in CloudKit or more akin to synching in the complete history of changes to those objects? \n\u0026gt; \n\u0026gt; B) If it's the complete history of each change being synced, are changes pruned that are later reversed? Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up? \n\u0026gt; \n\u0026gt; C) Is the situation different for a sync to an existing install with most of the data?",
      "ts": "1654889440.205119",
      "thread_ts": "1654889440.205119",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 25,
      "latest_reply": "1654890619.022379",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "ASD",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03J4D1FEP6"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"My app is using NSPersistentCloudKitContainer. I want to ensure that my mental model is reasonably in sync with what actually occurs. \\n\\nA) When a new device is set up, and syncs the data from the CloudKit, is it more akin to synching in the current state of the objects in CloudKit or more akin to synching in the complete history of changes to those objects? \\n\\nB) If it's the complete history of each change being synced, are changes pruned that are later reversed? Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up? \\n\\nC) Is the situation different for a sync to an existing install with most of the data?\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "b7e3e4b3-a178-4440-96e9-930954349d0a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "We um… reserve the right to choose.",
          "ts": "1654889450.868419",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "raised_hands",
              "count": 1,
              "users": [
                "U03HVDY9F2A"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "tTtH0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We um… reserve the right to choose."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "15e89ace-01d5-4b21-9287-897b4ac0420e",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "I love it.",
          "ts": "1654889478.133179",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "OsWt7",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I love it."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "cd198c99-91d4-4c6d-be83-e869b899f19e",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Generally we’ll “do as little work as possible to make sure things are consistent / correct.”",
          "ts": "1654889516.028129",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "FXDV",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Generally we’ll “do as little work as possible to make sure things are consistent / correct.”"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "a6c625a0-ac2a-425b-9207-081c8a1fa3e4",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "But, device conditions, events on the server, and the structure of your data influence that.",
          "ts": "1654889543.989009",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xS5",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "But, device conditions, events on the server, and the structure of your data influence that."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "b722791d-63bc-4af6-b2f1-ca2302dbfaed",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up?\nThis is definitely possible, especially with devices active at the same time. Under ideal conditions we can sync end to end in less than a second, so it is very possible for devices to see intermediate state during a live session of work.",
          "ts": "1654889675.480059",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "mwgTR",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up?\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is definitely possible, especially with devices active at the same time. Under ideal conditions we can sync end to end in less than a second, so it is very possible for devices to see intermediate state during a live session of work."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "610c8a94-41d5-47bf-9796-7be9e5524372",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You can tune this to some extent with your calls to `save`, but that naturally contends with the user’s notion of “persisted”, i.e. how often they press `cmd+s`.",
          "ts": "1654889708.297689",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "L+Ipz",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can tune this to some extent with your calls to "
                    },
                    {
                      "type": "text",
                      "text": "save",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": ", but that naturally contends with the user’s notion of “persisted”, i.e. how often they press "
                    },
                    {
                      "type": "text",
                      "text": "cmd+s",
                      "style": {
                        "code": true
                      }
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f4931720-1578-4cee-a039-d58e8fdc7a29",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "\u0026gt; Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up?\nI was thinking more about an object created two months ago on another device, deleted a month ago, and I’m now observing what happens when a new device is set up with a very large dataset, e.g., where leaving the app running for 8+ hours or days there is still data being synched in.",
          "ts": "1654889747.648909",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "pRz",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"Or might I, for instance, see at the destination that an object is created and then deleted again later due to a historical deletion of that object being synced up?\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I was thinking more about an object created two months ago on another device, deleted a month ago, and I’m now observing what happens when a new device is set up with a very large dataset, e.g., where leaving the app running for 8+ hours or days there is still data being synched in."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9c320005-d198-4c4c-9fab-81e354020aa0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt; I was thinking more about an object created two months ago on another device, deleted a month ago\nThat’s not really the critical question. The question is when does the delete sync relative to creation.\n\nIf the creation was uploaded, but the device went offline before syncing the delete, no one heard about it. If a user powers it up and things sync, all of a sudden its gone.",
          "ts": "1654889783.884869",
          "thread_ts": "1654889440.205119",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654889831.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ip1Ws",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"I was thinking more about an object created two months ago on another device, deleted a month ago\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "That’s not really the critical question. The question is when does the delete sync relative to creation.\n\nIf the creation was uploaded, but the device went offline before syncing the delete, no one heard about it. If a user powers it up and things sync, all of a sudden its gone."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "9d1f5998-984d-4cb4-a2df-211c2a4491c8",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u0026gt;  and I’m now observing what happens when a new device is set up with a very large dataset, e.g., where leaving the app running for 8+ hours or days there is still data being synched in.\nI shipped a 10GB test in the sample app this year. It takes about 20 minutes to process, but that’s because it’s mostly images and a small number of records.",
          "ts": "1654889875.826039",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "xT3lX",
              "elements": [
                {
                  "Type": "rich_text_quote",
                  "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\" and I\\u2019m now observing what happens when a new device is set up with a very large dataset, e.g., where leaving the app running for 8+ hours or days there is still data being synched in.\"}]}"
                },
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I shipped a 10GB test in the sample app this year. It takes about 20 minutes to process, but that’s because it’s mostly images and a small number of records."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "7f5addd2-10f2-4287-9ed2-d4f3bd0c5ceb",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "CloudKit allow us to export 400 records at a time, and generally they are batched down in batches of 200.",
          "ts": "1654889893.439909",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "HpFXk",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "CloudKit allow us to export 400 records at a time, and generally they are batched down in batches of 200."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "52def84d-e8c0-4267-b610-b1d419b33fde",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Those limits are subject to change, but the math is pretty straightforward. We expect that under ideal conditions you’re paying 1-2s per operation of end to end latency. Or about 83 minutes per million records.",
          "ts": "1654889942.973319",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Q5dP",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Those limits are subject to change, but the math is pretty straightforward. We expect that under ideal conditions you’re paying 1-2s per operation of end to end latency. Or about 83 minutes per million records."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "17b308ed-efa5-45c7-b579-ba781b691c5e",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "Hmm. Then it sounds like I need to profile a bit more what is going on here.",
          "ts": "1654889960.654239",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "JU5rE",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Hmm. Then it sounds like I need to profile a bit more what is going on here."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "de2a5a62-871b-4030-9700-2791038ffa9c",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Maybe, we can help with that via feedback reports with your app (or a test app) and a representative data set.",
          "ts": "1654890002.853829",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Uj557",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Maybe, we can help with that via feedback reports with your app (or a test app) and a representative data set."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "209fa7f6-35a2-4cb0-b1c9-dcdebcf9c59f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "\u003chttps://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud?language=objc\u003e",
          "ts": "1654890022.000769",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "vMdL1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "link",
                      "url": "https://developer.apple.com/documentation/coredata/synchronizing_a_local_store_to_the_cloud?language=objc",
                      "text": ""
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d4d86ad8-5599-4167-b685-6816f0eac969",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "The update to the sample app this year includes an end to end unit test that uploads / downloads generated data",
          "ts": "1654890040.982489",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "kCRF",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "The update to the sample app this year includes an end to end unit test that uploads / downloads generated data"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "c938d831-9d76-4756-aa83-1893f242be54",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "I would start there for profiling NSPersistentCloudKitContainer, you can run it from instruments.",
          "ts": "1654890054.463319",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "P1S",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "I would start there for profiling NSPersistentCloudKitContainer, you can run it from instruments."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "02414182-74fb-4761-b82d-fecdd0bff234",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "This is my own real data from my own use of the app that I am testing with. The container is 3Gb, much of that by size being image assets but the transaction volume would be mostly changes in small entities over four+ years of use (though much of that before turning on persistent history tracking).",
          "ts": "1654890062.948239",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3Tx",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "This is my own real data from my own use of the app that I am testing with. The container is 3Gb, much of that by size being image assets but the transaction volume would be mostly changes in small entities over four+ years of use (though much of that before turning on persistent history tracking)."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4542cfaf-73f2-45bd-be73-4329e1989a4d",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "Yeah that doesn’t sound scary",
          "ts": "1654890107.650209",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "c3b",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Yeah that doesn’t sound scary"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "3ffa7c55-8400-4ca0-ad45-f4f2e77e9285",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If processing the transaction history becomes problematic you can prune it after a successful NSPersistentCloudKitContainerEvent of type Export.",
          "ts": "1654890152.161359",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "5t03",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If processing the transaction history becomes problematic you can prune it after a successful NSPersistentCloudKitContainerEvent of type Export."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "74555916-1809-42c8-a670-41f3a9de035a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "We generally advise folks keep around 1 year of history as a minimum bar",
          "ts": "1654890166.851349",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-3",
              "count": 1,
              "users": [
                "U03J4D1FEP6"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "yjb",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "We generally advise folks keep around 1 year of history as a minimum bar"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "0cc44ac3-c70b-4332-8d85-1db55955d186",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "Ok I will look into it. Will start with putting some local profiling so I can document just how many objects haven’t synced. Coming across one entity that doesn’t have an associated image asset, it’s hard to know what else is missing or not initially of course.",
          "ts": "1654890170.764779",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "9/7k",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok I will look into it. Will start with putting some local profiling so I can document just how many objects haven’t synced. Coming across one entity that doesn’t have an associated image asset, it’s hard to know what else is missing or not initially of course."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "18ce22fe-95e0-49c1-bd1c-3807358d0371",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "If this is your own app, you can pull the app container off different devices and “just diff the store”",
          "ts": "1654890211.119889",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Mhfgj",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "If this is your own app, you can pull the app container off different devices and “just diff the store”"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "01bb9368-06f2-4df8-adb9-429c6fb6bce0",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "i.e. write some code to traverse it and see what’s missing where.",
          "ts": "1654890219.166209",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "reactions": [
            {
              "name": "+1::skin-tone-3",
              "count": 1,
              "users": [
                "U03J4D1FEP6"
              ]
            }
          ],
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "R3a4c",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "i.e. write some code to traverse it and see what’s missing where."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "4155d579-7efd-4563-9167-02b762b6670a",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "With a sysdiagnose and some store files we can usually tell why.",
          "ts": "1654890227.372219",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "ex1",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "With a sysdiagnose and some store files we can usually tell why."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "ac6c38a6-d061-44d8-82c4-3b9c272eb333",
          "type": "message",
          "user": "U03J4D1FEP6",
          "text": "Thanks for your help on this.",
          "ts": "1654890619.022379",
          "thread_ts": "1654889440.205119",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "R7K",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Thanks for your help on this."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HT20UKFZ\u003e asked\n\u0026gt; There is a almost similar question but I wasn't clear on how to apply it so sorry for the duplication. I like to have a clear separation between my form using a struct and perform validations transforms , calcs etc. before creating a NSManagedObject that could end up being accidentally saved. \n\u0026gt; \n\u0026gt; For example if I am adding an Account ,I want to create a struct of type Account and then once its validated I create the actually Account NSManaged object in the managed context and save it. Is there a best practice for this? I have checked the child contexts as a option but seems overkill",
      "ts": "1654890634.097249",
      "thread_ts": "1654890634.097249",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "reply_count": 4,
      "latest_reply": "1654890908.107439",
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "zMG",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "user",
                  "user_id": "U03HT20UKFZ"
                },
                {
                  "type": "text",
                  "text": " asked\n"
                }
              ]
            },
            {
              "Type": "rich_text_quote",
              "Raw": "{\"type\":\"rich_text_quote\",\"elements\":[{\"type\":\"text\",\"text\":\"There is a almost similar question but I wasn't clear on how to apply it so sorry for the duplication. I like to have a clear separation between my form using a struct and perform validations transforms , calcs etc. before creating a NSManagedObject that could end up being accidentally saved. \\n\\nFor example if I am adding an Account ,I want to create a struct of type Account and then once its validated I create the actually Account NSManaged object in the managed context and save it. Is there a best practice for this? I have checked the child contexts as a option but seems overkill\"}]}"
            }
          ]
        }
      ],
      "slackdump_thread_replies": [
        {
          "client_msg_id": "16708ce1-f34d-4803-8f2c-51fc6ab85182",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "For this type of use case child contexts are vastly preferable to reinventing your model as a struct.",
          "ts": "1654890653.810819",
          "thread_ts": "1654890634.097249",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "VFD",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For this type of use case child contexts are vastly preferable to reinventing your model as a struct."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "f72f26f4-9dcd-4804-b2fb-8036606dba74",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "For one, you can encode a number of validation rules in your model, and the context will apply them at save time.",
          "ts": "1654890671.744409",
          "thread_ts": "1654890634.097249",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "Mx0",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "For one, you can encode a number of validation rules in your model, and the context will apply them at save time."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "8bb3b6fc-3c4f-457d-920b-b6718a62767f",
          "type": "message",
          "user": "U03HMJ2P5MJ",
          "text": "You can throw the child context away if needed, and additionally you get undo manager integration for “free”.",
          "ts": "1654890705.241699",
          "thread_ts": "1654890634.097249",
          "edited": {
            "user": "U03HMJ2P5MJ",
            "ts": "1654890714.000000"
          },
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "3pu",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "You can throw the child context away if needed, and additionally you get undo manager integration for “free”."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "client_msg_id": "d624f899-ffe3-46c8-8d1e-f9cf701c8b6f",
          "type": "message",
          "user": "U03HT20UKFZ",
          "text": "Ok, thanks that helps, I didnt want to go down that path if there was an easier way like mylocalAccount = Account() loll",
          "ts": "1654890908.107439",
          "thread_ts": "1654890634.097249",
          "team": "T031SG5MZ7U",
          "replace_original": false,
          "delete_original": false,
          "blocks": [
            {
              "type": "rich_text",
              "block_id": "woZ",
              "elements": [
                {
                  "type": "rich_text_section",
                  "elements": [
                    {
                      "type": "text",
                      "text": "Ok, thanks that helps, I didnt want to go down that path if there was an easier way like mylocalAccount = Account() loll"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HJA0EJ1G\u003e removed a workflow from this channel: *Core Data - Ask a Question*.",
      "ts": "1654891226.362229",
      "subtype": "bot_message",
      "bot_id": "B03HGE5EJ04",
      "username": "Core Data - Ask a Question",
      "replace_original": false,
      "delete_original": false,
      "blocks": null
    },
    {
      "client_msg_id": "2b398e4c-ca88-4596-be4b-e8ac690c5fe8",
      "type": "message",
      "user": "U03HJA0EJ1G",
      "text": "Thanks everyone!  I hope you found these digital lounges helpful and had a great WWDC week.  Please file feedback items and bug reports.",
      "ts": "1654891333.016809",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "raised_hands",
          "count": 8,
          "users": [
            "U03JP7XR46Q",
            "U03JFQ1BQMA",
            "U03HVE4TV8E",
            "U03HZ2VBE21",
            "U03JYSLNGSZ",
            "U03JRPFE82C",
            "U03K0TAETQ9",
            "U03J4DJSGLU"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "z889g",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "text",
                  "text": "Thanks everyone!  I hope you found these digital lounges helpful and had a great WWDC week.  Please file feedback items and bug reports."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "client_msg_id": "d2374c6d-1540-4b7a-9a9a-d335d21c4655",
      "type": "message",
      "user": "U03HWU7EYBB",
      "text": "\u003c!here\u003e That’s a wrap on the Core Data Digital Lounge! Thank you all so much for participating all week and we hope you had a blast. We sure did!\n\nPlease take a few minutes to let us know about your WWDC22 experience *\u003chttps://essentials.applesurveys.com/jfe/form/SV_2cw6N3JbrxFcoiq|using the WWDC22 Developer Survey\u003e*! The feedback you provide us goes a long way, and will give us insight on what events and programs we should host for developers in the future!\n\nNow let’s let loose with a little fun! Threading is open :thread: so let’s hear from you all in this one! Which activities did you like the most? React with :raising_hand::skin-tone-4: for the Q\u0026amp;As, and :airplane_departure: for David’s Meet the Presenter!",
      "ts": "1654901317.561459",
      "team": "T031SG5MZ7U",
      "reactions": [
        {
          "name": "raising_hand::skin-tone-4",
          "count": 1,
          "users": [
            "U03HWU7EYBB"
          ]
        },
        {
          "name": "airplane_departure",
          "count": 3,
          "users": [
            "U03HWU7EYBB",
            "U03JDTLSGLU",
            "U03HMDG985D"
          ]
        },
        {
          "name": "swift-blue",
          "count": 2,
          "users": [
            "U03HJA0EJ1G",
            "U03K1TMNVMF"
          ]
        },
        {
          "name": "raising_hand::skin-tone-3",
          "count": 1,
          "users": [
            "U03J4D1FEP6"
          ]
        },
        {
          "name": "raising_hand",
          "count": 8,
          "users": [
            "U03JDTLSGLU",
            "U03J4EJ0CVA",
            "U03JFQ1BQMA",
            "U03JRPEC4AU",
            "U03JRPFE82C",
            "U03JMUP9D9B",
            "U03K0TAETQ9",
            "U03K1TMNVMF"
          ]
        },
        {
          "name": "raising_hand::skin-tone-2",
          "count": 1,
          "users": [
            "U03HMDG985D"
          ]
        }
      ],
      "replace_original": false,
      "delete_original": false,
      "blocks": [
        {
          "type": "rich_text",
          "block_id": "ViZ",
          "elements": [
            {
              "type": "rich_text_section",
              "elements": [
                {
                  "type": "broadcast",
                  "range": "here"
                },
                {
                  "type": "text",
                  "text": " That’s a wrap on the Core Data Digital Lounge! Thank you all so much for participating all week and we hope you had a blast. We sure did!\n\nPlease take a few minutes to let us know about your WWDC22 experience "
                },
                {
                  "type": "link",
                  "url": "https://essentials.applesurveys.com/jfe/form/SV_2cw6N3JbrxFcoiq",
                  "text": "using the WWDC22 Developer Survey",
                  "style": {
                    "bold": true
                  }
                },
                {
                  "type": "text",
                  "text": "! The feedback you provide us goes a long way, and will give us insight on what events and programs we should host for developers in the future!\n\nNow let’s let loose with a little fun! Threading is open "
                },
                {
                  "type": "emoji",
                  "name": "thread",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " so let’s hear from you all in this one! Which activities did you like the most? React with "
                },
                {
                  "type": "emoji",
                  "name": "raising_hand",
                  "skin_tone": 4
                },
                {
                  "type": "text",
                  "text": " for the Q\u0026As, and "
                },
                {
                  "type": "emoji",
                  "name": "airplane_departure",
                  "skin_tone": 0
                },
                {
                  "type": "text",
                  "text": " for David’s Meet the Presenter!"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "message",
      "text": "\u003c@U03HWU7EYBB\u003e added a workflow to this channel: *Core Data - Idea Submission*.",
      "ts": "1654902173.950019",
      "subtype": "bot_message",
      "bot_id": "B03HSMUPHRP",
      "username": "Core Data - Idea Submission",
      "replace_original": false,
      "delete_original": false,
      "blocks": null
    }
  ],
  "channel_id": "C03GSLDRB4P"
}
