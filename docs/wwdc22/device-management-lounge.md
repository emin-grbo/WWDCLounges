# device-management-lounge QAs
### Lounge Contributors
#### [pol-piella](https://github.com/pol-piella)
#### [roblacl@github](https://github.com/roblack) / [roblacl@twitter](https://twitter.com/emin_ui)
#### [shirblc](https://github.com/shirblc)
#### [tikimcfee](https://github.com/tikimcfee)
---

--- 
> ####  Does the given workflow of enabling Enrollment SSO also work with Automated Device Enrollment or will this be a User Enrollment feature only?


|U03J81L8K6C|:
This is only for User Enrollments. Automated Device Enrollments are not supported.

|U03J81L8K6C|:
What kind of experience were you looking for here? I presume this would be a case where you're requiring a user to authenticate as part of the ADE enrollment process? So you'd want to trigger the ESSO app download while still in Setup Assistant?

|U03JKDJMFL4|:
Yes, that's pretty much it. We would like to mirror the process as much as possible. It makes these processes easier to train to other admins, more convenient to debug, and causes less technical debt.

|U03JRBCTDTN|:
I want the enrollment through ADE to also setup the Authenticator at the same time. So, for example, you would use Okta Verify to perform enrollment so that the user wouldn't have to authenticate twice to get an SSO experience 

|U03JYHSL6AD|:
I had the same question as Scott for the same reason - less overhead for our support folks and less moving parts to potentially go wrong.

|U03J2206F7Z|:
Largely the same here — ADE, acquire and do SSO during Setup Assistant, for building and signon of the new end user account.

|U03J81L8K6C|:
Thank you. This is great feedback!

|U03J2206F7Z|:
(Just realized this is about Enrollment SSO.  I’m thinking macOS, so my comment is likely about Platform SSO.)

--- 
> ####  With Platform SSO coming to all platforms, does this mean that other forms of User Enrollment (install profile, account driven, etc.) are being deprecated?


|U03J81L8K6C|:
Not at all. Platform SSO is only available on macOS and Account Driven User Enrollment is for iOS. Also Platform SSO requires MDM to be setup, so you’ll still need to be in MDM via some enrollment style before this can be setup.

|U03JKDJMFL4|:
The video stated that it was coming to iOS and iPadOS as well. Is that not the case?

|U03HWTYUEBT|:
Can you point out where you see that? Enrollment SSO is for iOS and macOS. Platform SSO is for macOS.

|U03JKDJMFL4|:
I see the distinction now. I mis-spoke in my original question then as I was referring to Enrollment SSO.

|U03JFEFGUBY|:
&gt;  Platform SSO requires MDM to be setup,
Where's the docs for this? I.e. what does an MDM server need to "setup" to support this?

|U03J82NUQDN|:
There are new keys for Platform SSO in the `ExtensibleSingleSignOn`:
<https://developer.apple.com/documentation/devicemanagement/extensiblesinglesignon?changes=latest_minor>
and `ExtensibleSingleSignOnKerberos` payloads:
<https://developer.apple.com/documentation/devicemanagement/extensiblesinglesignonkerberos/extensiondata?changes=latest_minor>

|U03JFEFGUBY|:
oh god, I just envisioned IdP enabled Kerberos and now I'm in a fetal position.

--- 
> ####  We would like to use managed Apple IDs with ADE-enrolled devices, but allow for a personal Apple ID as well, a la User Enrollment.  This is not possible, is it?


|U03HWTYUEBT|:
This is not currently possible with all possible iCloud services. The user could sign into their personal account as a secondary account and get a subset of their iCloud data classes.

|U03JKQJ4SA0|:
Doing so, as mentioned(secondary personal AppleID), still doesn’t grant use of Continuity features, does it?

|U03HWTYUEBT|:
It does not.

|U03JKQJ4SA0|:
Thank you for the confirmation - we’ve not been successful despite our best efforts. Though it’s a bummer. :cry:

--- 
> ####  Will there be an MDM command to set the Secure Boot Level from Medium Security to Full Security? The other way around works via MDM.


|U03HJ8E7YH0|:
Not at this time, but we encourage you to file feedback.

|U03HJ8E7YH0|:
It is useful to understand your workflows and why this is important for your enviorment.

--- 
> ####  In the video, there was a code example of enrollment-sso.json. Is this filename and location fixed or will we be able to specify a location for the json file? Are there any naming convention restrictions or domain restrictions like we have with Account Driven User Enrollments?


|U03J81L8K6C|:
There are no restrictions on the URL, beyond it being an https URL. Typically the Enrollment SSO document would be hosted by the server processing the user enrollment flow (which itself is likely to be the MDM server).

|U03JKDJMFL4|:
So this is not a user-crafted file like with the Account Driven workflow?

|U03J81L8988|:
The enrollment SSO document contains data specific to the MDM service and will likely be auto-generated by MDM servers that support the new feature.

--- 
> ####  Is Declarative Management going to be available beyond User Enrollment?


|U03HWTYUEBT|:
Yes! As of iOS 16, tvOS 16 and macOS Ventura declarative management is now supported everywhere MDM is supported and make sure you watch tomorrow’s video for all the details!

--- 
> ####  Is there any hope for seeing Continuity features being supported for Managed Apple IDs in MacOS 13 or iOS/iPadOS 16?


|U03HWTYUEBT|:
This is a great feature request! Please submit feedback using the Feedback Assistant and let us know what the impact is for your organization.

|U03J22CFDC2|:
We'll submit one too. We work in a regulated environment but our creative users could benefit greatly having these available with their Managed Apple IDs.

|U03JKQJ4SA0|:
Thanks, we have, and will continue to. The Camera Continuity (with overhead deskview) will especially be a coveted feature to our users.

--- 
> ####  Will MDM software be able to manage the ability for users to disable LaunchAgents and Daemons in System Settings, which has been introduced in Ventura? And also to control whether the notifications for these will be shown?


|U03J81L8K6C|:
We don't have anything to share at this time, but we understand the concern. Nevertheless, please file feedback about this!

|U03JYHSL6AD|:
FB10042114 already open, and thank you for your openness to consider!

|U03J81L8K6C|:
Your feedback and the quantity of it helps us prioritize it!

|U03JFEFGUBY|:
Yes, this is a deployment blocker for us.

|U03JE2L47J8|:
I imagine this will be a big deal for us too.

|U03JE2L47J8|:
I plan to file this feedback, but a way to approve Privileged Helpers without the user would be great. We are seeing their use more in enterprise software.

|U03JRLRR2BW|:
Thank you for your response. We will get a feedback put in as this is definitely a serious blocker for us, since it allows a user to override basically any macOS management tool.

|U03J4C38RD2|:
We have feedback open on this too: FB10073928

|U03JFEFGUBY|:
Same FB10049102

--- 
> ####  This morning's video included a reference to "MDM Friendly Migration" (Mac OS Summary chart under Setup and Migration). Perhaps I missed it but I don't think there was discussion about this nor is there an outright listing in the documentation. Is there a place fore or a session with more details?


|U03HJ8E7YH0|:
In macOS 13, to avoid management conflicts, Mac computers enrolled in an MDM solution will no longer allow the transfer of the following settings using Migration Assistant:
• System
• Network
• Printer

|U03HJ8E7YH0|:
This is not referencing migrating a device from one MDM to another.

|U03JYHSL6AD|:
Whichever engineers are responsible, please thank them and tell them from our helpdesk that this will be a HUGE timesaver!

|U03J4HYK3GV|:
a welcomed change for sure. Thanks (though MDM migration would be interesting for sure)

|U03JRQCASGY|:
So is this using Migration Assistant during Setup Assitant or later using the Migration Assistant app once the user has enrolled their device and is at the desktop?

|U03JAFTNE6A|:
How will migrations of an AD bound machine with mobile accounts be handled when migrating to Ventura where Platform SSO is taking the place of mobile accounts?

--- 
> ####  Why does install OS update with priority only work for minor updates?


|U03HWTYUEBT|:
We understand that this something that would be useful but there are some additional technical details that major OS updates require that minor OS updates do not.

--- 
> ####  Will there be a pass key implementation for enterprise that has iCloud Keychain disabled due to data governance?


|U03HJ8W6CGK|:
Passkeys require iCloud Keychain, which works with Apple IDs. Managed Apple IDs are typically used in organizational contexts, because organizations often require administrative control over accounts. iCloud Keychain is not supported for Managed Apple IDs.

That said, please submit feedback for any feature requests you have related to this topic (passkeys in the enterprise)!

|U03JRBCTDTN|:
:+1: 

--- 
> ####  I don’t quite get how device attestation works. Does it require a 3rd party CA for your device to provide attestation to an MDM or a IdP? 


|U03HJ7TE1GT|:
You can learn more in the <https://developer.apple.com/wwdc22/10143|Discover Managed Device Attestation session> and <https://developer.apple.com/wwdc22/10143|Meet the Presenter> lounge.

--- 
> ####  Can ACME protocol be used to issue device identity certificates during MDM enrollment?


|U03HJ7TE1GT|:
Yes. You’ll be able learn more in the <https://developer.apple.com/wwdc22/10143|Discover Managed Device Attestation session> and <https://developer.apple.com/wwdc22/10143|Meet the Presenter> lounge

|U03JE2L47J8|:
I need to learn more about this, but I assume this will help with Conditional Access policies. Hopefully we see this come to macOS someday.

--- 
> ####  Documentation says the System Preferences profile type is being deprecated. Do you have an ETA on a replacement for the new System Settings interface? There are still specific pieces that we may need to disable from machines, especially in environments such as labs.


|U03HWTYUEBT|:
We are not planning offer a replacement to the System Preferences payload. The current payload has been setup to do a mapping to grey out the areas it used in System Preferences. What we would like to do in is introduce additional restrictions or new payloads to manage settings that need to be managed. Please file feedback to let us know what specific feature you need to manage.

|U03J2206F7Z|:
Based on what I’ve seen so far, I like the greyed-out implementation of things that were blocked in System Preferences.

|U03JYHSL6AD|:
Thanks Graham! We haven’t completed testing on that part yet, but a mapping should do for now. I’ll open some feedback further into the cycle about our workflows to feed into those new settings.

|U03J4C38RD2|:
For EDU organizations specifically, it may be difficult to play whack-a-mole picking which restrictions are needed to fully replace this functionality. It may be nice to continue to have parity.

--- 
> ####  For a small company with maybe 10 users large MDM solutions seem not to be the perfect solution for software distribution. Yet, asking employees, who bring their own devices, to spend hundreds of euros / dollars on apps for business use is not the perfect solution. Is there a recommended way from Apple for a company to buy apps for users, that they can use in their personal Apple IDs and their store accounts?


|U03HWTYUE3T|:
Volume app purchases in Apple Business Manager can be transferred to employees using redemption codes. The license transfers to the employee's personal Apple ID in that case.  Managed app distribution (either device based or user based) with MDM allows you to revoke and reassign licenses and the company retains ownership of the license.

--- 
> ####  MDM initiated updates have gotten significantly better but are still somewhat unreliable for timing and do not have a great user experience. What improvements are planned in macOS Ventura around this?


|U03HWTYUEBT|:
If you are seeing specific issues please file feedback with sysdiagnoses so we can investigate the issues you are seeing.

|U03HZ52BXAR|:
 

|U03JYHSL6AD|:
We will continue to file - most have been closed for one reason or another without resolution. Thanks!

--- 
> ####  Not a question but a thank you to the entire team in your willingness to answer all of the questions us MacAdmins are going to throw at you! :grin:


|U03J81L8K6C|:
Thank you for joining us! Your feedback and support are invaluable, so we're thrilled to be here. :slightly_smiling_face:

--- 
> ####  Is binding to AD and mobile accounts still supported in macOS 13?


|U03HJ7TE1GT|:
Yes, this is still supported.

--- 
> ####  What does Apple consider a "minor update" related to OS update priority command? Would macOS 13.0 - 13.1 be possible or are we only talking about 13.0.0 - 13.0.1?


|U03HJ8E7YH0|:
In this example a minor update is both 13.1 and 13.0.1.

--- 
> ####  Can you clarify the usage of the allowUSBRestrictedMode command in MDM? Does this outright block all devices, or does it enable the feature for the user and they can decide?


|U03HWTYUEBT|:
Installing the restriction will cause the system to behave like macOS 12. The user will not get prompted to approve attaching new accessories.

--- 
> ####  Platform SSO seems neat. Will we ever get WebAuthN or hardware key support in ADE web auth?


|U03HZ52BXAR|:
Any video demos too on platform SSO?

|U03HJ8W6CGK|:
WebAuthn support within web views is not related to Platform SSO. To request support for WebAuthn within specific web views, please submit feedback.

|U03JFEFGUBY|:
Not related, but I was hoping that with the support for IdPs in Platform SSOs, Apple would see the wisdom in supporting modern auth for ADE.

We have two open feedbacks already over the past few years, which are being  duly ignored. FB9017798, FB9971816

|U03HJ8W6CGK|:
<@U03JFEFGUBY> The need is understood — we are making a lot of investments in this area and your feedback is helpful. Please do continue to submit feedback on this and other areas where you believe improvements can be made.

|U03JFEFGUBY|:
You want a third one?

--- 
> ####  With Platform SSO, the session mentioned that if the IdP password changes, the new password is verified "on unlock." Does this indicate that the user's local account password is sync'd, or is the verification only within the SSO extension and not affecting the local account ("offline" credentials if you will excuse the reference)?


|U03HJ8W6CGK|:
The local account password is synced when possible with the password.

On unlock, if the password is different than the local account password, it’s synced it if it verifies with the IdP.

|U03JYHSL6AD|:
Thanks <@U03HJ8W6CGK>! One follow-up if that’s ok - is there a method to _prevent_ that sync should that configuration be desired?

|U03JKDJMFL4|:
Does that sync also update the FileVault password?

|U03HJ8W6CGK|:
<@U03JYHSL6AD> can you share more information on what your use-case is for preventing a sync?

|U03J9SM1LNA|:
So if the password at the IdP is different than the local password and the Mac is restarted. The local password will get the user to the desktop and the IdP password will be used at next unlock (ei. Wake from sleep). Is there any visual indication of this temporary discrepancy to the user?

|U03HJ8W6CGK|:
<@U03JKDJMFL4> Yes it does

|U03JYHSL6AD|:
<@U03HJ8W6CGK> mostly for shared accounts on the local device in a more kiosk-mode. Think of situations where a single device might operate a piece of equipment, and a single local user account is used. However, we want to still allow the SSO extension to be used while the user is active on the workstation.

|U03JYHSL6AD|:
Note, this is a very odd edge case and I definitely prefer the sync behavior, it is _most choice_.

|U03HJ8W6CGK|:
<@U03J9SM1LNA> The local account password is either the current or previous IdP password. If it doesn't work, then we prompt the user for the correct password and sync everything.

|U03JYHSL6AD|:
<@U03HJ8W6CGK> another workflow that was just mentioned to me by another admin is corporations who want local device creds to remain separate from network creds (to reduce blast radius in case of credential compromise). I suspect the answer there is a more standard SSO extension and not Platform SSO?

--- 
> ####  We want to use Configurator in our provisioning team. However, the requirement of having a highly-privileged Apple Business Manager account (and the limit on quantity of accounts) is problematic. Is there a plan to introduce a role type that can only add and not edit any settings or release devices?


|U03HWTYUEBT|:
Thank you for this feedback. In terms of limited of accounts, Device Manager accounts are unlimited so that should solve that part of it. I understand that even Device Manager accounts may have too many permissions for your needs. Please file feedback for this.

|U03JYHSL6AD|:
Got it - thanks Graham! Will open some feedback on it. For our provisioning team, not everyone is an employee, and we want to ensure warehouse folks have the bare minimum needed.

|U03HJ8E7YH0|:
Understood! Please include these details in your feedback.

--- 
> ####  Any possibility to only allow continuity between enterprise-managed devices?


|U03HWTYUE3T|:
Continuity requires a personal Apple ID. If your users are using their personal Apple ID on enterprise managed devices, they can take advantage of Continuity between devices using the same Apple ID.

|U03JKDJMFL4|:
This is yet another use case where it makes sense to have a Personal Apple ID and a Managed Apple ID on the same system.

|U03JKQJ4SA0|:
<@U03JKDJMFL4> in my experience, using both a personal and MAID results in no joy for Continuity features. I’m eager to learn how others have been able to get this to work if it is possible.

|U03JKDJMFL4|:
I am trying to highlight that I think most organizations would like their Managed Apple IDs to work like personal IDs, just managed, and adding the ability to sign into both on a system would like work accounts to work features, whereas personal accounts could be linked for other features. Each organization will consider that line to be different, but I think it is important to allow that customization.

--- 
> ####  Is Rapid Security Response more than a renamed Gatekeeper/Xprotect?  Will information be available on the kinds of content it encompasses?  How are Rapid Security Response content differentiated from what's in XX.YY.ZZ version updates?


|U03HJ8E7YH0|:
Yes, it is more than Gatekeeper/Xprotect. Safari updates can be included in RSR. We understand the request for details about each RSR. Stayed tuned for more information.

--- 
> ####  The new priority key for OS updates is very interesting, and I have two questions about it. First, does setting "High" cause a reboot to be issued (similar to InstallNow) or only to download and prepare? Second, what is the behavior for "Low"? It was not mentioned.


|U03J81L8K6C|:
The priority only changes the priority with which the download is accomplished. When high, it will be done ASAP. Otherwise, the download is discretionary and the system may defer the download to higher priority user activity.

|U03JYHSL6AD|:
Makes total sense, thank you! Does this affect the priority of the prepare operation and nice it down for low priority as well, or ONLY the download?

|U03J81L8K6C|:
Only the download. The prepare phase doesn't get throttled by the system.

--- 
> ####  Any chance of device attestation making its way to Macs? Pretty please?


|U03HJ8E7YH0|:
:smiley: This is great feedback!

|U03JRHQU54H|:
Might have shed a tear when I saw it was non-Macs only

--- 
> ####  Will there be a more direct method of disabling Find My Mac via MDM?


|U03HWTYUEBT|:
Please file feedback on this and let us know about your specific use case.

--- 
> ####  The Mac Evaluation Utility is amazing. Any chance it will be included in macOS by default, preferably with CLI options like NetworkQuality? 


|U03HJ7TE1GT|:
We’re glad you like it! Please be sure to file feedback, so we can consider this in future updates.

--- 
> ####  Be useful if the user should see some sort of progress indicator when managed software updates are running in the background. Like a menu item or something in the Dock


|U03HJ7TE1GT|:
Thanks for the feedback!! Mind filing this?

|U03JRQCASGY|:
Ok will do

--- 
> ####  I know that Remote Remote Management can be enabled via MDM. Are there plans to add this capability for Remote Login (SSH) as well?


|U03HJ8E7YH0|:
Not at this time. Feedback is welcome.

--- 
> ####  Will PlatformSSO handle forced password changes from the IdP. And if the password has changed on the IdP the next time the user boots their Mac and need to unlock FileVault will the need to use the new or old password?


|U03JYHSL6AD|:
On a similar note - how does Platform SSO handle the user being disabled in the IdP?

|U03JRQCASGY|:
:+1: 

--- 
> ####  When using Migration Assitant during Setup Assitant. Does it migrate your data first then prompt to enroll in the MDM or the other way round?


|U03J81L8K6C|:
Enrollment happens first.

--- 
> ####  Any possibility to restrict devices from using consumer Apple IDs and limit them to Managed Apple IDs?


|U03HWTYUEBT|:
Great feature request, please file feedback using Feedback Assistant and let us know what your use case is. In general we would expect this supervised only, if we did do this as a supervised only feature would that meet your requirement?

|U03JDKQ40N9|:
Supervised is fine, I'd expect that for this kind of feature

|U03JKQJ4SA0|:
It would be great to somehow auto-populate deployed devices with assigned MAIDs restricting the opportunity to use a different one

|U03JFA5FY03|:
This would almost be in line with how Shared iPads can now have 3 pre-specified domains.

--- 
> ####  Not a question, just a comment - THANK YOU THANK YOU THANK YOU for doing this Q&amp;A on Slack this year!! It has been super helpful to see everyone's questions and avoid duplicating, and I feel way more connected with the team and comfortable with answers compared to the usual lab format which I've always felt not technical enough to request.


|U03HJ8E7YH0|:
Your'e welcome! Happy to be here with you all!

|U03HXEU02D8|:
We’re so glad that you joined!

|U03HJ7TE1GT|:
Thank you for joining us. Hearing feedback directly is always invaluable and we’re glad you could join us! Enjoy the rest of the WWDC sessions this year.

|U03HWTYUEBT|:
You are so welcome! It was great to chat with everyone and hear about all the new features you are excited about!

--- 
> ####  For the new features talked about so far,.. is Documentation forthcoming (soon) on <http://Developer.apple.com|Developer.apple.com> .. or later towards Fall 2022 ?.. where would be the best location to bookmark or keep an eye on for Documentation or KB updates ?


|U03HWTYUEBT|:
The documentation should already be live on <http://developer.apple.com|developer.apple.com>. If you turn on the API changes it will highlight all the keys that are new. We also have our new documentation available as YAML data on GitHub now!! <http://github.apple.com/apple/device-management|github.apple.com/apple/device-management>

|U03JYHSL6AD|:
<https://developer.apple.com/documentation/devicemanagement?changes=latest_minor> is the bible I’ve been studying the last 24 hours if it helps :smile:

--- 
> ####  Are there any changes in Ventura to the current requirement for a user to interact with the notification when using `MaxUserDeferrals` with `ScheduleOSUpdate` (in order for the counter to decrement)?


|U03HJ8E7YH0|:
There are no current changes, but we are committed to make improvements to software update.

--- 
> ####  Will management declaration properties key-values (used for predicates) collide between the user and device channels?


|U03J81L8988|:
Management properties are always scoped to the channel that they are sent on, so there is no possibility of name collisions.

--- 
> ####  The video showed a wonderful scenario of configuring WiFi for different buildings for different teachers. But, I don’t see a declaration for e.g. WiFI configuration. Is that coming? Will more systems-management-type declarations be coming?


|U03J81L8K6C|:
In the video, we showed using the legacy profile declaration to install WiFi. It's important to note that you can use existing profile types with declarative management. Please file feedback for which payloads you'd like to see migrated to declarative management first!

|U03J81L8K6C|:
Do you have specific ones in mind that you could mention here? Which payloads do you think would benefit from being in declarative management?

|U03JPJY6CTU|:
&gt; see migrated to declarative management first
well that gives hope

|U03JPJY6CTU|:
I'd need to think about that, but the off the top of my head: OS updates would be huge. Especially if there were things like deadline dates. But of course the existing MaxDefferals and related stuff would be great, too.

|U03JPJY6CTU|:
It was amazing how *UI status* was being passed back on the status channel (prompting) for a managed apps.

|U03JPJY6CTU|:
If we could get status channel updates on user actions for updates that'd be.. magical.

|U03HJ8E7YH0|:
Those are great candidates! It would be great to see that in feedback.

--- 
> ####  For assets (or legacy profiles) — or really anything that needs to reach out to a URL — is there (or will there be) support for authenticating the device to that URL? Perhaps certificate pinning, OAuth, or even HTTP plain, just.. something?


|U03J81L8988|:
Right now assets are always fetched from the MDM server and use the MDM protocol device identity. Providing assets downloads from other services is certainly an option and we would appreciate your feedback on what types of service and authentication would be useful.

|U03JPJY6CTU|:
Apologies if I missed it — is that documented anywhere? Does this need to match the `ServerURL` of the enrollment profile? More details please! :slightly_smiling_face:

|U03J81L8988|:
You could use a dedicated endpoint at either the ServerURL or CheckInURL. The key thing is it should be the same host as those and be prepared to auth the device identity certificate as the TLS client cert.

|U03JPJY6CTU|:
Will this respect and utilize the `SignMessage` key?

|U03JPJY6CTU|:
(Again this is great but I'd love to see documentation on all this) :slightly_smiling_face:

--- 
> ####  What features can we expect for macOS with DMDM management?


|U03HJ7TE1GT|:
This year, where supported by the OS, the same set of declarations and status that are available on iOS are also available on macOS and tvOS. Are there features you’d like to see for macOS in the future?

--- 
> ####  Can we have a declaration to set CFPreferences/MCX style preferences (in arbitrary app domains) on macOS devices? (filed previously under FB9204865). We currently do this with ‘legacy’ profiles.


|U03J81L8K6C|:
This is certainly something we can consider. What benefit do you see to having that particular payload converted to a declaration?

|U03JPJY6CTU|:
The same benefit as we use with the legacy profiles, I guess: being able to manage/enforce settings/preferences for the OS &amp; app domains.

|U03JPJY6CTU|:
As one example we configure Munki (and may, many other apps/tools) this way.

|U03HJ8E7YH0|:
We will look to convert payloads, but it is helpful to understand the priority for customers for conversion of payloads vs. new configurations.

|U03JPJY6CTU|:
Sure. This is sort of why we suggested the CFPreferences domain (vs. pre-existing profile payloads) — it's arbitrary key-values. Let us decide what to convert over. :slightly_smiling_face:

|U03J81L8K6C|:
I see. I was thinking you meant the ManagedPreferences payload, which could be delivered using the legacy profile declaration today.

|U03J81L8K6C|:
So it sounds like you're already using / aware of that.

|U03JPJY6CTU|:
Well, yes, kinda of like ManagedPreferences. But we also (ab)use the PayloadIdentifier&lt;-&gt;CFPrefernces link where we can just embed CFPrefs keys into an arbitrary PayloadIdentifier and it 'works' :slightly_smiling_face:

--- 
> ####  Would it be possible to have a plugin-system for e.g. custom declarations with custom status updates? (filed previously under FB9204865)


|U03J81L8988|:
Thanks for the feedback. We have taken note of it.

--- 
> ####  Could there be a method for an MDM Self Service app to monitor progress of app installation locally, instead of round-tripping through MDM server?


|U03HXEU02D8|:
Good suggestion! Can you describe what you’d want the experience to be for the admin, and what you’d want to have happen on the device?

|U03JFA5FY03|:
The MDM Self Service App be able to have the same kind of status as the Apple App Store for when it is being installed and finished installing.

|U03J2206F7Z|:
Similarly… I’ve been meaning to file feedback on the lack of OS-native visibility for progress or status on MDM-installed applications.  (Is the VPP thing happening?  What is its status?  Is Office really going to download?)

|U03JFA5FY03|:
iOS MDM Self Service suffers because the MDM App can’t query the local device for status

--- 
> ####  What is the best way to monitor install progress for VPP apps? Particularly during macOS provisioning. (For example, Xcode)


|U03J81L8988|:
The new `<http://mdm.app|mdm.app>` status item can provide immediate feedback on the installation state of apps installed by MDM only. We do not report on the state of apps installed via other means or already present on the device. Note that this is currently limited to iOS and tvOS only. Please file a feedback request specifically for supporting this on macOS to help us track interest in that.

|U03J2206F7Z|:
Holy cripes! Yes, macOS! ++++

--- 
> ####  Not a question, but just wanted to say thank you to the MDM team. Everything you've announced this year looks really exciting and powerful!


|U03HJ8E7YH0|:
The engineering team has done a stellar job! We are so excited to bring you all the new Declarative Device Management features.

--- 
> ####  Will we have an Declarative Management ‘mdmclient’ simulator someday? Is MDM testing planned to ever be something we could simulate (preferably in a CI/CD type environment - i.e. command-line/code driven)?


|U03J81L8988|:
Can you provide feedback (either here or via feedback assistant) with examples of how you use mdmclient now in CI/CD flows?

|U03JPJY6CTU|:
We don't right now. I created this <https://github.com/jessepeterson/mdmb> to test development of MDM servers, capabilities and load testing, though.

|U03JPJY6CTU|:
I'd love for Apple to provide us with tools to allow us to test MDM servers and protocols and such.

|U03JPJY6CTU|:
Sort of the like the `depsim` and `vppsim` tools from days of yore.

|U03J81L8988|:
What specific aspects of device management are you looking to verify? Basic protocol behavior (HTTP etc), actual payload behaviors? The later would be complex for sure.

|U03JPJY6CTU|:
As much as is practical. But yes basic enrollment capability would be a start with full 'protocol level' support there. Agreed actual payload-specific behavior would be less important (in my eyes).

|U03JPJY6CTU|:
Not a focus of this lounge I know, but we'd _love_ to be able to put VMs into DEP to test ADE workflows.

|U03JPJY6CTU|:
Or, even better — somehow be able to startup MacBuddy/SetupAssistant in a 'provision' mode to test those workflows heh.

|U03JPJY6CTU|:
(there are commands that can only be done in AwaitConfigured state — and that's a difficult thing to test in some cases as it requires a device re-provision)

|U03JPJY6CTU|:
again, bit of a distraction

|U03J81L8988|:
The new open source device management schema data does make it fairly easy to write tools that verify the compliance of MDM commands, profiles, and declarations (i.e., verify that required keys are present, they have the right value types etc). It would be interesting to see if the device management community is interested in building a set of common tools around that.

--- 
> ####  Are there any recommendations for how to migrate from OD binding to Platform SSO, e.g. any plans or specific steps we should consider?


|U03HXEU02D8|:
We’re just focused on declarative device management for this lounge activity, but we’d suggest taking this to the general Device Management lounge tomorrow or to the 1:1 labs!

--- 
> ####  How best can we provide feedback or feature requests for DDM? Is that Apple Feedback Assistant? Are there any keywords or things we should specifically mention?


|U03HJ7TE1GT|:
Feedback Assistant would be great! There is an Enterprise &amp; Education section, where you can then choose Mobile Device Management from the area dropdown.

--- 
> ####  What is the difference between the MDM currently being used and Declarative MDM?


|U03J81L8988|:
Declarative device management is a new paradigm for managing Apple devices that runs on top of MDM and is now supported on all OS's and all MDM enrollment types.

|U03J81L8988|:
A great introduction to that is WWDC21's `Meet Declarative Device Management` video which you can access via the <http://Developer.app|Developer.app> from the AppStore.

|U03HXEU02D8|:
Available here! <https://developer.apple.com/wwdc21/10131>

|U03JN1P3L1L|:
ok thanks!

--- 
> ####  Less of a question and more of an ask: We'd like to see better FileVault-enabling/enforcing workflows. DDM would be a great candidate for that  — especially status channel updates!


|U03J81L8K6C|:
That's great feedback! Can you elaborate on what status channel information you were looking for?

|U03JPJY6CTU|:
FileVault enabled status (on/off) would be one, of course. Escrowed recovery key is the other obvious one, perhaps. I'd also like to know which users its enabled for, when it was turned on, and probably more. :slightly_smiling_face:

--- 
> ####  Is Apple going to provide anything to admins to easily convert configuration profiles to declarative management profiles or will MDM providers need to handle that?


|U03J81L8988|:
We expect that will be up to MDM vendors to handle. There likely won't be a one-to-one mapping between profile keys and configuration keys, so a custom mapping will be needed. However, our new open source device management schema data (<https://github.com/apple/device-management>) , has machine readable versions of both profiles and configurations that should help with that process.

--- 
> ####  Are there any plans to make it possible to add macOS virtual machines to Apple Business manager for testing DEP enrollment flows? This process is much easier to test when you can rollback a VM to a snapshot instead of needing to wipe a physical test device over and over.


|U03HJ8E7YH0|:
There is nothing to share about this at this time, but  your feedback about this would be helpful.

--- 
> ####  Is it possible to use a Activation predicate to trigger the installation of a MDM 1 profile via the LegacyProfile configuration object for MDM 1 profiles that aren't yet supported in DDM, ie.. DirectoryServices/802.1x/etc...


|U03J81L8988|:
Yes, that is absolutely possible! In fact, the whole reason for the legacy profile configuration is to make the declarative approach available for all existing MDM profiles, as we gradually migrate more of those to "native" declaration types.

--- 
> ####  The MDM App status for app which are using VPP. This is troublesome with larger Apps like Xcode where VPP has historically been extremely unreliable. Have there been any improvements there to help drive this adoption?


|U03HJ7TE1GT|:
Is this a request to add app status for macOS or is there a specific issue with larger apps you’re seeing?

|U03K28UMF9P|:
&gt; Is this a request to add app status for macOS
In the presentation you mentioned that declarative device management was being extended to all management functionalities possible in macOS Ventura. This would make me assume the the MDM app status reporting would be included within this. Is that not the case?

&gt; is there a specific issue with larger apps you’re seeing?
This also is a problem, larger apps like Xcode fail to reliably install within reasonable timeframes and there is no user or admin facing feedback. Addressing both these concerns would be critical in driving adoption

|U03K28UMF9P|:
Also specifically with Xcode, MANY developers have situations where they would like to have different versions of Xcode installed at the same time.

eg. `Xcode-12.4.app`  and `Xcode-13.3.app`

This functionality and using Xcode installed via VPP is not possible. What would be the way of accomplishing workflow with this new VPP requirement to get app status feedback

|U03J81L8K6C|:
MDM app status is currently available only on iOS and tvOS.

|U03JPJY6CTU|:
fwiw MDM installation of any app on macOS is so unreliable to be a non-starter for us at the moment. We defer to better tooling like Munki. As an FYI.

|U03HZ4PT2ER|:
The developer site allows downloading arbitrary versions of Xcode, doesn't have to be part of the "primary" version installed via MDM

--- 
> ####  Is there a list predicates that the system exposes?


|U03J81L8988|:
Predicates use the NSPredicate syntax documented at <https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Predicates/AdditionalChapters/Introduction.html>. You can use any available status item as a key in a predicate or use any key from a management properties declaration. There are some examples of that in the video.

--- 
> ####  Hello! I don't have access to the device management itself but I develop enterprise apps and I would like to know if device management managers can force OS update to the managed devices of employees. Thanks!


|U03HJ8E7YH0|:
Hi Cristina,  can you please clarify? Is your question if MDMs can force install an OS update?

|U03HMBPKU0P|:
Hi Danielle, yes, exactly, for example force install iOS 16 on all the compatible iPhones

|U03HJ8E7YH0|:
The MDM can prompt the update to download and install on iOS, but depending on the state (such as passcode) it might need user interaction to install.  <https://support.apple.com/guide/deployment/manage-software-updates-depc4c80847a/1/web/1.0|Here> is some information about software updates from the Platform Deployment Guide.

|U03HMBPKU0P|:
Thank you very much!!

|U03JRNE4KJL|:
Opposite direction: can we enforce via MDM that certain devices stick to/install an (old) iOS version?

|U03HJ8E7YH0|:
The MDM can hide and update for 90 days, but enforcing an older update is not supported.

--- 
> ####  Will Platform SSO be able to create/provision a user account based on the IdP information once the IdP integrates with the framework? Or will it just sync the password?


|U03HJ8W6CGK|:
Platform SSO will only sync the password. The user should be created via other means.

|U03K14UURA5|:
Okay thanks! So I guess it can be used in conjunction with Enrollment Customization and prepopulate the full name and username when the MDM supports it?

|U03HWTYUE3T|:
Documentation for Platform SSO will be available in AppleSeed for IT this week.

|U03K14UURA5|:
Awesome, I’ll check that out :slightly_smiling_face:

|U03JE2L47J8|:
Will vendors be able to communicate outside of the Platform SSO Extension to create accounts on the fly?

|U03HJ8W6CGK|:
<@U03JE2L47J8> can you share more about your use-case / what you're trying to do?

--- 
> ####  How's the behaviour for macOS Managed Software Updates during PowerNap or while asleep? Will it restart even when unsaved files are still open?


|U03HJ9DBQ4A|:
The only difference is macOS will now acknowledge the commands when sent while in power nap mode. All other existing software update rules will still apply. InstallForceRestart will be the only install action to force install while files are opened.

|U03K14UURA5|:
Thank you!

--- 
> ####  The Platform SSO overview mentioned that a user being disabled in the linked IdP does not prevent login. Can you describe what the behavior is for the user in this situation?


|U03HJ8W6CGK|:
Because the local account exists on the Mac already, the user will still be able to login to this local account even though the account has been disabled in the IdP.

|U03HJ8W6CGK|:
The last password that synced remains. In a scenario where the user should no longer be able to login to the device, other methods should be used such as the device lock MDM command.

|U03JYHSL6AD|:
Ok, got it - so the user doesn’t really “know” and there’s no warning about it? I’m thinking about accidental disable/mistakes as well as for terminations of employees here.

|U03HJ8W6CGK|:
Think of this like a local password that just happens to get automatically updated/kept in sync. But it's still a local password and therefore still behaves exactly as any other local password would — since that's what it is. So in those cases you're talking about, you'll want to handle it separately.

|U03JYHSL6AD|:
Thanks Jesse, understood!

--- 
> ####  Hello! Our company just joined Apple Business Manager. Is there any easy way to manage the Macs and iPads? We tried the external MDM solutions but most of them require a subscription fee :open_mouth:


|U03HWTYUEBT|:
Apple Business Essentials is Apple’s new first-party MDM solution but it also has a subscription fee. You can get all the details on that here: <https://www.apple.com/business/essentials/>. There are free MDM options out there. Perhaps some folks in the channel here would have some suggestions for you!

|U03HVCK66P8|:
I see, but the Apple Business Essential is only for the US, right?

|U03HWTYUEBT|:
That is correct.

|U03HVCK66P8|:
Oh, I see. Because my company has multiple divisions all over the world. And currently, I noticed that the business manager is registered outside the US. Do you think I should ask my U.S. colleague to register another account for it?

|U03HWTYUEBT|:
If you try to use Apple Business Essentials outside of the US you may run into issues with with Apps and Books purchasing. I would not recommend using it outside of the US at this time.

|U03HVCK66P8|:
I see. Hope that the Business Essentials will expand to more countries soon. :smile: Thanks, <@U03HWTYUEBT>

|U03JE2L47J8|:
Mosyle Manager has a free option available.

|U03HVCK66P8|:
<@U03JE2L47J8> Sounds great! Is it easy to use and deploy?

--- 
> ####  Although I probably know the answer, any news on Apple Business Essentials coming to Europe?


|U03HJ7TE1GT|:
Nothing to announce, but we’re glad to hear you’re excited about Apple Business Essentials! Can you let us know what countries you’d be interested in seeing?

|U03K14UURA5|:
The Netherlands :flag-nl:

|U03K14UURA5|:
As an managed service provider here, we have a lots of SMB customers who could benefit from it

|U03HJ7TE1GT|:
Thanks Jordy, as always we appreciate the feedback!

--- 
> ####  Hey! A question about the "Requirement for internet access in Setup Assistant"; how does the device retain knowledge of it's organisation registration after a DFU restore? Where does this "setting" persist?


|U03J81L8K6C|:
The registration is stored on Apple's servers and comes back when the Mac goes through the activation process. Note, however, that this feature is not yet enabled in macOS Ventura. Please keep an eye on the release notes to find out in which seed it goes live.

|U03JE2L47J8|:
Ability to skip Wi-Fi selection after first operating system reset is a big pain point for us on Monterey. Looking forward to this!

|U03JCNLP53L|:
I think the thing I'm trying to understand is _how_ the Mac retains the knowledge that it requires an internet connection at the setup assistant, even after a DFU restore.

|U03JCNLP53L|:
I'm assuming that a setting is stored somewhere on the Mac that isn't wiped by DFU?

|U03HWTYUEBT|:
It’s using the Activation Server.

|U03JAFTNE6A|:
But if the machine is not connected to the internet, how does it know it needs to connect to the internet to proceed?

|U03JAFTNE6A|:
It can't access an Activation Sever if it is offline.

|U03JCNLP53L|:
Thank you <@U03JAFTNE6A> that's my question :laughing:

|U03JCNLP53L|:
There must be something that persists on the Mac, post-DFU restore, that _forces_ the Mac to need an internet connection at the setup assistant

|U03HWTYUEBT|:
When Configurator restores the device it must to talk with the activation server to collect the UCERT for the device and the setting will be included in that.

--- 
> ####  iOS 15's three deferral limit for MDM-initiated iOS updates can be circumvented by the user by forcing a shut down. Any thoughts about making that limit harder to bypass?


|U03HJ8E7YH0|:
Hi Alex, this is great feedback. We would like to hear more about your workflows in feedback.

--- 
> ####  This is probably something you can't talk about, but will Business Essentials be bringing any MCX derived features? Custom settings for macOS apps in particular.


|U03HJ7TE1GT|:
Hey Eric, thanks for the question. Are you looking to define custom settings for apps from the Mac App Store or just macOS apps in general?

|U03JE2L47J8|:
macOS apps in general. In particular Google Chrome and Microsoft apps that use them heavily for policies.

|U03HJ7TE1GT|:
Thanks for the clarification. Nothing to announce today, but definitely file feedback if this is something you’d like to see in the future.

--- 
> ####  Rapid Security Response: what mechanisms are available to vendors to surface the state of each device versus known CVEs since the OS version will not be the truth? Will build version increment?


|U03J81L8K6C|:
Yes, the build version will be different!

|U03JNHA1YT0|:
Awesome Mike! And it would decrement/change back if the user removes a response?

|U03J81L8K6C|:
Yes!

|U03JNHA1YT0|:
Woot! Any chance one of those “rapids” happens during the beta cycle so we see it in action?

--- 
> ####  Rapid Security Response sounds awesome. Is there an ability to set “Install System data and Files” to “On” on iOS with MDM, so that our mutual customers can ensure their user’s devices get the latest security updates? We see macOS is already covered with CriticalUpdateInstall.


|U03HJ8E7YH0|:
Not at this time, but this is great feedback.

--- 
> ####  We're using Jamf Connect in our environment to sync the IDP password (AzureAD) to the local Mac password, but per company initiatives toward a Zero Trust environment, we're looking at separating the local Mac password from the IDP password, similar to Windows Hello for Business. It sounds like Platform SSO, in this iteration, will only do password synching. Would it be possible to make the password synching optional?


|U03HJ8W6CGK|:
You do not need to use password auth / password syncing. You can configure Platform SSO to use a Secure Enclave-backed key for user authentication to the IdP, instead of password-based auth. The IdP must have implemented support for this. But assuming it has, then this will give you (and the user) the desired experience.

|U03JZ6YGT7C|:
Cool. Is there documentation on that available yet?

|U03JE2L47J8|:
<@U03JZ6YGT7C> Developer docs are here: <https://developer.apple.com/documentation/authenticationservices/asauthorizationproviderextensionregistrationhandler>

|U03JE2L47J8|:
Also be sure to check out AppleSeed for IT. It was updated with WWDC information including Platform SSO.

--- 
> ####  The ACME payload docs at the top say iOS/iPadOS/tvOS but the table shows Shared iPad. Can you clarify?


|U03HWTYUEBT|:
This is a great call out! I’ll follow up with our documentation writer to get this correct. In the meantime you can check out our new GitHub docs! <https://github.com/apple/device-management/blob/seed_iOS-16_macOS-13/mdm/profiles/com.apple.security.acme.yaml>

|U03JK5TT8LX|:
Thanks <@U03HWTYUEBT>. We are LOVING the github!

|U03JKQJ4SA0|:
Fully agree with <@U03JK5TT8LX> - a welcome venue to get this documentation. Great idea!

|U03HWTYUEBT|:
<@U03JK5TT8LX> I’m so glad!! It’s something we were so excited to get out for everyone!

--- 
> ####  I could probably figure this out experimentally, but could MCX based custom settings be edited at least temporarily by an admin user modifying plists in "/Library/Managed Preferences" folder?


|U03HWTYUEBT|:
They will persist temporarily but MCX will remove them at an arbitrary time in the future therefore we would not recommend this flow.

|U03JE2L47J8|:
I'm more worried about a user temporarily bypassing a third party software policy temporarily.

|U03HWTYUEBT|:
Great point, please file feedback on this!

|U03JE2L47J8|:
I'll file it. Thanks!

--- 
> ####  Enhancement Request of sorts - while not the most performant, could there be a way to query the device for all information rather than specifying each data point you want?


|U03HWTYUEBT|:
Our goal is to have MDM servers asking for the data they need not just all the data all the time. If there are specific use cases where you believe this would be helpful feel free to file feedback for it.

|U03JK5TT8LX|:
That's fair, thanks <@U03HWTYUEBT>

We did file feedback FB9873561, but really we're just noting that on macOS, if you send no Query key in DeviceInformation, macOS automatically sends back everything. This is undocumented, but we were curious if it would ever be officially supported. Good to know your stance on this one!

|U03HWTYUEBT|:
Definitely something that is not officially supported.

--- 
> ####  Are there improvements to the deferral install notification for the user. Currently it just disappears on click instead of opening system preferences, it also requires the user to expand it to see all the available install options.


|U03HJ8E7YH0|:
Not at this time, but please file feedback if you see this behavior with System Settings.

|U03HZ49UU0M|:
Already have! :slightly_smiling_face: FB9898920

--- 
> ####  Love it, really great for compliance. Is there a way to take advantage of this during authentication? Right now, Okta Verify requires that you put a secret key in the AppConfig of the app for device attestation, but that key can be compromised and is global to the organization. Can this be used during authentication for attestation for device trust?


|U03HLLCBPNG|:
ACME payloads can be used in all the same places as other certificate payloads. Please file feedback about making certificate payloads available to apps and extensions, especially with the detail about its importance to Okta Verify!

|U03JRBCTDTN|:
Ahh, neat, thanks!

--- 
> ####  What is the infrastructure for an ACME server? Consider if in the beginning, MDA is only utilized by Apple devices and not of general interest to other platforms. Would it be a product that MDM cloud vendors could provide? Will it need to be provided by our enterprise infrastructure team to host and network security team to configure? Where is Microsoft in providing ACME services?


|U03HLLCBPNG|:
&gt; What is the infrastructure for an ACME server?
The infrastructure would be an ACME server that incorporates support for the new IETF draft seen here: <https://datatracker.ietf.org/doc/draft-bweeks-acme-device-attest/>

&gt; Consider if in the beginning, MDA is only utilized by Apple devices and not of general interest to other platforms.
If you take a look at the new IETF draft you'll notice it is meant to support the attestation formats of multiple platforms, not just Apple devices.

&gt; Would it be a product that MDM cloud vendors could provide?
There's many possibilities for who runs the ACME server. A likely case is MDM cloud vendors — today, the vast majority of MDM cloud vendors have a CA built in to their products, and implement for SCEP protocol for certificate requests and issuance. If they wanted to implement support for Managed Device Attestation, they would add support for ACME protocol alongside their existing SCEP support.

&gt; Will it need to be provided by our enterprise infrastructure team to host and network security team to configure?
If you are using a cloud based MDM vendor, then answer is probably "no" (see above answer). The exception would be customers with unique environments or needs, who for whatever reason choose to host their own Certificate Authority for issuing client certs. But that model has declined in popularity over time with the industry-wide shift towards cloud-based MDM solutions.

&gt; Where is Microsoft in providing ACME services?
We can't comment on the roadmaps of other companies — we suggest reaching out to the vendors who you would like to see adopt ACME protocol and Managed Device Attestation.

|U03HLLCBPNG|:
Basically anywhere that you currently see a SCEP server, you may in the future see an ACME server.

|U03HLLCBPNG|:
What choice for ACME server ownership would make the most sense for your use cases?

--- 
> ####  Safari per app VPN and AssociatedDomains payload configuration is hard to apply in most real world cases (except custom apps).  But for apps like Slack, Salesforce, Zendesk, and pretty much all popular SaaS apps its almost impossible to specify all the domains that should be associated with the VPN.  In effect, this causes us to recommend Chrome or some other browser as a managed app for these use cases but users obviously prefer Safari.    Are there any plans to improve this?  Having a 2nd Safari that is Managed (similar to Android work profiles that allows install of 2nd instance of Chrome) would be great but even a better way to configure AssociatedDomains based on address bar url (rather than ALL http requests domains) would be a major step forward.


|U03J81L8K6C|:
This isn't related to attestation, unless I missed something? In general, we can't comment on future plans, but we understand your point! Please file a feedback for this so we can record your interest!!

|U03HWHSA6KY|:
Unrelated sorry.. i missed the other days and more a  general questions

|U03HWHSA6KY|:
FB9891440 is the feedback item filed for this

|U03J81L8K6C|:
Ah, great! I can see it!
